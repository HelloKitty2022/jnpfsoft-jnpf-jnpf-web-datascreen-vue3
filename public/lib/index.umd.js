(function(r,E){typeof exports=="object"&&typeof module!="undefined"?module.exports=E(require("vue"),require("axios")):typeof define=="function"&&define.amd?define(["vue","axios"],E):(r=typeof globalThis!="undefined"?globalThis:r||self,r.AvueData=E(r.Vue,r.axios))})(this,function(vue,axios){"use strict";var Ne=Object.defineProperty;var Fe=(r,E,m)=>E in r?Ne(r,E,{enumerable:!0,configurable:!0,writable:!0,value:m}):r[E]=m;var xe=(r,E,m)=>(Fe(r,typeof E!="symbol"?E+"":E,m),m);function _interopDefaultLegacy(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var axios__default=_interopDefaultLegacy(axios),common$1={COMPNAME:"avue-echart-",NAME:"list",DEAFNAME:"item"};const website=window.$website,url=website.url,config$1={width:1920,height:1080,query:`function(){
    return window.$glob.params || {}
}`,header:`function(){
    return window.$glob.params || {}
}`,screen:"x",mark:{show:!1,text:"",fontSize:20,color:"rgba(100,100,100,0.2)",degree:-20},scale:1,backgroundImage:"/img/bg/bg.png",url:"",gradeShow:!1,gradeLen:30};["data","vue","common","datav","text","wordcloud","img","tabs","map","video","clapper","pie","pictorialbar","iframe","swiper","flop","bar","line","progress","table","gauge","funnel","scatter","radar","img","imgborder","imgList","imgTabs","rectangle"].concat(website.componentsList.filter(r=>r.data===!0).map(r=>r.name)),["bounce","bounceIn","fadeInDownBig","fadeInLeftBig","fadeInRightBig","fadeInUpBig","flip","flipInX","flipInY"].map(r=>({label:r,value:r}));var _export_sfc=(r,E)=>{const m=r.__vccOpts||r;for(const[x,k]of E)m[x]=k;return m};const _sfc_main$C={data(){return{value:"",dialogVisible:!1}},computed:{isBuild(){return this.$route?this.$route.name==="build":!1}},mounted(){},methods:{show(){this.isBuild||this.$Watermark({text:"avue-data\u6570\u636E\u5927\u5C4F\u6F14\u793A\u7248",color:"rgba(255,0,0,.4)"}),!window.localStorage.getItem("avue_lock")&&(this.dialogVisible=!0)},submit(){if(this.value==""){this.$message.error("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}else if(this.value!="avue"){this.$message.error("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E");return}this.dialogVisible=!1,window.localStorage.setItem("avue_lock",!0)}}},_hoisted_1$e=vue.createElementVNode("span",null,[vue.createTextVNode(" \u626B\u7801\u4E0B\u65B9\u4E8C\u7EF4\u7801\uFF0C\u56DE\u590D"),vue.createElementVNode("b",null,"\u3010\u5927\u5C4F\u9A8C\u8BC1\u7801\u3011"),vue.createElementVNode("br"),vue.createElementVNode("span",{style:{color:"red"}},"\u83B7\u5F97\u300C\u9A8C\u8BC1\u7801 + \u4EA4\u6D41\u7FA4(\u4E00\u8D77\u6478\u{1F41F})\u300D")],-1),_hoisted_2$7=vue.createElementVNode("br",null,null,-1),_hoisted_3$2=vue.createElementVNode("br",null,null,-1),_hoisted_4$1=vue.createElementVNode("img",{width:"200",src:"https://avuejs.com/images/icon/wechat.png"},null,-1),_hoisted_5$1=vue.createElementVNode("br",null,null,-1),_hoisted_6$1=vue.createElementVNode("br",null,null,-1),_hoisted_7$1={class:"dialog-footer"};function _sfc_render$C(r,E,m,x,k,p){const d=vue.resolveComponent("el-input"),c=vue.resolveComponent("center"),f=vue.resolveComponent("el-button"),n=vue.resolveComponent("el-dialog");return vue.openBlock(),vue.createBlock(n,{center:"","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":"",modelValue:k.dialogVisible,"onUpdate:modelValue":E[1]||(E[1]=e=>k.dialogVisible=e),title:"\u4EBA\u673A\u8BC6\u522B",width:"400px"},{footer:vue.withCtx(()=>[vue.createElementVNode("span",_hoisted_7$1,[vue.createVNode(f,{type:"primary",onClick:p.submit},{default:vue.withCtx(()=>[vue.createTextVNode("\u786E \u8BA4")]),_:1},8,["onClick"])])]),default:vue.withCtx(()=>[vue.createVNode(c,null,{default:vue.withCtx(()=>[_hoisted_1$e,_hoisted_2$7,_hoisted_3$2,_hoisted_4$1,_hoisted_5$1,_hoisted_6$1,vue.createVNode(d,{modelValue:k.value,"onUpdate:modelValue":E[0]||(E[0]=e=>k.value=e),placeholder:"\u8BF7\u8F93\u5165\u5927\u5C4F\u9A8C\u8BC1\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])}var wechat=_export_sfc(_sfc_main$C,[["render",_sfc_render$C]]),index_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$B={name:"imgList",data(){return{step:this.option.step,box:!1,item:{}}},components:{},props:{option:Object,component:Object},watch:{"option.step"(r){this.step=r}},computed:{defaultOption(){return{step:this.step,limitMoveNum:this.dataChart.length,hoverStop:this.option.hoverStop,direction:this.option.direction,openWatch:!0,singleHeight:0,singleWidth:0,waitTime:1e3}}},methods:{updateChart(){this.$refs.seamlessScroll.reset()},openClick(r){const E=r.target,m=E.dataset.index,x=this.dataChart[m];E.tagName==="IMG"?this.openImg(x):this.openBox(x)},openImg(r){this.step=0,this.$ImagePreview([{url:r.img}],0,{beforeClose:()=>{this.step=this.option.step}})},closeBox(r){this.step=this.option.step,r()},openBox(r){this.step=0,this.item=r,this.box=!0,this.updateClick({item:r})}}},_hoisted_1$d=["data-index"],_hoisted_2$6=["data-index"],_hoisted_3$1=["data-index","src"],_hoisted_4=["data-index"],_hoisted_5=["data-index"],_hoisted_6=["data-index"],_hoisted_7=["data-index"],_hoisted_8=["data-index"],_hoisted_9=["data-index"],_hoisted_10={style:{color:"#fff"}};function _sfc_render$B(r,E,m,x,k,p){const d=vue.resolveComponent("vue-seamless-scroll"),c=vue.resolveComponent("el-dialog");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["imgItem",r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("ul",{class:"imgItem_box",onClick:E[0]||(E[0]=(...f)=>p.openClick&&p.openClick(...f))},[vue.createVNode(d,{ref:"seamlessScroll",style:vue.normalizeStyle(r.styleChartName),data:r.dataChart,"class-option":p.defaultOption},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.dataChart,(f,n)=>(vue.openBlock(),vue.createElementBlock("li",{class:"imgItem_item","data-index":n,style:vue.normalizeStyle({borderColor:f.color}),key:n},[vue.createElementVNode("div",{"data-index":n,class:"imgItem_bg",style:vue.normalizeStyle({backgroundColor:f.color})},null,12,_hoisted_2$6),vue.createElementVNode("img",{"data-index":n,class:"imgItem_img",src:f.img,alt:""},null,8,_hoisted_3$1),vue.createElementVNode("div",{"data-index":n,class:"imgItem_middle"},[vue.createElementVNode("div",{"data-index":n,class:"imgItem_time"},vue.toDisplayString(f.time),9,_hoisted_5),vue.createElementVNode("div",{"data-index":n},vue.toDisplayString(f.date),9,_hoisted_6)],8,_hoisted_4),vue.createElementVNode("div",{"data-index":n,class:"imgItem_footer"},[vue.createElementVNode("div",{"data-index":n,class:"imgItem_name"},vue.toDisplayString(f.name),9,_hoisted_8),vue.createElementVNode("div",{"data-index":n},vue.toDisplayString(f.dept),9,_hoisted_9)],8,_hoisted_7)],12,_hoisted_1$d))),128))]),_:1},8,["style","data","class-option"])]),vue.createVNode(c,{"append-to-body":"","before-close":p.closeBox,modelValue:k.box,"onUpdate:modelValue":E[1]||(E[1]=f=>k.box=f),width:"40%"},{default:vue.withCtx(()=>[vue.createElementVNode("ul",_hoisted_10,[vue.createElementVNode("li",null,"\u59D3\u540D:"+vue.toDisplayString(k.item.name),1),vue.createElementVNode("li",null,"\u90E8\u95E8:"+vue.toDisplayString(k.item.dept),1),vue.createElementVNode("li",null,"\u65E5\u671F:"+vue.toDisplayString(k.item.date),1),vue.createElementVNode("li",null,"\u65F6\u95F4:"+vue.toDisplayString(k.item.time),1)])]),_:1},8,["before-close","modelValue"])],6)}var index$w=_export_sfc(_sfc_main$B,[["render",_sfc_render$B],["__scopeId","data-v-292df01b"]]),__glob_3_0=Object.freeze(Object.defineProperty({__proto__:null,default:index$w},Symbol.toStringTag,{value:"Module"}));const _sfc_main$A={name:"imgList",inject:["main"],data(){return{dic:[{label:"\u5411\u4E0A",value:0},{label:"\u5411\u4E0B",value:1}]}}};function _sfc_render$A(r,E,m,x,k,p){const d=vue.resolveComponent("avue-switch"),c=vue.resolveComponent("el-form-item"),f=vue.resolveComponent("avue-input-number"),n=vue.resolveComponent("avue-select");return vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(c,{label:"\u60AC\u505C\u662F\u5426\u505C\u6B62"},{default:vue.withCtx(()=>[vue.createVNode(d,{modelValue:p.main.activeOption.hoverStop,"onUpdate:modelValue":E[0]||(E[0]=e=>p.main.activeOption.hoverStop=e)},null,8,["modelValue"])]),_:1}),vue.createVNode(c,{label:"\u6EDA\u52A8\u65F6\u95F4"},{default:vue.withCtx(()=>[vue.createVNode(f,{modelValue:p.main.activeOption.step,"onUpdate:modelValue":E[1]||(E[1]=e=>p.main.activeOption.step=e)},null,8,["modelValue"])]),_:1}),vue.createVNode(c,{label:"\u65B9\u5411"},{default:vue.withCtx(()=>[vue.createVNode(n,{modelValue:p.main.activeOption.direction,"onUpdate:modelValue":E[2]||(E[2]=e=>p.main.activeOption.direction=e),dic:k.dic},null,8,["modelValue","dic"])]),_:1})])}var option$1=_export_sfc(_sfc_main$A,[["render",_sfc_render$A]]),__glob_3_1=Object.freeze(Object.defineProperty({__proto__:null,default:option$1},Symbol.toStringTag,{value:"Module"})),index_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$z={name:"imgTabs",data(){return{check:null,count:0,active:{}}},props:{option:Object,component:Object},computed:{time(){return this.option.time}},watch:{count(r){this.active=this.dataChart[r].list},dataChart(r){this.active=r&&r[0].list},time(r){clearInterval(this.check),r>0&&this.handleTime()}},mounted(){this.handleTime()},methods:{handleTime(){this.check=setInterval(()=>{this.count++,this.count>=this.dataChart.length&&(this.count=0)},this.time)},handleItem(r){this.count=r}}},_hoisted_1$c={class:"imgTabs__list"},_hoisted_2$5=["onClick"],_hoisted_3={class:"imgTabs__carousel"};function _sfc_render$z(r,E,m,x,k,p){const d=vue.resolveComponent("el-image"),c=vue.resolveComponent("el-carousel-item"),f=vue.resolveComponent("el-carousel");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["imgTabs",r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.styleChartName)},[vue.createElementVNode("div",_hoisted_1$c,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.dataChart,(n,e)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["imgTabs__item",{"imgTabs--active":e==k.count}]),key:e,onClick:o=>p.handleItem(e)},[vue.createElementVNode("span",null,vue.toDisplayString(n.text),1)],10,_hoisted_2$5))),128))]),vue.createElementVNode("div",_hoisted_3,[vue.createVNode(f,{direction:m.option.direction,interval:m.option.interval,autoplay:m.option.autoplay},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(k.active,(n,e)=>(vue.openBlock(),vue.createBlock(c,{key:e},{default:vue.withCtx(()=>[vue.createVNode(d,{style:{width:"100%"},src:n,fit:"cover"},null,8,["src"])]),_:2},1024))),128))]),_:1},8,["direction","interval","autoplay"])])],4)],6)}var index$v=_export_sfc(_sfc_main$z,[["render",_sfc_render$z],["__scopeId","data-v-06678604"]]),__glob_3_2=Object.freeze(Object.defineProperty({__proto__:null,default:index$v},Symbol.toStringTag,{value:"Module"}));const _sfc_main$y={name:"imgTabs",inject:["main"]};function _sfc_render$y(r,E,m,x,k,p){const d=vue.resolveComponent("avue-input-number"),c=vue.resolveComponent("el-form-item"),f=vue.resolveComponent("avue-switch"),n=vue.resolveComponent("el-option"),e=vue.resolveComponent("el-select");return vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(c,{label:"\u9009\u9879\u5361\u65F6\u95F4"},{default:vue.withCtx(()=>[vue.createVNode(d,{modelValue:p.main.activeOption.time,"onUpdate:modelValue":E[0]||(E[0]=o=>p.main.activeOption.time=o)},null,8,["modelValue"])]),_:1}),vue.createVNode(c,{label:"\u81EA\u52A8\u64AD\u653E"},{default:vue.withCtx(()=>[vue.createVNode(f,{modelValue:p.main.activeOption.autoplay,"onUpdate:modelValue":E[1]||(E[1]=o=>p.main.activeOption.autoplay=o)},null,8,["modelValue"])]),_:1}),vue.createVNode(c,{label:"\u8D70\u9A6C\u706F\u65F6\u95F4"},{default:vue.withCtx(()=>[vue.createVNode(d,{modelValue:p.main.activeOption.interval,"onUpdate:modelValue":E[2]||(E[2]=o=>p.main.activeOption.interval=o)},null,8,["modelValue"])]),_:1}),vue.createVNode(c,{label:"\u8D70\u9A6C\u706F\u65B9\u5411"},{default:vue.withCtx(()=>[vue.createVNode(e,{modelValue:p.main.activeOption.direction,"onUpdate:modelValue":E[3]||(E[3]=o=>p.main.activeOption.direction=o)},{default:vue.withCtx(()=>[vue.createVNode(n,{key:"horizontal",label:"\u6C34\u5E73",value:"horizontal"}),vue.createVNode(n,{key:"vertical",label:"\u5782\u76F4",value:"vertical"})]),_:1},8,["modelValue"])]),_:1})])}var option=_export_sfc(_sfc_main$y,[["render",_sfc_render$y]]),__glob_3_3=Object.freeze(Object.defineProperty({__proto__:null,default:option},Symbol.toStringTag,{value:"Module"}));const addParam=r=>{let E=[];for(let m in r)E.push(`${m}=${r[m]}`);return E.length==0?"":`?${E.join("&")}`},getObjType=r=>{var E=Object.prototype.toString,m={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return r instanceof Element?"element":m[E.call(r)]},deepClone=r=>{var E=getObjType(r),m;if(E==="array")m=[];else if(E==="object")m={};else return r;if(E==="array")for(var x=0,k=r.length;x<k;x++)r[x]=(()=>(r[x]===0,r[x]))(),r[x]&&delete r[x].$parent,m.push(deepClone(r[x]));else if(E==="object")for(var p in r)r&&delete r.$parent,m[p]=deepClone(r[p]);return m};function validatenull(r){if(r&&parseInt(r)===0)return!1;const E=["$parent"];if(r instanceof Date||typeof r=="boolean"||typeof r=="number")return!1;if(r instanceof Array){if(r.length===0)return!0}else if(r instanceof Object){r=deepClone(r),E.forEach(x=>{delete r[x]});for(var m in r)return!1;return!0}else return r==="null"||r==null||r==="undefined"||r===void 0||r==="";return!1}const setPx=(r,E="")=>(validatenull(r)&&(r=E),validatenull(r)?"":(r=r+"",r.indexOf("%")===-1&&(r=r+"px"),r)),loadFont=(r="")=>{function E(k){const p=document.fonts.values();let d=!1,c=p.next();for(;!c.done&&!d;)return c.value.family===k&&(d=!0),d}const m=".ttf";if(r.indexOf(m)==-1)return;let x=r.substr(r.lastIndexOf("/")+1).replace(m,"");return document.fonts&&!E(x)&&new FontFace(x,`local('${x}'),url('${r}')`).load().then(p=>document.fonts.add(p)),x},KEY_COMPONENT_NAME="avue-echart-";var config={name:KEY_COMPONENT_NAME,echart:["common","map","pictorialbar","wordcloud","scatter","bar","line","pie","gauge","funnel","radar","rectangle"]},commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mqtt$1={exports:{}};(function(r,E){(function(m){r.exports=m()})(function(){return function(){function m(x,k,p){function d(n,e){if(!k[n]){if(!x[n]){var o=typeof commonjsRequire=="function"&&commonjsRequire;if(!e&&o)return o(n,!0);if(c)return c(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var i=k[n]={exports:{}};x[n][0].call(i.exports,function(u){var a=x[n][1][u];return d(a||u)},i,i.exports,m,x,k,p)}return k[n].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,f=0;f<p.length;f++)d(p[f]);return d}return m}()({1:[function(m,x,k){(function(p,d){(function(){const c=m("events").EventEmitter,f=m("./store"),n=m("./topic-alias-recv"),e=m("./topic-alias-send"),o=m("mqtt-packet"),t=m("./default-message-id-provider"),i=m("readable-stream").Writable,u=m("inherits"),a=m("reinterval"),v=m("rfdc/default"),g=m("./validations"),l=m("xtend"),s=m("debug")("mqttjs:client"),y=p?p.nextTick:function(A){setTimeout(A,0)},S=d.setImmediate||function(A){y(A)},T={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},O=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],L={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function M(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function I(A,P){if(A.options.protocolVersion===5&&P.cmd==="publish"){let U;P.properties&&(U=P.properties.topicAlias);const F=P.topic.toString();if(A.topicAliasSend)if(U){if(F.length!==0&&(s("applyTopicAlias :: register topic: %s - alias: %d",F,U),!A.topicAliasSend.put(F,U)))return s("applyTopicAlias :: error out of range. topic: %s - alias: %d",F,U),new Error("Sending Topic Alias out of range")}else F.length!==0&&(A.options.autoAssignTopicAlias?(U=A.topicAliasSend.getAliasByTopic(F),U?(P.topic="",P.properties={...P.properties,topicAlias:U},s("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",F,U)):(U=A.topicAliasSend.getLruAlias(),A.topicAliasSend.put(F,U),P.properties={...P.properties,topicAlias:U},s("applyTopicAlias :: auto assign topic: %s - alias: %d",F,U))):A.options.autoUseTopicAlias&&(U=A.topicAliasSend.getAliasByTopic(F),U&&(P.topic="",P.properties={...P.properties,topicAlias:U},s("applyTopicAlias :: auto use topic: %s - alias: %d",F,U))));else if(U)return s("applyTopicAlias :: error out of range. topic: %s - alias: %d",F,U),new Error("Sending Topic Alias out of range")}}function h(A,P){let U;P.properties&&(U=P.properties.topicAlias);let F=P.topic.toString();if(F.length===0){if(typeof U=="undefined")return new Error("Unregistered Topic Alias");if(F=A.topicAliasSend.getTopicByAlias(U),typeof F=="undefined")return new Error("Unregistered Topic Alias");P.topic=F}U&&delete P.properties.topicAlias}function C(A,P,U){s("sendPacket :: packet: %O",P),s("sendPacket :: emitting `packetsend`"),A.emit("packetsend",P),s("sendPacket :: writing to stream");const F=o.writeToStream(P,A.stream,A.options);s("sendPacket :: writeToStream result %s",F),!F&&U&&U!==H?(s("sendPacket :: handle events on `drain` once through callback."),A.stream.once("drain",U)):U&&(s("sendPacket :: invoking cb"),U())}function _(A){A&&(s("flush: queue exists? %b",!!A),Object.keys(A).forEach(function(P){typeof A[P].cb=="function"&&(A[P].cb(new Error("Connection closed")),delete A[P])}))}function z(A){A&&(s("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(A).forEach(function(P){A[P].volatile&&typeof A[P].cb=="function"&&(A[P].cb(new Error("Connection closed")),delete A[P])}))}function N(A,P,U,F){s("storeAndSend :: store packet with cmd %s to outgoingStore",P.cmd);let K=P,Q;if(K.cmd==="publish"&&(K=v(P),Q=h(A,K),Q))return U&&U(Q);A.outgoingStore.put(K,function(Y){if(Y)return U&&U(Y);F(),C(A,P,U)})}function H(A){s("nop ::",A)}function q(A,P){let U;const F=this;if(!(this instanceof q))return new q(A,P);this.options=P||{};for(U in T)typeof this.options[U]=="undefined"?this.options[U]=T[U]:this.options[U]=P[U];s("MqttClient :: options.protocol",P.protocol),s("MqttClient :: options.protocolVersion",P.protocolVersion),s("MqttClient :: options.username",P.username),s("MqttClient :: options.keepalive",P.keepalive),s("MqttClient :: options.reconnectPeriod",P.reconnectPeriod),s("MqttClient :: options.rejectUnauthorized",P.rejectUnauthorized),s("MqttClient :: options.topicAliasMaximum",P.topicAliasMaximum),this.options.clientId=typeof P.clientId=="string"?P.clientId:M(),s("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=P.protocolVersion===5&&P.customHandleAcks?P.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider=="undefined"?new t:this.options.messageIdProvider,this.outgoingStore=P.outgoingStore||new f,this.incomingStore=P.incomingStore||new f,this.queueQoSZero=P.queueQoSZero===void 0?!0:P.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,P.topicAliasMaximum>0&&(P.topicAliasMaximum>65535?s("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new n(P.topicAliasMaximum)),this.on("connect",function(){const K=this.queue;function Q(){const j=K.shift();s("deliver :: entry %o",j);let Y=null;if(!j){F._resubscribe();return}Y=j.packet,s("deliver :: call _sendPacket for %o",Y);let re=!0;Y.messageId&&Y.messageId!==0&&(F.messageIdProvider.register(Y.messageId)||(re=!1)),re?F._sendPacket(Y,function(ne){j.cb&&j.cb(ne),Q()}):(s("messageId: %d has already used. The message is skipped and removed.",Y.messageId),Q())}s("connect :: sending queued packets"),Q()}),this.on("close",function(){s("close :: connected set to `false`"),this.connected=!1,s("close :: clearing connackTimer"),clearTimeout(this.connackTimer),s("close :: clearing ping timer"),F.pingTimer!==null&&(F.pingTimer.clear(),F.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),s("close :: calling _setupReconnect"),this._setupReconnect()}),c.call(this),s("MqttClient :: setting up stream"),this._setupStream()}u(q,c),q.prototype._setupStream=function(){const A=this,P=new i,U=o.parser(this.options);let F=null;const K=[];s("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),s("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),U.on("packet",function(ne){s("parser :: on packet push to packets array."),K.push(ne)});function Q(){if(K.length)y(j);else{const ne=F;F=null,ne()}}function j(){s("work :: getting next packet in queue");const ne=K.shift();if(ne)s("work :: packet pulled from queue"),A._handlePacket(ne,Q);else{s("work :: no packets in queue");const le=F;F=null,s("work :: done flag is %s",!!le),le&&le()}}P._write=function(ne,le,oe){F=oe,s("writable stream :: parsing buffer"),U.parse(ne),j()};function Y(ne){s("streamErrorHandler :: error",ne.message),O.includes(ne.code)?(s("streamErrorHandler :: emitting error"),A.emit("error",ne)):H(ne)}s("_setupStream :: pipe stream to writable stream"),this.stream.pipe(P),this.stream.on("error",Y),this.stream.on("close",function(){s("(%s)stream :: on close",A.options.clientId),z(A.outgoing),s("stream: emit close to MqttClient"),A.emit("close")}),s("_setupStream: sending packet `connect`");const re=Object.create(this.options);if(re.cmd="connect",this.topicAliasRecv&&(re.properties||(re.properties={}),this.topicAliasRecv&&(re.properties.topicAliasMaximum=this.topicAliasRecv.max)),C(this,re),U.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return A.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const ne=l({cmd:"auth",reasonCode:0},this.options.authPacket);C(this,ne)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){s("!!connectTimeout hit!! Calling _cleanUp with force `true`"),A._cleanUp(!0)},this.options.connectTimeout)},q.prototype._handlePacket=function(A,P){const U=this.options;if(U.protocolVersion===5&&U.properties&&U.properties.maximumPacketSize&&U.properties.maximumPacketSize<A.length)return this.emit("error",new Error("exceeding packets size "+A.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(s("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",A),A.cmd){case"publish":this._handlePublish(A,P);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(A),P();break;case"pubrel":this._handlePubrel(A,P);break;case"connack":this._handleConnack(A),P();break;case"auth":this._handleAuth(A),P();break;case"pingresp":this._handlePingresp(A),P();break;case"disconnect":this._handleDisconnect(A),P();break}},q.prototype._checkDisconnecting=function(A){return this.disconnecting&&(A&&A!==H?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},q.prototype.publish=function(A,P,U,F){s("publish :: message `%s` to topic `%s`",P,A);const K=this.options;if(typeof U=="function"&&(F=U,U=null),U=l({qos:0,retain:!1,dup:!1},U),this._checkDisconnecting(F))return this;const j=this,Y=function(){let re=0;if((U.qos===1||U.qos===2)&&(re=j._nextId(),re===null))return s("No messageId left"),!1;const ne={cmd:"publish",topic:A,payload:P,qos:U.qos,retain:U.retain,messageId:re,dup:U.dup};switch(K.protocolVersion===5&&(ne.properties=U.properties),s("publish :: qos",U.qos),U.qos){case 1:case 2:j.outgoing[ne.messageId]={volatile:!1,cb:F||H},s("MqttClient:publish: packet cmd: %s",ne.cmd),j._sendPacket(ne,void 0,U.cbStorePut);break;default:s("MqttClient:publish: packet cmd: %s",ne.cmd),j._sendPacket(ne,F,U.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Y())&&this._storeProcessingQueue.push({invoke:Y,cbStorePut:U.cbStorePut,callback:F}),this},q.prototype.subscribe=function(){const A=this,P=new Array(arguments.length);for(let oe=0;oe<arguments.length;oe++)P[oe]=arguments[oe];const U=[];let F=P.shift();const K=F.resubscribe;let Q=P.pop()||H,j=P.pop();const Y=this.options.protocolVersion;delete F.resubscribe,typeof F=="string"&&(F=[F]),typeof Q!="function"&&(j=Q,Q=H);const re=g.validateTopics(F);if(re!==null)return S(Q,new Error("Invalid topic "+re)),this;if(this._checkDisconnecting(Q))return s("subscribe: discconecting true"),this;const ne={qos:0};if(Y===5&&(ne.nl=!1,ne.rap=!1,ne.rh=0),j=l(ne,j),Array.isArray(F)?F.forEach(function(oe){if(s("subscribe: array topic %s",oe),!Object.prototype.hasOwnProperty.call(A._resubscribeTopics,oe)||A._resubscribeTopics[oe].qos<j.qos||K){const Z={topic:oe,qos:j.qos};Y===5&&(Z.nl=j.nl,Z.rap=j.rap,Z.rh=j.rh,Z.properties=j.properties),s("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),U.push(Z)}}):Object.keys(F).forEach(function(oe){if(s("subscribe: object topic %s",oe),!Object.prototype.hasOwnProperty.call(A._resubscribeTopics,oe)||A._resubscribeTopics[oe].qos<F[oe].qos||K){const Z={topic:oe,qos:F[oe].qos};Y===5&&(Z.nl=F[oe].nl,Z.rap=F[oe].rap,Z.rh=F[oe].rh,Z.properties=j.properties),s("subscribe: pushing `%s` to subs list",Z),U.push(Z)}}),!U.length)return Q(null,[]),this;const le=function(){const oe=A._nextId();if(oe===null)return s("No messageId left"),!1;const Z={cmd:"subscribe",subscriptions:U,qos:1,retain:!1,dup:!1,messageId:oe};if(j.properties&&(Z.properties=j.properties),A.options.resubscribe){s("subscribe :: resubscribe true");const G=[];U.forEach(function(te){if(A.options.reconnectPeriod>0){const W={qos:te.qos};Y===5&&(W.nl=te.nl||!1,W.rap=te.rap||!1,W.rh=te.rh||0,W.properties=te.properties),A._resubscribeTopics[te.topic]=W,G.push(te.topic)}}),A.messageIdToTopic[Z.messageId]=G}return A.outgoing[Z.messageId]={volatile:!0,cb:function(G,te){if(!G){const W=te.granted;for(let V=0;V<W.length;V+=1)U[V].qos=W[V]}Q(G,U)}},s("subscribe :: call _sendPacket"),A._sendPacket(Z),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!le())&&this._storeProcessingQueue.push({invoke:le,callback:Q}),this},q.prototype.unsubscribe=function(){const A=this,P=new Array(arguments.length);for(let Y=0;Y<arguments.length;Y++)P[Y]=arguments[Y];let U=P.shift(),F=P.pop()||H,K=P.pop();typeof U=="string"&&(U=[U]),typeof F!="function"&&(K=F,F=H);const Q=g.validateTopics(U);if(Q!==null)return S(F,new Error("Invalid topic "+Q)),this;if(A._checkDisconnecting(F))return this;const j=function(){const Y=A._nextId();if(Y===null)return s("No messageId left"),!1;const re={cmd:"unsubscribe",qos:1,messageId:Y};return typeof U=="string"?re.unsubscriptions=[U]:Array.isArray(U)&&(re.unsubscriptions=U),A.options.resubscribe&&re.unsubscriptions.forEach(function(ne){delete A._resubscribeTopics[ne]}),typeof K=="object"&&K.properties&&(re.properties=K.properties),A.outgoing[re.messageId]={volatile:!0,cb:F},s("unsubscribe: call _sendPacket"),A._sendPacket(re),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!j())&&this._storeProcessingQueue.push({invoke:j,callback:F}),this},q.prototype.end=function(A,P,U){const F=this;s("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(U=P||H,P=A,A=!1,typeof P!="object"&&(U=P,P=null,typeof U!="function"&&(U=H))),typeof P!="object"&&(U=P,P=null),s("end :: cb? %s",!!U),U=U||H;function K(){s("end :: closeStores: closing incoming and outgoing stores"),F.disconnected=!0,F.incomingStore.close(function(j){F.outgoingStore.close(function(Y){if(s("end :: closeStores: emitting end"),F.emit("end"),U){const re=j||Y;s("end :: closeStores: invoking callback with args"),U(re)}})}),F._deferredReconnect&&F._deferredReconnect()}function Q(){s("end :: (%s) :: finish :: calling _cleanUp with force %s",F.options.clientId,A),F._cleanUp(A,()=>{s("end :: finish :: calling process.nextTick on closeStores"),y(K.bind(F))},P)}return this.disconnecting?(U(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(s("end :: (%s) :: calling finish in 10ms once outgoing is empty",F.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Q,10))):(s("end :: (%s) :: immediately calling finish",F.options.clientId),Q()),this)},q.prototype.removeOutgoingMessage=function(A){const P=this.outgoing[A]?this.outgoing[A].cb:null;return delete this.outgoing[A],this.outgoingStore.del({messageId:A},function(){P(new Error("Message removed"))}),this},q.prototype.reconnect=function(A){s("client reconnect");const P=this,U=function(){A?(P.options.incomingStore=A.incomingStore,P.options.outgoingStore=A.outgoingStore):(P.options.incomingStore=null,P.options.outgoingStore=null),P.incomingStore=P.options.incomingStore||new f,P.outgoingStore=P.options.outgoingStore||new f,P.disconnecting=!1,P.disconnected=!1,P._deferredReconnect=null,P._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=U:U(),this},q.prototype._reconnect=function(){s("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),s("client already connected. disconnecting first.")):(s("_reconnect: calling _setupStream"),this._setupStream())},q.prototype._setupReconnect=function(){const A=this;!A.disconnecting&&!A.reconnectTimer&&A.options.reconnectPeriod>0?(this.reconnecting||(s("_setupReconnect :: emit `offline` state"),this.emit("offline"),s("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),s("_setupReconnect :: setting reconnectTimer for %d ms",A.options.reconnectPeriod),A.reconnectTimer=setInterval(function(){s("reconnectTimer :: reconnect triggered!"),A._reconnect()},A.options.reconnectPeriod)):s("_setupReconnect :: doing nothing...")},q.prototype._clearReconnect=function(){s("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},q.prototype._cleanUp=function(A,P){const U=arguments[2];if(P&&(s("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",P)),s("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&_(this.outgoing),s("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const F=l({cmd:"disconnect"},U);s("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(F,S.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(s("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(s("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),P&&!this.connected&&(s("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",P),P())},q.prototype._sendPacket=function(A,P,U){s("_sendPacket :: (%s) ::  start",this.options.clientId),U=U||H,P=P||H;const F=I(this,A);if(F){P(F);return}if(!this.connected){if(A.cmd==="auth"){this._shiftPingInterval(),C(this,A,P);return}s("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,P,U);return}switch(this._shiftPingInterval(),A.cmd){case"publish":break;case"pubrel":N(this,A,P,U);return;default:C(this,A,P);return}switch(A.qos){case 2:case 1:N(this,A,P,U);break;case 0:default:C(this,A,P);break}s("_sendPacket :: (%s) ::  end",this.options.clientId)},q.prototype._storePacket=function(A,P,U){s("_storePacket :: packet: %o",A),s("_storePacket :: cb? %s",!!P),U=U||H;let F=A;if(F.cmd==="publish"){F=v(A);const K=h(this,F);if(K)return P&&P(K)}(F.qos||0)===0&&this.queueQoSZero||F.cmd!=="publish"?this.queue.push({packet:F,cb:P}):F.qos>0?(P=this.outgoing[F.messageId]?this.outgoing[F.messageId].cb:null,this.outgoingStore.put(F,function(K){if(K)return P&&P(K);U()})):P&&P(new Error("No connection to broker"))},q.prototype._setupPingTimer=function(){s("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const A=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=a(function(){A._checkPing()},this.options.keepalive*1e3))},q.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},q.prototype._checkPing=function(){s("_checkPing :: checking ping..."),this.pingResp?(s("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(s("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},q.prototype._handlePingresp=function(){this.pingResp=!0},q.prototype._handleConnack=function(A){s("_handleConnack");const P=this.options,F=P.protocolVersion===5?A.reasonCode:A.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,A.properties){if(A.properties.topicAliasMaximum){if(A.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}A.properties.topicAliasMaximum>0&&(this.topicAliasSend=new e(A.properties.topicAliasMaximum))}A.properties.serverKeepAlive&&P.keepalive&&(P.keepalive=A.properties.serverKeepAlive,this._shiftPingInterval()),A.properties.maximumPacketSize&&(P.properties||(P.properties={}),P.properties.maximumPacketSize=A.properties.maximumPacketSize)}if(F===0)this.reconnecting=!1,this._onConnect(A);else if(F>0){const K=new Error("Connection refused: "+L[F]);K.code=F,this.emit("error",K)}},q.prototype._handleAuth=function(A){const U=this.options.protocolVersion,F=U===5?A.reasonCode:A.returnCode;if(U!==5){const Q=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+U);Q.code=F,this.emit("error",Q);return}const K=this;this.handleAuth(A,function(Q,j){if(Q){K.emit("error",Q);return}if(F===24)K.reconnecting=!1,K._sendPacket(j);else{const Y=new Error("Connection refused: "+L[F]);Q.code=F,K.emit("error",Y)}})},q.prototype.handleAuth=function(A,P){P()},q.prototype._handlePublish=function(A,P){s("_handlePublish: packet %o",A),P=typeof P!="undefined"?P:H;let U=A.topic.toString();const F=A.payload,K=A.qos,Q=A.messageId,j=this,Y=this.options,re=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let ne;if(A.properties&&(ne=A.properties.topicAlias),typeof ne!="undefined")if(U.length===0)if(ne>0&&ne<=65535){const le=this.topicAliasRecv.getTopicByAlias(ne);if(le)U=le,s("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",U,ne);else{s("_handlePublish :: unregistered topic alias. alias: %d",ne),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{s("_handlePublish :: topic alias out of range. alias: %d",ne),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(U,ne))s("_handlePublish :: registered topic: %s - alias: %d",U,ne);else{s("_handlePublish :: topic alias out of range. alias: %d",ne),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(s("_handlePublish: qos %d",K),K){case 2:{Y.customHandleAcks(U,F,A,function(ne,le){if(ne instanceof Error||(le=ne,ne=null),ne)return j.emit("error",ne);if(re.indexOf(le)===-1)return j.emit("error",new Error("Wrong reason code for pubrec"));le?j._sendPacket({cmd:"pubrec",messageId:Q,reasonCode:le},P):j.incomingStore.put(A,function(){j._sendPacket({cmd:"pubrec",messageId:Q},P)})});break}case 1:{Y.customHandleAcks(U,F,A,function(ne,le){if(ne instanceof Error||(le=ne,ne=null),ne)return j.emit("error",ne);if(re.indexOf(le)===-1)return j.emit("error",new Error("Wrong reason code for puback"));le||j.emit("message",U,F,A),j.handleMessage(A,function(oe){if(oe)return P&&P(oe);j._sendPacket({cmd:"puback",messageId:Q,reasonCode:le},P)})});break}case 0:this.emit("message",U,F,A),this.handleMessage(A,P);break;default:s("_handlePublish: unknown QoS. Doing nothing.");break}},q.prototype.handleMessage=function(A,P){P()},q.prototype._handleAck=function(A){const P=A.messageId,U=A.cmd;let F=null;const K=this.outgoing[P]?this.outgoing[P].cb:null,Q=this;let j;if(!K){s("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(s("_handleAck :: packet type",U),U){case"pubcomp":case"puback":{const Y=A.reasonCode;Y&&Y>0&&Y!==16&&(j=new Error("Publish error: "+L[Y]),j.code=Y,K(j,A)),delete this.outgoing[P],this.outgoingStore.del(A,K),this.messageIdProvider.deallocate(P),this._invokeStoreProcessingQueue();break}case"pubrec":{F={cmd:"pubrel",qos:2,messageId:P};const Y=A.reasonCode;Y&&Y>0&&Y!==16?(j=new Error("Publish error: "+L[Y]),j.code=Y,K(j,A)):this._sendPacket(F);break}case"suback":{delete this.outgoing[P],this.messageIdProvider.deallocate(P);for(let Y=0;Y<A.granted.length;Y++)if((A.granted[Y]&128)!==0){const re=this.messageIdToTopic[P];re&&re.forEach(function(ne){delete Q._resubscribeTopics[ne]})}this._invokeStoreProcessingQueue(),K(null,A);break}case"unsuback":{delete this.outgoing[P],this.messageIdProvider.deallocate(P),this._invokeStoreProcessingQueue(),K(null);break}default:Q.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},q.prototype._handlePubrel=function(A,P){s("handling pubrel packet"),P=typeof P!="undefined"?P:H;const U=A.messageId,F=this,K={cmd:"pubcomp",messageId:U};F.incomingStore.get(A,function(Q,j){Q?F._sendPacket(K,P):(F.emit("message",j.topic,j.payload,j),F.handleMessage(j,function(Y){if(Y)return P(Y);F.incomingStore.del(j,H),F._sendPacket(K,P)}))})},q.prototype._handleDisconnect=function(A){this.emit("disconnect",A)},q.prototype._nextId=function(){return this.messageIdProvider.allocate()},q.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},q.prototype._resubscribe=function(){s("_resubscribe");const A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){s("_resubscribe: protocolVersion 5");for(let P=0;P<A.length;P++){const U={};U[A[P]]=this._resubscribeTopics[A[P]],U.resubscribe=!0,this.subscribe(U,{properties:U[A[P]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},q.prototype._onConnect=function(A){if(this.disconnected){this.emit("connect",A);return}const P=this;this.connackPacket=A,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function U(){let F=P.outgoingStore.createStream();function K(){P._storeProcessing=!1,P._packetIdsDuringStoreProcessing={}}P.once("close",Q),F.on("error",function(Y){K(),P._flushStoreProcessingQueue(),P.removeListener("close",Q),P.emit("error",Y)});function Q(){F.destroy(),F=null,P._flushStoreProcessingQueue(),K()}function j(){if(!F)return;P._storeProcessing=!0;const Y=F.read(1);let re;if(!Y){F.once("readable",j);return}if(P._packetIdsDuringStoreProcessing[Y.messageId]){j();return}!P.disconnecting&&!P.reconnectTimer?(re=P.outgoing[Y.messageId]?P.outgoing[Y.messageId].cb:null,P.outgoing[Y.messageId]={volatile:!1,cb:function(ne,le){re&&re(ne,le),j()}},P._packetIdsDuringStoreProcessing[Y.messageId]=!0,P.messageIdProvider.register(Y.messageId)?P._sendPacket(Y):s("messageId: %d has already used.",Y.messageId)):F.destroy&&F.destroy()}F.on("end",function(){let Y=!0;for(const re in P._packetIdsDuringStoreProcessing)if(!P._packetIdsDuringStoreProcessing[re]){Y=!1;break}Y?(K(),P.removeListener("close",Q),P._invokeAllStoreProcessingQueue(),P.emit("connect",A)):U()}),j()}U()},q.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1},q.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},q.prototype._flushStoreProcessingQueue=function(){for(const A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},x.exports=q}).call(this)}).call(this,m("_process"),typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(m,x,k){const{Buffer:p}=m("buffer"),d=m("readable-stream").Transform,c=m("duplexify");let f,n,e,o=!1;function t(){const g=new d;return g._write=function(l,s,y){f.sendSocketMessage({data:l.buffer,success:function(){y()},fail:function(){y(new Error)}})},g._flush=function(s){f.closeSocket({success:function(){s()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function u(g,l){const s=g.protocol==="alis"?"wss":"ws";let y=s+"://"+g.hostname+g.path;return g.port&&g.port!==80&&g.port!==443&&(y=s+"://"+g.hostname+":"+g.port+g.path),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,l)),y}function a(){o||(o=!0,f.onSocketOpen(function(){e.setReadable(n),e.setWritable(n),e.emit("connect")}),f.onSocketMessage(function(g){if(typeof g.data=="string"){const l=p.from(g.data,"base64");n.push(l)}else{const l=new FileReader;l.addEventListener("load",function(){let s=l.result;s instanceof ArrayBuffer?s=p.from(s):s=p.from(s,"utf8"),n.push(s)}),l.readAsArrayBuffer(g.data)}}),f.onSocketClose(function(){e.end(),e.destroy()}),f.onSocketError(function(g){e.destroy(g)}))}function v(g,l){if(l.hostname=l.hostname||l.host,!l.hostname)throw new Error("Could not determine host. Specify host manually.");const s=l.protocolId==="MQIsdp"&&l.protocolVersion===3?"mqttv3.1":"mqtt";i(l);const y=u(l,g);return f=l.my,f.connectSocket({url:y,protocols:s}),n=t(),e=c.obj(),a(),e}x.exports=v},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(m,x,k){const p=m("net"),d=m("debug")("mqttjs:tcp");function c(f,n){n.port=n.port||1883,n.hostname=n.hostname||n.host||"localhost";const e=n.port,o=n.hostname;return d("port %d and host %s",e,o),p.createConnection(e,o)}x.exports=c},{debug:18,net:16}],4:[function(m,x,k){const p=m("tls"),d=m("net"),c=m("debug")("mqttjs:tls");function f(n,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",d.isIP(e.host)===0&&(e.servername=e.host),e.rejectUnauthorized=e.rejectUnauthorized!==!1,delete e.path,c("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);const o=p.connect(e);o.on("secureConnect",function(){e.rejectUnauthorized&&!o.authorized?o.emit("error",new Error("TLS not authorized")):o.removeListener("error",t)});function t(i){e.rejectUnauthorized&&n.emit("error",i),o.end()}return o.on("error",t),o}x.exports=f},{debug:18,net:16,tls:16}],5:[function(m,x,k){(function(p){(function(){const{Buffer:d}=m("buffer"),c=m("ws"),f=m("debug")("mqttjs:ws"),n=m("duplexify"),e=m("readable-stream").Transform,o=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],t=typeof p!="undefined"&&p.title==="browser"||typeof __webpack_require__=="function";function i(y,S){let T=y.protocol+"://"+y.hostname+":"+y.port+y.path;return typeof y.transformWsUrl=="function"&&(T=y.transformWsUrl(T,y,S)),T}function u(y){const S=y;return y.hostname||(S.hostname="localhost"),y.port||(y.protocol==="wss"?S.port=443:S.port=80),y.path||(S.path="/"),y.wsOptions||(S.wsOptions={}),!t&&y.protocol==="wss"&&o.forEach(function(T){Object.prototype.hasOwnProperty.call(y,T)&&!Object.prototype.hasOwnProperty.call(y.wsOptions,T)&&(S.wsOptions[T]=y[T])}),S}function a(y){const S=u(y);if(S.hostname||(S.hostname=S.host),!S.hostname){if(typeof document=="undefined")throw new Error("Could not determine host. Specify host manually.");const T=new URL(document.URL);S.hostname=T.hostname,S.port||(S.port=T.port)}return S.objectMode===void 0&&(S.objectMode=!(S.binary===!0||S.binary===void 0)),S}function v(y,S,T){f("createWebSocket"),f("protocol: "+T.protocolId+" "+T.protocolVersion);const O=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";return f("creating new Websocket for url: "+S+" and protocol: "+O),new c(S,[O],T.wsOptions)}function g(y,S){const T=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt",O=i(S,y),L=new WebSocket(O,[T]);return L.binaryType="arraybuffer",L}function l(y,S){f("streamBuilder");const T=u(S),O=i(T,y),L=v(y,O,T),M=c.createWebSocketStream(L,T.wsOptions);return M.url=O,L.on("close",()=>{M.destroy()}),M}function s(y,S){f("browserStreamBuilder");let T;const L=a(S).browserBufferSize||1024*512,M=S.browserBufferTimeout||1e3,I=!S.objectMode,h=g(y,S),C=z(S,U,F);S.objectMode||(C._writev=P),C.on("close",()=>{h.close()});const _=typeof h.addEventListener!="undefined";h.readyState===h.OPEN?T=C:(T=T=n(void 0,void 0,S),S.objectMode||(T._writev=P),_?h.addEventListener("open",N):h.onopen=N),T.socket=h,_?(h.addEventListener("close",H),h.addEventListener("error",q),h.addEventListener("message",A)):(h.onclose=H,h.onerror=q,h.onmessage=A);function z(K,Q,j){const Y=new e({objectModeMode:K.objectMode});return Y._write=Q,Y._flush=j,Y}function N(){T.setReadable(C),T.setWritable(C),T.emit("connect")}function H(){T.end(),T.destroy()}function q(K){T.destroy(K)}function A(K){let Q=K.data;Q instanceof ArrayBuffer?Q=d.from(Q):Q=d.from(Q,"utf8"),C.push(Q)}function P(K,Q){const j=new Array(K.length);for(let Y=0;Y<K.length;Y++)typeof K[Y].chunk=="string"?j[Y]=d.from(K[Y],"utf8"):j[Y]=K[Y].chunk;this._write(d.concat(j),"binary",Q)}function U(K,Q,j){h.bufferedAmount>L&&setTimeout(U,M,K,Q,j),I&&typeof K=="string"&&(K=d.from(K,"utf8"));try{h.send(K)}catch(Y){return j(Y)}j()}function F(K){h.close(),K()}return T}t?x.exports=s:x.exports=l}).call(this)}).call(this,m("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(m,x,k){const{Buffer:p}=m("buffer"),d=m("readable-stream").Transform,c=m("duplexify");let f,n,e;function o(){const v=new d;return v._write=function(g,l,s){f.send({data:g.buffer,success:function(){s()},fail:function(y){s(new Error(y))}})},v._flush=function(l){f.close({success:function(){l()}})},v}function t(v){v.hostname||(v.hostname="localhost"),v.path||(v.path="/"),v.wsOptions||(v.wsOptions={})}function i(v,g){const l=v.protocol==="wxs"?"wss":"ws";let s=l+"://"+v.hostname+v.path;return v.port&&v.port!==80&&v.port!==443&&(s=l+"://"+v.hostname+":"+v.port+v.path),typeof v.transformWsUrl=="function"&&(s=v.transformWsUrl(s,v,g)),s}function u(){f.onOpen(function(){e.setReadable(n),e.setWritable(n),e.emit("connect")}),f.onMessage(function(v){let g=v.data;g instanceof ArrayBuffer?g=p.from(g):g=p.from(g,"utf8"),n.push(g)}),f.onClose(function(){e.end(),e.destroy()}),f.onError(function(v){e.destroy(new Error(v.errMsg))})}function a(v,g){if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");const l=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";t(g);const s=i(g,v);f=wx.connectSocket({url:s,protocols:[l]}),n=o(),e=c.obj(),e._destroy=function(S,T){f.close({success:function(){T&&T(S)}})};const y=e.destroy;return e.destroy=function(){e.destroy=y;const S=this;setTimeout(function(){f.close({fail:function(){S._destroy(new Error)}})},0)}.bind(e),u(),e}x.exports=a},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(m,x,k){function p(){if(!(this instanceof p))return new p;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}p.prototype.allocate=function(){const d=this.nextId++;return this.nextId===65536&&(this.nextId=1),d},p.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},p.prototype.register=function(d){return!0},p.prototype.deallocate=function(d){},p.prototype.clear=function(){},x.exports=p},{}],8:[function(m,x,k){const p=m("xtend"),d=m("readable-stream").Readable,c={objectMode:!0},f={clean:!0};function n(e){if(!(this instanceof n))return new n(e);this.options=e||{},this.options=p(f,e),this._inflights=new Map}n.prototype.put=function(e,o){return this._inflights.set(e.messageId,e),o&&o(),this},n.prototype.createStream=function(){const e=new d(c),o=[];let t=!1,i=0;return this._inflights.forEach(function(u,a){o.push(u)}),e._read=function(){!t&&i<o.length?this.push(o[i++]):this.push(null)},e.destroy=function(){if(t)return;const u=this;t=!0,setTimeout(function(){u.emit("close")},0)},e},n.prototype.del=function(e,o){return e=this._inflights.get(e.messageId),e?(this._inflights.delete(e.messageId),o(null,e)):o&&o(new Error("missing packet")),this},n.prototype.get=function(e,o){return e=this._inflights.get(e.messageId),e?o(null,e):o&&o(new Error("missing packet")),this},n.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},x.exports=n},{"readable-stream":69,xtend:81}],9:[function(m,x,k){function p(d){if(!(this instanceof p))return new p(d);this.aliasToTopic={},this.max=d}p.prototype.put=function(d,c){return c===0||c>this.max?!1:(this.aliasToTopic[c]=d,this.length=Object.keys(this.aliasToTopic).length,!0)},p.prototype.getTopicByAlias=function(d){return this.aliasToTopic[d]},p.prototype.clear=function(){this.aliasToTopic={}},x.exports=p},{}],10:[function(m,x,k){const p=m("lru-cache"),d=m("number-allocator").NumberAllocator;function c(f){if(!(this instanceof c))return new c(f);f>0&&(this.aliasToTopic=new p({max:f}),this.topicToAlias={},this.numberAllocator=new d(1,f),this.max=f,this.length=0)}c.prototype.put=function(f,n){if(n===0||n>this.max)return!1;const e=this.aliasToTopic.get(n);return e&&delete this.topicToAlias[e],this.aliasToTopic.set(n,f),this.topicToAlias[f]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.length,!0},c.prototype.getTopicByAlias=function(f){return this.aliasToTopic.get(f)},c.prototype.getAliasByTopic=function(f){const n=this.topicToAlias[f];return typeof n!="undefined"&&this.aliasToTopic.get(n),n},c.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},c.prototype.getLruAlias=function(){const f=this.numberAllocator.firstVacant();return f||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},x.exports=c},{"lru-cache":37,"number-allocator":46}],11:[function(m,x,k){function p(c){const f=c.split("/");for(let n=0;n<f.length;n++)if(f[n]!=="+"){if(f[n]==="#")return n===f.length-1;if(f[n].indexOf("+")!==-1||f[n].indexOf("#")!==-1)return!1}return!0}function d(c){if(c.length===0)return"empty_topic_list";for(let f=0;f<c.length;f++)if(!p(c[f]))return c[f];return null}x.exports={validateTopics:d}},{}],12:[function(m,x,k){(function(p){(function(){const d=m("../client"),c=m("../store"),f=m("url"),n=m("xtend"),e=m("debug")("mqttjs"),o={};typeof p!="undefined"&&p.title!=="browser"||typeof __webpack_require__!="function"?(o.mqtt=m("./tcp"),o.tcp=m("./tcp"),o.ssl=m("./tls"),o.tls=m("./tls"),o.mqtts=m("./tls")):(o.wx=m("./wx"),o.wxs=m("./wx"),o.ali=m("./ali"),o.alis=m("./ali")),o.ws=m("./ws"),o.wss=m("./ws");function t(u){let a;u.auth&&(a=u.auth.match(/^(.+):(.+)$/),a?(u.username=a[1],u.password=a[2]):u.username=u.auth)}function i(u,a){if(e("connecting to an MQTT broker..."),typeof u=="object"&&!a&&(a=u,u=null),a=a||{},u){const l=f.parse(u,!0);if(l.port!=null&&(l.port=Number(l.port)),a=n(l,a),a.protocol===null)throw new Error("Missing protocol");a.protocol=a.protocol.replace(/:$/,"")}if(t(a),a.query&&typeof a.query.clientId=="string"&&(a.clientId=a.query.clientId),a.cert&&a.key)if(a.protocol){if(["mqtts","wss","wxs","alis"].indexOf(a.protocol)===-1)switch(a.protocol){case"mqtt":a.protocol="mqtts";break;case"ws":a.protocol="wss";break;case"wx":a.protocol="wxs";break;case"ali":a.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+a.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!o[a.protocol]){const l=["mqtts","wss"].indexOf(a.protocol)!==-1;a.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(s,y){return l&&y%2===0?!1:typeof o[s]=="function"})[0]}if(a.clean===!1&&!a.clientId)throw new Error("Missing clientId for unclean clients");a.protocol&&(a.defaultProtocol=a.protocol);function v(l){return a.servers&&((!l._reconnectCount||l._reconnectCount===a.servers.length)&&(l._reconnectCount=0),a.host=a.servers[l._reconnectCount].host,a.port=a.servers[l._reconnectCount].port,a.protocol=a.servers[l._reconnectCount].protocol?a.servers[l._reconnectCount].protocol:a.defaultProtocol,a.hostname=a.host,l._reconnectCount++),e("calling streambuilder for",a.protocol),o[a.protocol](l,a)}const g=new d(v,a);return g.on("error",function(){}),g}x.exports=i,x.exports.connect=i,x.exports.MqttClient=d,x.exports.Store=c}).call(this)}).call(this,m("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(m,x,k){k.byteLength=t,k.toByteArray=u,k.fromByteArray=g;for(var p=[],d=[],c=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,e=f.length;n<e;++n)p[n]=f[n],d[f.charCodeAt(n)]=n;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function o(l){var s=l.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=l.indexOf("=");y===-1&&(y=s);var S=y===s?0:4-y%4;return[y,S]}function t(l){var s=o(l),y=s[0],S=s[1];return(y+S)*3/4-S}function i(l,s,y){return(s+y)*3/4-y}function u(l){var s,y=o(l),S=y[0],T=y[1],O=new c(i(l,S,T)),L=0,M=T>0?S-4:S,I;for(I=0;I<M;I+=4)s=d[l.charCodeAt(I)]<<18|d[l.charCodeAt(I+1)]<<12|d[l.charCodeAt(I+2)]<<6|d[l.charCodeAt(I+3)],O[L++]=s>>16&255,O[L++]=s>>8&255,O[L++]=s&255;return T===2&&(s=d[l.charCodeAt(I)]<<2|d[l.charCodeAt(I+1)]>>4,O[L++]=s&255),T===1&&(s=d[l.charCodeAt(I)]<<10|d[l.charCodeAt(I+1)]<<4|d[l.charCodeAt(I+2)]>>2,O[L++]=s>>8&255,O[L++]=s&255),O}function a(l){return p[l>>18&63]+p[l>>12&63]+p[l>>6&63]+p[l&63]}function v(l,s,y){for(var S,T=[],O=s;O<y;O+=3)S=(l[O]<<16&16711680)+(l[O+1]<<8&65280)+(l[O+2]&255),T.push(a(S));return T.join("")}function g(l){for(var s,y=l.length,S=y%3,T=[],O=16383,L=0,M=y-S;L<M;L+=O)T.push(v(l,L,L+O>M?M:L+O));return S===1?(s=l[y-1],T.push(p[s>>2]+p[s<<4&63]+"==")):S===2&&(s=(l[y-2]<<8)+l[y-1],T.push(p[s>>10]+p[s>>4&63]+p[s<<2&63]+"=")),T.join("")}},{}],14:[function(m,x,k){const{Buffer:p}=m("buffer"),d=Symbol.for("BufferList");function c(f){if(!(this instanceof c))return new c(f);c._init.call(this,f)}c._init=function(n){Object.defineProperty(this,d,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},c.prototype._new=function(n){return new c(n)},c.prototype._offset=function(n){if(n===0)return[0,0];let e=0;for(let o=0;o<this._bufs.length;o++){const t=e+this._bufs[o].length;if(n<t||o===this._bufs.length-1)return[o,n-e];e=t}},c.prototype._reverseOffset=function(f){const n=f[0];let e=f[1];for(let o=0;o<n;o++)e+=this._bufs[o].length;return e},c.prototype.get=function(n){if(n>this.length||n<0)return;const e=this._offset(n);return this._bufs[e[0]][e[1]]},c.prototype.slice=function(n,e){return typeof n=="number"&&n<0&&(n+=this.length),typeof e=="number"&&e<0&&(e+=this.length),this.copy(null,0,n,e)},c.prototype.copy=function(n,e,o,t){if((typeof o!="number"||o<0)&&(o=0),(typeof t!="number"||t>this.length)&&(t=this.length),o>=this.length||t<=0)return n||p.alloc(0);const i=!!n,u=this._offset(o),a=t-o;let v=a,g=i&&e||0,l=u[1];if(o===0&&t===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:p.concat(this._bufs,this.length);for(let s=0;s<this._bufs.length;s++)this._bufs[s].copy(n,g),g+=this._bufs[s].length;return n}if(v<=this._bufs[u[0]].length-l)return i?this._bufs[u[0]].copy(n,e,l,l+v):this._bufs[u[0]].slice(l,l+v);i||(n=p.allocUnsafe(a));for(let s=u[0];s<this._bufs.length;s++){const y=this._bufs[s].length-l;if(v>y)this._bufs[s].copy(n,g,l),g+=y;else{this._bufs[s].copy(n,g,l,l+v),g+=y;break}v-=y,l&&(l=0)}return n.length>g?n.slice(0,g):n},c.prototype.shallowSlice=function(n,e){if(n=n||0,e=typeof e!="number"?this.length:e,n<0&&(n+=this.length),e<0&&(e+=this.length),n===e)return this._new();const o=this._offset(n),t=this._offset(e),i=this._bufs.slice(o[0],t[0]+1);return t[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,t[1]),o[1]!==0&&(i[0]=i[0].slice(o[1])),this._new(i)},c.prototype.toString=function(n,e,o){return this.slice(e,o).toString(n)},c.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},c.prototype.duplicate=function(){const n=this._new();for(let e=0;e<this._bufs.length;e++)n.append(this._bufs[e]);return n},c.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(p.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let e=0;e<n.length;e++)this.append(n[e]);else if(this._isBufferList(n))for(let e=0;e<n._bufs.length;e++)this.append(n._bufs[e]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(p.from(n));return this},c.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},c.prototype.indexOf=function(f,n,e){if(e===void 0&&typeof n=="string"&&(e=n,n=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=p.from([f]):typeof f=="string"?f=p.from(f,e):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=p.from(f.buffer,f.byteOffset,f.byteLength):p.isBuffer(f)||(f=p.from(f)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),f.length===0)return n>this.length?this.length:n;const o=this._offset(n);let t=o[0],i=o[1];for(;t<this._bufs.length;t++){const u=this._bufs[t];for(;i<u.length;)if(u.length-i>=f.length){const v=u.indexOf(f,i);if(v!==-1)return this._reverseOffset([t,v]);i=u.length-f.length+1}else{const v=this._reverseOffset([t,i]);if(this._match(v,f))return v;i++}i=0}return-1},c.prototype._match=function(f,n){if(this.length-f<n.length)return!1;for(let e=0;e<n.length;e++)if(this.get(f+e)!==n[e])return!1;return!0},function(){const f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const n in f)(function(e){f[e]===null?c.prototype[e]=function(o,t){return this.slice(o,o+t)[e](0,t)}:c.prototype[e]=function(o=0){return this.slice(o,o+f[e])[e](0)}})(n)}(),c.prototype._isBufferList=function(n){return n instanceof c||c.isBufferList(n)},c.isBufferList=function(n){return n!=null&&n[d]},x.exports=c},{buffer:17}],15:[function(m,x,k){const p=m("readable-stream").Duplex,d=m("inherits"),c=m("./BufferList");function f(n){if(!(this instanceof f))return new f(n);if(typeof n=="function"){this._callback=n;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)}),n=null}c._init.call(this,n),p.call(this)}d(f,p),Object.assign(f.prototype,c.prototype),f.prototype._new=function(e){return new f(e)},f.prototype._write=function(e,o,t){this._appendBuffer(e),typeof t=="function"&&t()},f.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},f.prototype.end=function(e){p.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},f.prototype._destroy=function(e,o){this._bufs.length=0,this.length=0,o(e)},f.prototype._isBufferList=function(e){return e instanceof f||e instanceof c||f.isBufferList(e)},f.isBufferList=c.isBufferList,x.exports=f,x.exports.BufferListStream=f,x.exports.BufferList=c},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(m,x,k){},{}],17:[function(m,x,k){(function(p){(function(){var d=m("base64-js"),c=m("ieee754");k.Buffer=o,k.SlowBuffer=S,k.INSPECT_MAX_BYTES=50;var f=2147483647;k.kMaxLength=f,o.TYPED_ARRAY_SUPPORT=n(),!o.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(!!o.isBuffer(this))return this.byteOffset}});function e(B){if(B>f)throw new RangeError('The value "'+B+'" is invalid for option "size"');var b=new Uint8Array(B);return b.__proto__=o.prototype,b}function o(B,b,w){if(typeof B=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(B)}return t(B,b,w)}typeof Symbol!="undefined"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192;function t(B,b,w){if(typeof B=="string")return v(B,b);if(ArrayBuffer.isView(B))return g(B);if(B==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(R(B,ArrayBuffer)||B&&R(B.buffer,ArrayBuffer))return l(B,b,w);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=B.valueOf&&B.valueOf();if($!=null&&$!==B)return o.from($,b,w);var X=s(B);if(X)return X;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),b,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,b,w){return t(B,b,w)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array;function i(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function u(B,b,w){return i(B),B<=0?e(B):b!==void 0?typeof w=="string"?e(B).fill(b,w):e(B).fill(b):e(B)}o.alloc=function(B,b,w){return u(B,b,w)};function a(B){return i(B),e(B<0?0:y(B)|0)}o.allocUnsafe=function(B){return a(B)},o.allocUnsafeSlow=function(B){return a(B)};function v(B,b){if((typeof b!="string"||b==="")&&(b="utf8"),!o.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var w=T(B,b)|0,$=e(w),X=$.write(B,b);return X!==w&&($=$.slice(0,X)),$}function g(B){for(var b=B.length<0?0:y(B.length)|0,w=e(b),$=0;$<b;$+=1)w[$]=B[$]&255;return w}function l(B,b,w){if(b<0||B.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<b+(w||0))throw new RangeError('"length" is outside of buffer bounds');var $;return b===void 0&&w===void 0?$=new Uint8Array(B):w===void 0?$=new Uint8Array(B,b):$=new Uint8Array(B,b,w),$.__proto__=o.prototype,$}function s(B){if(o.isBuffer(B)){var b=y(B.length)|0,w=e(b);return w.length===0||B.copy(w,0,0,b),w}if(B.length!==void 0)return typeof B.length!="number"||D(B.length)?e(0):g(B);if(B.type==="Buffer"&&Array.isArray(B.data))return g(B.data)}function y(B){if(B>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return B|0}function S(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==o.prototype},o.compare=function(b,w){if(R(b,Uint8Array)&&(b=o.from(b,b.offset,b.byteLength)),R(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),!o.isBuffer(b)||!o.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===w)return 0;for(var $=b.length,X=w.length,se=0,ae=Math.min($,X);se<ae;++se)if(b[se]!==w[se]){$=b[se],X=w[se];break}return $<X?-1:X<$?1:0},o.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(b,w){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return o.alloc(0);var $;if(w===void 0)for(w=0,$=0;$<b.length;++$)w+=b[$].length;var X=o.allocUnsafe(w),se=0;for($=0;$<b.length;++$){var ae=b[$];if(R(ae,Uint8Array)&&(ae=o.from(ae)),!o.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(X,se),se+=ae.length}return X};function T(B,b){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||R(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var w=B.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&w===0)return 0;for(var X=!1;;)switch(b){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return W(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return ee(B).length;default:if(X)return $?-1:W(B).length;b=(""+b).toLowerCase(),X=!0}}o.byteLength=T;function O(B,b,w){var $=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,b>>>=0,w<=b))return"";for(B||(B="utf8");;)switch(B){case"hex":return Q(this,b,w);case"utf8":case"utf-8":return A(this,b,w);case"ascii":return F(this,b,w);case"latin1":case"binary":return K(this,b,w);case"base64":return q(this,b,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,b,w);default:if($)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),$=!0}}o.prototype._isBuffer=!0;function L(B,b,w){var $=B[b];B[b]=B[w],B[w]=$}o.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<b;w+=2)L(this,w,w+1);return this},o.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<b;w+=4)L(this,w,w+3),L(this,w+1,w+2);return this},o.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<b;w+=8)L(this,w,w+7),L(this,w+1,w+6),L(this,w+2,w+5),L(this,w+3,w+4);return this},o.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?A(this,0,b):O.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(b){if(!o.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:o.compare(this,b)===0},o.prototype.inspect=function(){var b="",w=k.INSPECT_MAX_BYTES;return b=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(b+=" ... "),"<Buffer "+b+">"},o.prototype.compare=function(b,w,$,X,se){if(R(b,Uint8Array)&&(b=o.from(b,b.offset,b.byteLength)),!o.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(w===void 0&&(w=0),$===void 0&&($=b?b.length:0),X===void 0&&(X=0),se===void 0&&(se=this.length),w<0||$>b.length||X<0||se>this.length)throw new RangeError("out of range index");if(X>=se&&w>=$)return 0;if(X>=se)return-1;if(w>=$)return 1;if(w>>>=0,$>>>=0,X>>>=0,se>>>=0,this===b)return 0;for(var ae=se-X,ue=$-w,fe=Math.min(ae,ue),he=this.slice(X,se),de=b.slice(w,$),ce=0;ce<fe;++ce)if(he[ce]!==de[ce]){ae=he[ce],ue=de[ce];break}return ae<ue?-1:ue<ae?1:0};function M(B,b,w,$,X){if(B.length===0)return-1;if(typeof w=="string"?($=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,D(w)&&(w=X?0:B.length-1),w<0&&(w=B.length+w),w>=B.length){if(X)return-1;w=B.length-1}else if(w<0)if(X)w=0;else return-1;if(typeof b=="string"&&(b=o.from(b,$)),o.isBuffer(b))return b.length===0?-1:I(B,b,w,$,X);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(B,b,w):Uint8Array.prototype.lastIndexOf.call(B,b,w):I(B,[b],w,$,X);throw new TypeError("val must be string, number or Buffer")}function I(B,b,w,$,X){var se=1,ae=B.length,ue=b.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(B.length<2||b.length<2)return-1;se=2,ae/=2,ue/=2,w/=2}function fe(ye,me){return se===1?ye[me]:ye.readUInt16BE(me*se)}var he;if(X){var de=-1;for(he=w;he<ae;he++)if(fe(B,he)===fe(b,de===-1?0:he-de)){if(de===-1&&(de=he),he-de+1===ue)return de*se}else de!==-1&&(he-=he-de),de=-1}else for(w+ue>ae&&(w=ae-ue),he=w;he>=0;he--){for(var ce=!0,pe=0;pe<ue;pe++)if(fe(B,he+pe)!==fe(b,pe)){ce=!1;break}if(ce)return he}return-1}o.prototype.includes=function(b,w,$){return this.indexOf(b,w,$)!==-1},o.prototype.indexOf=function(b,w,$){return M(this,b,w,$,!0)},o.prototype.lastIndexOf=function(b,w,$){return M(this,b,w,$,!1)};function h(B,b,w,$){w=Number(w)||0;var X=B.length-w;$?($=Number($),$>X&&($=X)):$=X;var se=b.length;$>se/2&&($=se/2);for(var ae=0;ae<$;++ae){var ue=parseInt(b.substr(ae*2,2),16);if(D(ue))return ae;B[w+ae]=ue}return ae}function C(B,b,w,$){return ie(W(b,B.length-w),B,w,$)}function _(B,b,w,$){return ie(V(b),B,w,$)}function z(B,b,w,$){return _(B,b,w,$)}function N(B,b,w,$){return ie(ee(b),B,w,$)}function H(B,b,w,$){return ie(J(b,B.length-w),B,w,$)}o.prototype.write=function(b,w,$,X){if(w===void 0)X="utf8",$=this.length,w=0;else if($===void 0&&typeof w=="string")X=w,$=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite($)?($=$>>>0,X===void 0&&(X="utf8")):(X=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var se=this.length-w;if(($===void 0||$>se)&&($=se),b.length>0&&($<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var ae=!1;;)switch(X){case"hex":return h(this,b,w,$);case"utf8":case"utf-8":return C(this,b,w,$);case"ascii":return _(this,b,w,$);case"latin1":case"binary":return z(this,b,w,$);case"base64":return N(this,b,w,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,w,$);default:if(ae)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),ae=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(B,b,w){return b===0&&w===B.length?d.fromByteArray(B):d.fromByteArray(B.slice(b,w))}function A(B,b,w){w=Math.min(B.length,w);for(var $=[],X=b;X<w;){var se=B[X],ae=null,ue=se>239?4:se>223?3:se>191?2:1;if(X+ue<=w){var fe,he,de,ce;switch(ue){case 1:se<128&&(ae=se);break;case 2:fe=B[X+1],(fe&192)===128&&(ce=(se&31)<<6|fe&63,ce>127&&(ae=ce));break;case 3:fe=B[X+1],he=B[X+2],(fe&192)===128&&(he&192)===128&&(ce=(se&15)<<12|(fe&63)<<6|he&63,ce>2047&&(ce<55296||ce>57343)&&(ae=ce));break;case 4:fe=B[X+1],he=B[X+2],de=B[X+3],(fe&192)===128&&(he&192)===128&&(de&192)===128&&(ce=(se&15)<<18|(fe&63)<<12|(he&63)<<6|de&63,ce>65535&&ce<1114112&&(ae=ce))}}ae===null?(ae=65533,ue=1):ae>65535&&(ae-=65536,$.push(ae>>>10&1023|55296),ae=56320|ae&1023),$.push(ae),X+=ue}return U($)}var P=4096;function U(B){var b=B.length;if(b<=P)return String.fromCharCode.apply(String,B);for(var w="",$=0;$<b;)w+=String.fromCharCode.apply(String,B.slice($,$+=P));return w}function F(B,b,w){var $="";w=Math.min(B.length,w);for(var X=b;X<w;++X)$+=String.fromCharCode(B[X]&127);return $}function K(B,b,w){var $="";w=Math.min(B.length,w);for(var X=b;X<w;++X)$+=String.fromCharCode(B[X]);return $}function Q(B,b,w){var $=B.length;(!b||b<0)&&(b=0),(!w||w<0||w>$)&&(w=$);for(var X="",se=b;se<w;++se)X+=te(B[se]);return X}function j(B,b,w){for(var $=B.slice(b,w),X="",se=0;se<$.length;se+=2)X+=String.fromCharCode($[se]+$[se+1]*256);return X}o.prototype.slice=function(b,w){var $=this.length;b=~~b,w=w===void 0?$:~~w,b<0?(b+=$,b<0&&(b=0)):b>$&&(b=$),w<0?(w+=$,w<0&&(w=0)):w>$&&(w=$),w<b&&(w=b);var X=this.subarray(b,w);return X.__proto__=o.prototype,X};function Y(B,b,w){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+b>w)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(b,w,$){b=b>>>0,w=w>>>0,$||Y(b,w,this.length);for(var X=this[b],se=1,ae=0;++ae<w&&(se*=256);)X+=this[b+ae]*se;return X},o.prototype.readUIntBE=function(b,w,$){b=b>>>0,w=w>>>0,$||Y(b,w,this.length);for(var X=this[b+--w],se=1;w>0&&(se*=256);)X+=this[b+--w]*se;return X},o.prototype.readUInt8=function(b,w){return b=b>>>0,w||Y(b,1,this.length),this[b]},o.prototype.readUInt16LE=function(b,w){return b=b>>>0,w||Y(b,2,this.length),this[b]|this[b+1]<<8},o.prototype.readUInt16BE=function(b,w){return b=b>>>0,w||Y(b,2,this.length),this[b]<<8|this[b+1]},o.prototype.readUInt32LE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},o.prototype.readUInt32BE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},o.prototype.readIntLE=function(b,w,$){b=b>>>0,w=w>>>0,$||Y(b,w,this.length);for(var X=this[b],se=1,ae=0;++ae<w&&(se*=256);)X+=this[b+ae]*se;return se*=128,X>=se&&(X-=Math.pow(2,8*w)),X},o.prototype.readIntBE=function(b,w,$){b=b>>>0,w=w>>>0,$||Y(b,w,this.length);for(var X=w,se=1,ae=this[b+--X];X>0&&(se*=256);)ae+=this[b+--X]*se;return se*=128,ae>=se&&(ae-=Math.pow(2,8*w)),ae},o.prototype.readInt8=function(b,w){return b=b>>>0,w||Y(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},o.prototype.readInt16LE=function(b,w){b=b>>>0,w||Y(b,2,this.length);var $=this[b]|this[b+1]<<8;return $&32768?$|4294901760:$},o.prototype.readInt16BE=function(b,w){b=b>>>0,w||Y(b,2,this.length);var $=this[b+1]|this[b]<<8;return $&32768?$|4294901760:$},o.prototype.readInt32LE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},o.prototype.readInt32BE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},o.prototype.readFloatLE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),c.read(this,b,!0,23,4)},o.prototype.readFloatBE=function(b,w){return b=b>>>0,w||Y(b,4,this.length),c.read(this,b,!1,23,4)},o.prototype.readDoubleLE=function(b,w){return b=b>>>0,w||Y(b,8,this.length),c.read(this,b,!0,52,8)},o.prototype.readDoubleBE=function(b,w){return b=b>>>0,w||Y(b,8,this.length),c.read(this,b,!1,52,8)};function re(B,b,w,$,X,se){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>X||b<se)throw new RangeError('"value" argument is out of bounds');if(w+$>B.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(b,w,$,X){if(b=+b,w=w>>>0,$=$>>>0,!X){var se=Math.pow(2,8*$)-1;re(this,b,w,$,se,0)}var ae=1,ue=0;for(this[w]=b&255;++ue<$&&(ae*=256);)this[w+ue]=b/ae&255;return w+$},o.prototype.writeUIntBE=function(b,w,$,X){if(b=+b,w=w>>>0,$=$>>>0,!X){var se=Math.pow(2,8*$)-1;re(this,b,w,$,se,0)}var ae=$-1,ue=1;for(this[w+ae]=b&255;--ae>=0&&(ue*=256);)this[w+ae]=b/ue&255;return w+$},o.prototype.writeUInt8=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,1,255,0),this[w]=b&255,w+1},o.prototype.writeUInt16LE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,2,65535,0),this[w]=b&255,this[w+1]=b>>>8,w+2},o.prototype.writeUInt16BE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,2,65535,0),this[w]=b>>>8,this[w+1]=b&255,w+2},o.prototype.writeUInt32LE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,4,4294967295,0),this[w+3]=b>>>24,this[w+2]=b>>>16,this[w+1]=b>>>8,this[w]=b&255,w+4},o.prototype.writeUInt32BE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,4,4294967295,0),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4},o.prototype.writeIntLE=function(b,w,$,X){if(b=+b,w=w>>>0,!X){var se=Math.pow(2,8*$-1);re(this,b,w,$,se-1,-se)}var ae=0,ue=1,fe=0;for(this[w]=b&255;++ae<$&&(ue*=256);)b<0&&fe===0&&this[w+ae-1]!==0&&(fe=1),this[w+ae]=(b/ue>>0)-fe&255;return w+$},o.prototype.writeIntBE=function(b,w,$,X){if(b=+b,w=w>>>0,!X){var se=Math.pow(2,8*$-1);re(this,b,w,$,se-1,-se)}var ae=$-1,ue=1,fe=0;for(this[w+ae]=b&255;--ae>=0&&(ue*=256);)b<0&&fe===0&&this[w+ae+1]!==0&&(fe=1),this[w+ae]=(b/ue>>0)-fe&255;return w+$},o.prototype.writeInt8=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,1,127,-128),b<0&&(b=255+b+1),this[w]=b&255,w+1},o.prototype.writeInt16LE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,2,32767,-32768),this[w]=b&255,this[w+1]=b>>>8,w+2},o.prototype.writeInt16BE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,2,32767,-32768),this[w]=b>>>8,this[w+1]=b&255,w+2},o.prototype.writeInt32LE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,4,2147483647,-2147483648),this[w]=b&255,this[w+1]=b>>>8,this[w+2]=b>>>16,this[w+3]=b>>>24,w+4},o.prototype.writeInt32BE=function(b,w,$){return b=+b,w=w>>>0,$||re(this,b,w,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4};function ne(B,b,w,$,X,se){if(w+$>B.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function le(B,b,w,$,X){return b=+b,w=w>>>0,X||ne(B,b,w,4),c.write(B,b,w,$,23,4),w+4}o.prototype.writeFloatLE=function(b,w,$){return le(this,b,w,!0,$)},o.prototype.writeFloatBE=function(b,w,$){return le(this,b,w,!1,$)};function oe(B,b,w,$,X){return b=+b,w=w>>>0,X||ne(B,b,w,8),c.write(B,b,w,$,52,8),w+8}o.prototype.writeDoubleLE=function(b,w,$){return oe(this,b,w,!0,$)},o.prototype.writeDoubleBE=function(b,w,$){return oe(this,b,w,!1,$)},o.prototype.copy=function(b,w,$,X){if(!o.isBuffer(b))throw new TypeError("argument should be a Buffer");if($||($=0),!X&&X!==0&&(X=this.length),w>=b.length&&(w=b.length),w||(w=0),X>0&&X<$&&(X=$),X===$||b.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),b.length-w<X-$&&(X=b.length-w+$);var se=X-$;if(this===b&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(w,$,X);else if(this===b&&$<w&&w<X)for(var ae=se-1;ae>=0;--ae)b[ae+w]=this[ae+$];else Uint8Array.prototype.set.call(b,this.subarray($,X),w);return se},o.prototype.fill=function(b,w,$,X){if(typeof b=="string"){if(typeof w=="string"?(X=w,w=0,$=this.length):typeof $=="string"&&(X=$,$=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!o.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(b.length===1){var se=b.charCodeAt(0);(X==="utf8"&&se<128||X==="latin1")&&(b=se)}}else typeof b=="number"&&(b=b&255);if(w<0||this.length<w||this.length<$)throw new RangeError("Out of range index");if($<=w)return this;w=w>>>0,$=$===void 0?this.length:$>>>0,b||(b=0);var ae;if(typeof b=="number")for(ae=w;ae<$;++ae)this[ae]=b;else{var ue=o.isBuffer(b)?b:o.from(b,X),fe=ue.length;if(fe===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ae=0;ae<$-w;++ae)this[ae+w]=ue[ae%fe]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function G(B){if(B=B.split("=")[0],B=B.trim().replace(Z,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function te(B){return B<16?"0"+B.toString(16):B.toString(16)}function W(B,b){b=b||1/0;for(var w,$=B.length,X=null,se=[],ae=0;ae<$;++ae){if(w=B.charCodeAt(ae),w>55295&&w<57344){if(!X){if(w>56319){(b-=3)>-1&&se.push(239,191,189);continue}else if(ae+1===$){(b-=3)>-1&&se.push(239,191,189);continue}X=w;continue}if(w<56320){(b-=3)>-1&&se.push(239,191,189),X=w;continue}w=(X-55296<<10|w-56320)+65536}else X&&(b-=3)>-1&&se.push(239,191,189);if(X=null,w<128){if((b-=1)<0)break;se.push(w)}else if(w<2048){if((b-=2)<0)break;se.push(w>>6|192,w&63|128)}else if(w<65536){if((b-=3)<0)break;se.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((b-=4)<0)break;se.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return se}function V(B){for(var b=[],w=0;w<B.length;++w)b.push(B.charCodeAt(w)&255);return b}function J(B,b){for(var w,$,X,se=[],ae=0;ae<B.length&&!((b-=2)<0);++ae)w=B.charCodeAt(ae),$=w>>8,X=w%256,se.push(X),se.push($);return se}function ee(B){return d.toByteArray(G(B))}function ie(B,b,w,$){for(var X=0;X<$&&!(X+w>=b.length||X>=B.length);++X)b[X+w]=B[X];return X}function R(B,b){return B instanceof b||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===b.name}function D(B){return B!==B}}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(m,x,k){(function(p){(function(){k.formatArgs=c,k.save=f,k.load=n,k.useColors=d,k.storage=e(),k.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),k.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function d(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function c(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+x.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let u=0,a=0;t[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(u++,v==="%c"&&(a=u))}),t.splice(a,0,i)}k.log=console.debug||console.log||(()=>{});function f(t){try{t?k.storage.setItem("debug",t):k.storage.removeItem("debug")}catch{}}function n(){let t;try{t=k.storage.getItem("debug")}catch{}return!t&&typeof p!="undefined"&&"env"in p&&(t={}.DEBUG),t}function e(){try{return localStorage}catch{}}x.exports=m("./common")(k);const{formatters:o}=x.exports;o.j=function(t){try{return JSON.stringify(t)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}).call(this)}).call(this,m("_process"))},{"./common":19,_process:50}],19:[function(m,x,k){function p(d){f.debug=f,f.default=f,f.coerce=u,f.disable=o,f.enable=e,f.enabled=t,f.humanize=m("ms"),f.destroy=a,Object.keys(d).forEach(v=>{f[v]=d[v]}),f.names=[],f.skips=[],f.formatters={};function c(v){let g=0;for(let l=0;l<v.length;l++)g=(g<<5)-g+v.charCodeAt(l),g|=0;return f.colors[Math.abs(g)%f.colors.length]}f.selectColor=c;function f(v){let g,l=null,s,y;function S(...T){if(!S.enabled)return;const O=S,L=Number(new Date),M=L-(g||L);O.diff=M,O.prev=g,O.curr=L,g=L,T[0]=f.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let I=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(C,_)=>{if(C==="%%")return"%";I++;const z=f.formatters[_];if(typeof z=="function"){const N=T[I];C=z.call(O,N),T.splice(I,1),I--}return C}),f.formatArgs.call(O,T),(O.log||f.log).apply(O,T)}return S.namespace=v,S.useColors=f.useColors(),S.color=f.selectColor(v),S.extend=n,S.destroy=f.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(s!==f.namespaces&&(s=f.namespaces,y=f.enabled(v)),y),set:T=>{l=T}}),typeof f.init=="function"&&f.init(S),S}function n(v,g){const l=f(this.namespace+(typeof g=="undefined"?":":g)+v);return l.log=this.log,l}function e(v){f.save(v),f.namespaces=v,f.names=[],f.skips=[];let g;const l=(typeof v=="string"?v:"").split(/[\s,]+/),s=l.length;for(g=0;g<s;g++)!l[g]||(v=l[g].replace(/\*/g,".*?"),v[0]==="-"?f.skips.push(new RegExp("^"+v.substr(1)+"$")):f.names.push(new RegExp("^"+v+"$")))}function o(){const v=[...f.names.map(i),...f.skips.map(i).map(g=>"-"+g)].join(",");return f.enable(""),v}function t(v){if(v[v.length-1]==="*")return!0;let g,l;for(g=0,l=f.skips.length;g<l;g++)if(f.skips[g].test(v))return!1;for(g=0,l=f.names.length;g<l;g++)if(f.names[g].test(v))return!0;return!1}function i(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function u(v){return v instanceof Error?v.stack||v.message:v}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return f.enable(f.load()),f}x.exports=p},{ms:45}],20:[function(m,x,k){(function(p,d){(function(){var c=m("readable-stream"),f=m("end-of-stream"),n=m("inherits"),e=m("stream-shift"),o=d.from&&d.from!==Uint8Array.from?d.from([0]):new d([0]),t=function(s,y){s._corked?s.once("uncork",y):y()},i=function(s,y){s._autoDestroy&&s.destroy(y)},u=function(s,y){return function(S){S?i(s,S.message==="premature close"?null:S):y&&!s._ended&&s.end()}},a=function(s,y){if(!s||s._writableState&&s._writableState.finished)return y();if(s._writableState)return s.end(y);s.end(),y()},v=function(){},g=function(s){return new c.Readable({objectMode:!0,highWaterMark:16}).wrap(s)},l=function(s,y,S){if(!(this instanceof l))return new l(s,y,S);c.Duplex.call(this,S),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!S||S.autoDestroy!==!1,this._forwardDestroy=!S||S.destroy!==!1,this._forwardEnd=!S||S.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,s&&this.setWritable(s),y&&this.setReadable(y)};n(l,c.Duplex),l.obj=function(s,y,S){return S||(S={}),S.objectMode=!0,S.highWaterMark=16,new l(s,y,S)},l.prototype.cork=function(){++this._corked===1&&this.emit("cork")},l.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},l.prototype.setWritable=function(s){if(this._unwrite&&this._unwrite(),this.destroyed){s&&s.destroy&&s.destroy();return}if(s===null||s===!1){this.end();return}var y=this,S=f(s,{writable:!0,readable:!1},u(this,this._forwardEnd)),T=function(){var L=y._ondrain;y._ondrain=null,L&&L()},O=function(){y._writable.removeListener("drain",T),S()};this._unwrite&&p.nextTick(T),this._writable=s,this._writable.on("drain",T),this._unwrite=O,this.uncork()},l.prototype.setReadable=function(s){if(this._unread&&this._unread(),this.destroyed){s&&s.destroy&&s.destroy();return}if(s===null||s===!1){this.push(null),this.resume();return}var y=this,S=f(s,{writable:!1,readable:!0},u(this)),T=function(){y._forward()},O=function(){y.push(null)},L=function(){y._readable2.removeListener("readable",T),y._readable2.removeListener("end",O),S()};this._drained=!0,this._readable=s,this._readable2=s._readableState?s:g(s),this._readable2.on("readable",T),this._readable2.on("end",O),this._unread=L,this._forward()},l.prototype._read=function(){this._drained=!0,this._forward()},l.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var s;this._drained&&(s=e(this._readable2))!==null;)this.destroyed||(this._drained=this.push(s));this._forwarding=!1}},l.prototype.destroy=function(s,y){if(y||(y=v),this.destroyed)return y(null);this.destroyed=!0;var S=this;p.nextTick(function(){S._destroy(s),y(null)})},l.prototype._destroy=function(s){if(s){var y=this._ondrain;this._ondrain=null,y?y(s):this.emit("error",s)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},l.prototype._write=function(s,y,S){if(!this.destroyed){if(this._corked)return t(this,this._write.bind(this,s,y,S));if(s===o)return this._finish(S);if(!this._writable)return S();this._writable.write(s)===!1?this._ondrain=S:this.destroyed||S()}},l.prototype._finish=function(s){var y=this;this.emit("preend"),t(this,function(){a(y._forwardEnd&&y._writable,function(){y._writableState.prefinished===!1&&(y._writableState.prefinished=!0),y.emit("prefinish"),t(y,s)})})},l.prototype.end=function(s,y,S){return typeof s=="function"?this.end(null,null,s):typeof y=="function"?this.end(s,null,y):(this._ended=!0,s&&this.write(s),!this._writableState.ending&&!this._writableState.destroyed&&this.write(o),c.Writable.prototype.end.call(this,S))},x.exports=l}).call(this)}).call(this,m("_process"),m("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(m,x,k){(function(p){(function(){var d=m("once"),c=function(){},f=function(o){return o.setHeader&&typeof o.abort=="function"},n=function(o){return o.stdio&&Array.isArray(o.stdio)&&o.stdio.length===3},e=function(o,t,i){if(typeof t=="function")return e(o,null,t);t||(t={}),i=d(i||c);var u=o._writableState,a=o._readableState,v=t.readable||t.readable!==!1&&o.readable,g=t.writable||t.writable!==!1&&o.writable,l=!1,s=function(){o.writable||y()},y=function(){g=!1,v||i.call(o)},S=function(){v=!1,g||i.call(o)},T=function(h){i.call(o,h?new Error("exited with error code: "+h):null)},O=function(h){i.call(o,h)},L=function(){p.nextTick(M)},M=function(){if(!l){if(v&&!(a&&a.ended&&!a.destroyed))return i.call(o,new Error("premature close"));if(g&&!(u&&u.ended&&!u.destroyed))return i.call(o,new Error("premature close"))}},I=function(){o.req.on("finish",y)};return f(o)?(o.on("complete",y),o.on("abort",L),o.req?I():o.on("request",I)):g&&!u&&(o.on("end",s),o.on("close",s)),n(o)&&o.on("exit",T),o.on("end",S),o.on("finish",y),t.error!==!1&&o.on("error",O),o.on("close",L),function(){l=!0,o.removeListener("complete",y),o.removeListener("abort",L),o.removeListener("request",I),o.req&&o.req.removeListener("finish",y),o.removeListener("end",s),o.removeListener("close",s),o.removeListener("finish",y),o.removeListener("exit",T),o.removeListener("end",S),o.removeListener("error",O),o.removeListener("close",L)}};x.exports=e}).call(this)}).call(this,m("_process"))},{_process:50,once:48}],22:[function(m,x,k){var p=Object.create||I,d=Object.keys||h,c=Function.prototype.bind||C;function f(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=p(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}x.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0;var n=10,e;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),e=o.x===0}catch{e=!1}e?Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(_){if(typeof _!="number"||_<0||_!==_)throw new TypeError('"defaultMaxListeners" must be a positive number');n=_}}):f.defaultMaxListeners=n,f.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this};function t(_){return _._maxListeners===void 0?f.defaultMaxListeners:_._maxListeners}f.prototype.getMaxListeners=function(){return t(this)};function i(_,z,N){if(z)_.call(N);else for(var H=_.length,q=L(_,H),A=0;A<H;++A)q[A].call(N)}function u(_,z,N,H){if(z)_.call(N,H);else for(var q=_.length,A=L(_,q),P=0;P<q;++P)A[P].call(N,H)}function a(_,z,N,H,q){if(z)_.call(N,H,q);else for(var A=_.length,P=L(_,A),U=0;U<A;++U)P[U].call(N,H,q)}function v(_,z,N,H,q,A){if(z)_.call(N,H,q,A);else for(var P=_.length,U=L(_,P),F=0;F<P;++F)U[F].call(N,H,q,A)}function g(_,z,N,H){if(z)_.apply(N,H);else for(var q=_.length,A=L(_,q),P=0;P<q;++P)A[P].apply(N,H)}f.prototype.emit=function(z){var N,H,q,A,P,U,F=z==="error";if(U=this._events,U)F=F&&U.error==null;else if(!F)return!1;if(F){if(arguments.length>1&&(N=arguments[1]),N instanceof Error)throw N;var K=new Error('Unhandled "error" event. ('+N+")");throw K.context=N,K}if(H=U[z],!H)return!1;var Q=typeof H=="function";switch(q=arguments.length,q){case 1:i(H,Q,this);break;case 2:u(H,Q,this,arguments[1]);break;case 3:a(H,Q,this,arguments[1],arguments[2]);break;case 4:v(H,Q,this,arguments[1],arguments[2],arguments[3]);break;default:for(A=new Array(q-1),P=1;P<q;P++)A[P-1]=arguments[P];g(H,Q,this,A)}return!0};function l(_,z,N,H){var q,A,P;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(A=_._events,A?(A.newListener&&(_.emit("newListener",z,N.listener?N.listener:N),A=_._events),P=A[z]):(A=_._events=p(null),_._eventsCount=0),!P)P=A[z]=N,++_._eventsCount;else if(typeof P=="function"?P=A[z]=H?[N,P]:[P,N]:H?P.unshift(N):P.push(N),!P.warned&&(q=t(_),q&&q>0&&P.length>q)){P.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');U.name="MaxListenersExceededWarning",U.emitter=_,U.type=z,U.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",U.name,U.message)}return _}f.prototype.addListener=function(z,N){return l(this,z,N,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(z,N){return l(this,z,N,!0)};function s(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var _=new Array(arguments.length),z=0;z<_.length;++z)_[z]=arguments[z];this.listener.apply(this.target,_)}}function y(_,z,N){var H={fired:!1,wrapFn:void 0,target:_,type:z,listener:N},q=c.call(s,H);return q.listener=N,H.wrapFn=q,q}f.prototype.once=function(z,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,y(this,z,N)),this},f.prototype.prependOnceListener=function(z,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,y(this,z,N)),this},f.prototype.removeListener=function(z,N){var H,q,A,P,U;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(q=this._events,!q)return this;if(H=q[z],!H)return this;if(H===N||H.listener===N)--this._eventsCount===0?this._events=p(null):(delete q[z],q.removeListener&&this.emit("removeListener",z,H.listener||N));else if(typeof H!="function"){for(A=-1,P=H.length-1;P>=0;P--)if(H[P]===N||H[P].listener===N){U=H[P].listener,A=P;break}if(A<0)return this;A===0?H.shift():O(H,A),H.length===1&&(q[z]=H[0]),q.removeListener&&this.emit("removeListener",z,U||N)}return this},f.prototype.removeAllListeners=function(z){var N,H,q;if(H=this._events,!H)return this;if(!H.removeListener)return arguments.length===0?(this._events=p(null),this._eventsCount=0):H[z]&&(--this._eventsCount===0?this._events=p(null):delete H[z]),this;if(arguments.length===0){var A=d(H),P;for(q=0;q<A.length;++q)P=A[q],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=p(null),this._eventsCount=0,this}if(N=H[z],typeof N=="function")this.removeListener(z,N);else if(N)for(q=N.length-1;q>=0;q--)this.removeListener(z,N[q]);return this};function S(_,z,N){var H=_._events;if(!H)return[];var q=H[z];return q?typeof q=="function"?N?[q.listener||q]:[q]:N?M(q):L(q,q.length):[]}f.prototype.listeners=function(z){return S(this,z,!0)},f.prototype.rawListeners=function(z){return S(this,z,!1)},f.listenerCount=function(_,z){return typeof _.listenerCount=="function"?_.listenerCount(z):T.call(_,z)},f.prototype.listenerCount=T;function T(_){var z=this._events;if(z){var N=z[_];if(typeof N=="function")return 1;if(N)return N.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function O(_,z){for(var N=z,H=N+1,q=_.length;H<q;N+=1,H+=1)_[N]=_[H];_.pop()}function L(_,z){for(var N=new Array(z),H=0;H<z;++H)N[H]=_[H];return N}function M(_){for(var z=new Array(_.length),N=0;N<z.length;++N)z[N]=_[N].listener||_[N];return z}function I(_){var z=function(){};return z.prototype=_,new z}function h(_){for(var z in _)Object.prototype.hasOwnProperty.call(_,z);return z}function C(_){var z=this;return function(){return z.apply(_,arguments)}}},{}],23:[function(m,x,k){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */k.read=function(p,d,c,f,n){var e,o,t=n*8-f-1,i=(1<<t)-1,u=i>>1,a=-7,v=c?n-1:0,g=c?-1:1,l=p[d+v];for(v+=g,e=l&(1<<-a)-1,l>>=-a,a+=t;a>0;e=e*256+p[d+v],v+=g,a-=8);for(o=e&(1<<-a)-1,e>>=-a,a+=f;a>0;o=o*256+p[d+v],v+=g,a-=8);if(e===0)e=1-u;else{if(e===i)return o?NaN:(l?-1:1)*(1/0);o=o+Math.pow(2,f),e=e-u}return(l?-1:1)*o*Math.pow(2,e-f)},k.write=function(p,d,c,f,n,e){var o,t,i,u=e*8-n-1,a=(1<<u)-1,v=a>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=f?0:e-1,s=f?1:-1,y=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(t=isNaN(d)?1:0,o=a):(o=Math.floor(Math.log(d)/Math.LN2),d*(i=Math.pow(2,-o))<1&&(o--,i*=2),o+v>=1?d+=g/i:d+=g*Math.pow(2,1-v),d*i>=2&&(o++,i/=2),o+v>=a?(t=0,o=a):o+v>=1?(t=(d*i-1)*Math.pow(2,n),o=o+v):(t=d*Math.pow(2,v-1)*Math.pow(2,n),o=0));n>=8;p[c+l]=t&255,l+=s,t/=256,n-=8);for(o=o<<n|t,u+=n;u>0;p[c+l]=o&255,l+=s,o/=256,u-=8);p[c+l-s]|=y*128}},{}],24:[function(m,x,k){typeof Object.create=="function"?x.exports=function(d,c){c&&(d.super_=c,d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}:x.exports=function(d,c){if(c){d.super_=c;var f=function(){};f.prototype=c.prototype,d.prototype=new f,d.prototype.constructor=d}}},{}],25:[function(m,x,k){Object.defineProperty(k,"__esModule",{value:!0});var p=function(){function d(c,f){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=c,this.value=f}return d.prototype.rotateLeft=function(){var c=this.parent,f=this.brother,n=this.leftChild,e=this.rightChild;if(!e)throw new Error("unknown error");var o=e.leftChild,t=e.rightChild;return c&&(c.leftChild===this?c.leftChild=e:c.rightChild===this&&(c.rightChild=e)),e.parent=c,e.brother=f,e.leftChild=this,e.rightChild=t,f&&(f.brother=e),this.parent=e,this.brother=t,this.leftChild=n,this.rightChild=o,t&&(t.parent=e,t.brother=this),n&&(n.parent=this,n.brother=o),o&&(o.parent=this,o.brother=n),e},d.prototype.rotateRight=function(){var c=this.parent,f=this.brother,n=this.leftChild;if(!n)throw new Error("unknown error");var e=this.rightChild,o=n.leftChild,t=n.rightChild;return c&&(c.leftChild===this?c.leftChild=n:c.rightChild===this&&(c.rightChild=n)),n.parent=c,n.brother=f,n.leftChild=o,n.rightChild=this,f&&(f.brother=n),o&&(o.parent=n,o.brother=this),this.parent=n,this.brother=o,this.leftChild=t,this.rightChild=e,t&&(t.parent=this,t.brother=e),e&&(e.parent=this,e.brother=t),n},d.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},d.TreeNodeColorType={red:!0,black:!1},d}();Object.freeze(p),k.default=p},{}],26:[function(m,x,k){var p=this&&this.__generator||function(c,f){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,o,t,i;return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(v){return function(g){return a([v,g])}}function a(v){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,o&&(t=v[0]&2?o.return:v[0]?o.throw||((t=o.return)&&t.call(o),0):o.next)&&!(t=t.call(o,v[1])).done)return t;switch(o=0,t&&(v=[v[0]&2,t.value]),v[0]){case 0:case 1:t=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!t||v[1]>t[0]&&v[1]<t[3])){n.label=v[1];break}if(v[0]===6&&n.label<t[1]){n.label=t[1],t=v;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(v);break}t[2]&&n.ops.pop(),n.trys.pop();continue}v=f.call(c,n)}catch(g){v=[6,g],o=0}finally{e=t=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(k,"__esModule",{value:!0}),d.sigma=3,d.bucketSize=5e3;function d(c){var f=this;c===void 0&&(c=[]);var n=[],e=0,o=0,t=0,i=0,u=0,a=0;this.size=function(){return a},this.empty=function(){return a===0},this.clear=function(){e=t=o=i=u=a=0,g.call(this,d.bucketSize),a=0},this.front=function(){return n[e][o]},this.back=function(){return n[t][i]},this.forEach=function(l){if(!this.empty()){var s=0;if(e===t){for(var y=o;y<=i;++y)l(n[e][y],s++);return}for(var y=o;y<d.bucketSize;++y)l(n[e][y],s++);for(var y=e+1;y<t;++y)for(var S=0;S<d.bucketSize;++S)l(n[y][S],s++);for(var y=0;y<=i;++y)l(n[t][y],s++)}};var v=function(l){var s=e*d.bucketSize+o,y=s+l,S=t*d.bucketSize+i;if(y<s||y>S)throw new Error("pos should more than 0 and less than queue's size");var T=Math.floor(y/d.bucketSize),O=y%d.bucketSize;return{curNodeBucketIndex:T,curNodePointerIndex:O}};this.getElementByPos=function(l){var s=v(l),y=s.curNodeBucketIndex,S=s.curNodePointerIndex;return n[y][S]},this.eraseElementByPos=function(l){var s=this;if(l<0||l>a)throw new Error("pos should more than 0 and less than queue's size");if(l===0)this.popFront();else if(l===this.size())this.popBack();else{for(var y=[],S=l+1;S<a;++S)y.push(this.getElementByPos(S));this.cut(l),this.popBack(),y.forEach(function(T){return s.pushBack(T)})}},this.eraseElementByValue=function(l){if(!this.empty()){var s=[];this.forEach(function(T){T!==l&&s.push(T)});for(var y=s.length,S=0;S<y;++S)this.setElementByPos(S,s[S]);this.cut(y-1)}};var g=function(l){for(var s=[],y=l*d.sigma,S=Math.max(Math.ceil(y/d.bucketSize),2),T=0;T<S;++T)s.push(new Array(d.bucketSize));var O=Math.ceil(l/d.bucketSize),L=Math.floor(S/2)-Math.floor(O/2),M=L,I=0;if(this.size())for(var T=0;T<O;++T){for(var h=0;h<d.bucketSize;++h)if(s[L+T][h]=this.front(),this.popFront(),this.empty()){M=L+T,I=h;break}if(this.empty())break}n=s,e=L,o=0,t=M,i=I,u=S,a=l};this.pushBack=function(l){this.empty()||(t===u-1&&i===d.bucketSize-1&&g.call(this,this.size()),i<d.bucketSize-1?++i:t<u-1&&(++t,i=0)),++a,n[t][i]=l},this.popBack=function(){this.empty()||(this.size()!==1&&(i>0?--i:e<t&&(--t,i=d.bucketSize-1)),a>0&&--a)},this.setElementByPos=function(l,s){var y=v(l),S=y.curNodeBucketIndex,T=y.curNodePointerIndex;n[S][T]=s},this.insert=function(l,s,y){var S=this;if(y===void 0&&(y=1),l===0)for(;y--;)this.pushFront(s);else if(l===this.size())for(;y--;)this.pushBack(s);else{for(var T=[],O=l;O<a;++O)T.push(this.getElementByPos(O));this.cut(l-1);for(var O=0;O<y;++O)this.pushBack(s);T.forEach(function(L){return S.pushBack(L)})}},this.find=function(l){if(e===t){for(var s=o;s<=i;++s)if(n[e][s]===l)return!0;return!1}for(var s=o;s<d.bucketSize;++s)if(n[e][s]===l)return!0;for(var s=e+1;s<t;++s)for(var y=0;y<d.bucketSize;++y)if(n[s][y]===l)return!0;for(var s=0;s<=i;++s)if(n[t][s]===l)return!0;return!1},this.reverse=function(){for(var l=0,s=a-1;l<s;){var y=this.getElementByPos(l);this.setElementByPos(l,this.getElementByPos(s)),this.setElementByPos(s,y),++l,--s}},this.unique=function(){if(!this.empty()){var l=[],s=this.front();this.forEach(function(S,T){(T===0||S!==s)&&(l.push(S),s=S)});for(var y=0;y<a;++y)this.setElementByPos(y,l[y]);this.cut(l.length-1)}},this.sort=function(l){var s=[];this.forEach(function(S){s.push(S)}),s.sort(l);for(var y=0;y<a;++y)this.setElementByPos(y,s[y])},this.pushFront=function(l){this.empty()||(e===0&&o===0&&g.call(this,this.size()),o>0?--o:e>0&&(--e,o=d.bucketSize-1)),++a,n[e][o]=l},this.popFront=function(){this.empty()||(this.size()!==1&&(o<d.bucketSize-1?++o:e<t&&(++e,o=0)),a>0&&--a)},this.shrinkToFit=function(){var l=this,s=[];this.forEach(function(O){s.push(O)});var y=s.length;n=[];for(var S=Math.ceil(y/d.bucketSize),T=0;T<S;++T)n.push(new Array(d.bucketSize));this.clear(),s.forEach(function(O){return l.pushBack(O)})},this.cut=function(l){if(l<0){this.clear();return}var s=v(l),y=s.curNodeBucketIndex,S=s.curNodePointerIndex;t=y,i=S,a=l+1},this[Symbol.iterator]=function(){return function(){var s,s,s,l,s;return p(this,function(y){switch(y.label){case 0:if(a===0)return[2];if(e!==t)return[3,5];s=o,y.label=1;case 1:return s<=i?[4,n[e][s]]:[3,4];case 2:y.sent(),y.label=3;case 3:return++s,[3,1];case 4:return[2];case 5:s=o,y.label=6;case 6:return s<d.bucketSize?[4,n[e][s]]:[3,9];case 7:y.sent(),y.label=8;case 8:return++s,[3,6];case 9:s=e+1,y.label=10;case 10:if(!(s<t))return[3,15];l=0,y.label=11;case 11:return l<d.bucketSize?[4,n[s][l]]:[3,14];case 12:y.sent(),y.label=13;case 13:return++l,[3,11];case 14:return++s,[3,10];case 15:s=0,y.label=16;case 16:return s<=i?[4,n[t][s]]:[3,19];case 17:y.sent(),y.label=18;case 18:return++s,[3,16];case 19:return[2]}})}()},function(){var l=d.bucketSize;c.size?l=c.size():c.length&&(l=c.length);var s=l*d.sigma;u=Math.ceil(s/d.bucketSize),u=Math.max(u,3);for(var y=0;y<u;++y)n.push(new Array(d.bucketSize));var S=Math.ceil(l/d.bucketSize);e=Math.floor(u/2)-Math.floor(S/2),t=e,c.forEach(function(T){return f.pushBack(T)})}(),Object.freeze(this)}Object.freeze(d),k.default=d},{}],27:[function(m,x,k){var p=this&&this.__generator||function(e,o){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,u,a,v;return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(s){return function(y){return l([s,y])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(a=s[0]&2?u.return:s[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,s[1])).done)return a;switch(u=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,u=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){t.label=s[1];break}if(s[0]===6&&t.label<a[1]){t.label=a[1],a=s;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(s);break}a[2]&&t.ops.pop(),t.trys.pop();continue}s=o.call(e,t)}catch(y){s=[6,y],u=0}finally{i=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},d=this&&this.__values||function(e){var o=typeof Symbol=="function"&&Symbol.iterator,t=o&&e[o],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(k,"__esModule",{value:!0});var c=m("../LinkList/LinkList"),f=m("../Map/Map");n.initSize=1<<4,n.maxSize=1<<30,n.sigma=.75,n.treeifyThreshold=8,n.untreeifyThreshold=6,n.minTreeifySize=64;function n(e,o,t){var i=this;if(e===void 0&&(e=[]),o===void 0&&(o=n.initSize),t=t||function(l){var s,y,S=0,T="";if(typeof l=="number")S=Math.floor(l),S=(S<<5)-S,S=S&S;else{typeof l!="string"?T=JSON.stringify(l):T=l;try{for(var O=d(T),L=O.next();!L.done;L=O.next()){var M=L.value,I=M.charCodeAt(0);S=(S<<5)-S+I,S=S&S}}catch(h){s={error:h}}finally{try{L&&!L.done&&(y=O.return)&&y.call(O)}finally{if(s)throw s.error}}}return S^=S>>>16,S},(o&o-1)!==0)throw new Error("initBucketNum must be 2 to the power of n");var u=0,a=[],v=Math.max(n.initSize,Math.min(n.maxSize,o));this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){u=0,v=o,a=[]},this.forEach=function(l){var s=0;a.forEach(function(y){y.forEach(function(S){l(S,s++)})})};var g=function(l){if(!(l>=n.maxSize)){v=l*2;var s=[];a.forEach(function(y,S){if(!y.empty()){if(y instanceof c.default&&y.size()===1){var T=y.front(),O=T.key,L=T.value;s[t(O)&v-1]=new c.default([{key:O,value:L}])}else if(y instanceof f.default){var M=new c.default,I=new c.default;y.forEach(function(_){var z=t(_.key);(z&l)===0?M.pushBack(_):I.pushBack(_)}),M.size()>n.untreeifyThreshold?s[S]=new f.default(M):M.size()&&(s[S]=M),I.size()>n.untreeifyThreshold?s[S+l]=new f.default(I):I.size()&&(s[S+l]=I)}else{var h=new c.default,C=new c.default;y.forEach(function(_){var z=t(_.key);(z&l)===0?h.pushBack(_):C.pushBack(_)}),h.size()&&(s[S]=h),C.size()&&(s[S+l]=C)}a[S].clear()}}),a=s}};this.setElement=function(l,s){var y,S;if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(s==null){this.eraseElementByKey(l);return}var T=t(l)&v-1;if(!a[T])++u,a[T]=new c.default([{key:l,value:s}]);else{var O=a[T].size();if(a[T]instanceof c.default){try{for(var L=d(a[T]),M=L.next();!M.done;M=L.next()){var I=M.value;if(I.key===l){I.value=s;return}}}catch(C){y={error:C}}finally{try{M&&!M.done&&(S=L.return)&&S.call(L)}finally{if(y)throw y.error}}a[T].pushBack({key:l,value:s}),a[T].size()>=n.treeifyThreshold&&(a[T]=new f.default(a[T]))}else a[T].setElement(l,s);var h=a[T].size();u+=h-O}u>v*n.sigma&&g.call(this,v)},this.getElementByKey=function(l){var s,y,S=t(l)&v-1;if(!!a[S]){if(a[S]instanceof f.default)return a[S].getElementByKey(l);try{for(var T=d(a[S]),O=T.next();!O.done;O=T.next()){var L=O.value;if(L.key===l)return L.value}}catch(M){s={error:M}}finally{try{O&&!O.done&&(y=T.return)&&y.call(T)}finally{if(s)throw s.error}}}},this.eraseElementByKey=function(l){var s,y,S=t(l)&v-1;if(!!a[S]){var T=a[S].size();if(a[S]instanceof f.default)a[S].eraseElementByKey(l),a[S].size()<=n.untreeifyThreshold&&(a[S]=new c.default(a[S]));else{var O=-1;try{for(var L=d(a[S]),M=L.next();!M.done;M=L.next()){var I=M.value;if(++O,I.key===l){a[S].eraseElementByPos(O);break}}}catch(C){s={error:C}}finally{try{M&&!M.done&&(y=L.return)&&y.call(L)}finally{if(s)throw s.error}}}var h=a[S].size();u+=h-T}},this.find=function(l){var s,y,S=t(l)&v-1;if(!a[S])return!1;if(a[S]instanceof f.default)return a[S].find(l);try{for(var T=d(a[S]),O=T.next();!O.done;O=T.next()){var L=O.value;if(L.key===l)return!0}}catch(M){s={error:M}}finally{try{O&&!O.done&&(y=T.return)&&y.call(T)}finally{if(s)throw s.error}}return!1},this[Symbol.iterator]=function(){return function(){var l,s,y,S,T,O,L;return p(this,function(M){switch(M.label){case 0:l=0,M.label=1;case 1:if(!(l<v))return[3,10];for(;l<v&&!a[l];)++l;if(l>=v)return[3,10];M.label=2;case 2:M.trys.push([2,7,8,9]),s=(O=void 0,d(a[l])),y=s.next(),M.label=3;case 3:return y.done?[3,6]:(S=y.value,[4,S]);case 4:M.sent(),M.label=5;case 5:return y=s.next(),[3,3];case 6:return[3,9];case 7:return T=M.sent(),O={error:T},[3,9];case 8:try{y&&!y.done&&(L=s.return)&&L.call(s)}finally{if(O)throw O.error}return[7];case 9:return++l,[3,1];case 10:return[2]}})}()},e.forEach(function(l){var s=l.key,y=l.value;return i.setElement(s,y)}),Object.freeze(this)}Object.freeze(n),k.default=n},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(m,x,k){var p=this&&this.__generator||function(e,o){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,u,a,v;return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(s){return function(y){return l([s,y])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(a=s[0]&2?u.return:s[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,s[1])).done)return a;switch(u=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,u=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){t.label=s[1];break}if(s[0]===6&&t.label<a[1]){t.label=a[1],a=s;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(s);break}a[2]&&t.ops.pop(),t.trys.pop();continue}s=o.call(e,t)}catch(y){s=[6,y],u=0}finally{i=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},d=this&&this.__values||function(e){var o=typeof Symbol=="function"&&Symbol.iterator,t=o&&e[o],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(k,"__esModule",{value:!0});var c=m("../Set/Set"),f=m("../LinkList/LinkList");n.initSize=1<<4,n.maxSize=1<<30,n.sigma=.75,n.treeifyThreshold=8,n.untreeifyThreshold=6,n.minTreeifySize=64;function n(e,o,t){var i=this;if(e===void 0&&(e=[]),o===void 0&&(o=n.initSize),t=t||function(l){var s=0,y="";if(typeof l=="number")s=Math.floor(l),s=(s<<5)-s,s=s&s;else{typeof l!="string"?y=JSON.stringify(l):y=l;for(var S=0;S<y.length;S++){var T=y.charCodeAt(S);s=(s<<5)-s+T,s=s&s}}return s^=s>>>16,s},(o&o-1)!==0)throw new Error("initBucketNum must be 2 to the power of n");var u=0,a=[],v=Math.max(n.initSize,Math.min(n.maxSize,o));this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){u=0,v=o,a=[]},this.forEach=function(l){var s=0;a.forEach(function(y){y.forEach(function(S){l(S,s++)})})};var g=function(l){if(!(l>=n.maxSize)){v=l*2;var s=[];a.forEach(function(y,S){if(!y.empty()){if(y instanceof f.default&&y.size()===1){var T=y.front();if(T===void 0)throw new Error("unknown error");s[t(T)&v-1]=new f.default([T])}else if(y instanceof c.default){var O=new f.default,L=new f.default;y.forEach(function(h){var C=t(h);(C&l)===0?O.pushBack(h):L.pushBack(h)}),O.size()>n.untreeifyThreshold?s[S]=new c.default(O):O.size()&&(s[S]=O),L.size()>n.untreeifyThreshold?s[S+l]=new c.default(L):L.size()&&(s[S+l]=L)}else{var M=new f.default,I=new f.default;y.forEach(function(h){var C=t(h);(C&l)===0?M.pushBack(h):I.pushBack(h)}),M.size()&&(s[S]=M),I.size()&&(s[S+l]=I)}a[S].clear()}}),a=s}};this.insert=function(l){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var s=t(l)&v-1;if(!a[s])a[s]=new f.default([l]),++u;else{var y=a[s].size();if(a[s]instanceof f.default){if(a[s].find(l))return;a[s].pushBack(l),a[s].size()>=n.treeifyThreshold&&(a[s]=new c.default(a[s]))}else a[s].insert(l);var S=a[s].size();u+=S-y}u>v*n.sigma&&g.call(this,v)},this.eraseElementByValue=function(l){var s=t(l)&v-1;if(!!a[s]){var y=a[s].size();a[s].eraseElementByValue(l),a[s]instanceof c.default&&a[s].size()<=n.untreeifyThreshold&&(a[s]=new f.default(a[s]));var S=a[s].size();u+=S-y}},this.find=function(l){var s=t(l)&v-1;return a[s]?a[s].find(l):!1},this[Symbol.iterator]=function(){return function(){var l,s,y,S,T,O,L;return p(this,function(M){switch(M.label){case 0:l=0,M.label=1;case 1:if(!(l<v))return[3,10];for(;l<v&&!a[l];)++l;if(l>=v)return[3,10];M.label=2;case 2:M.trys.push([2,7,8,9]),s=(O=void 0,d(a[l])),y=s.next(),M.label=3;case 3:return y.done?[3,6]:(S=y.value,[4,S]);case 4:M.sent(),M.label=5;case 5:return y=s.next(),[3,3];case 6:return[3,9];case 7:return T=M.sent(),O={error:T},[3,9];case 8:try{y&&!y.done&&(L=s.return)&&L.call(s)}finally{if(O)throw O.error}return[7];case 9:return++l,[3,1];case 10:return[2]}})}()},e.forEach(function(l){return i.insert(l)}),Object.freeze(this)}Object.freeze(n),k.default=n},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(m,x,k){var p=this&&this.__generator||function(f,n){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,t,i,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(g){return function(l){return v([g,l])}}function v(g){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,t&&(i=g[0]&2?t.return:g[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,g[1])).done)return i;switch(t=0,i&&(g=[g[0]&2,i.value]),g[0]){case 0:case 1:i=g;break;case 4:return e.label++,{value:g[1],done:!1};case 5:e.label++,t=g[1],g=[0];continue;case 7:g=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(g[0]===6||g[0]===2)){e=0;continue}if(g[0]===3&&(!i||g[1]>i[0]&&g[1]<i[3])){e.label=g[1];break}if(g[0]===6&&e.label<i[1]){e.label=i[1],i=g;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(g);break}i[2]&&e.ops.pop(),e.trys.pop();continue}g=n.call(f,e)}catch(l){g=[6,l],t=0}finally{o=i=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(k,"__esModule",{value:!0});var d=function(){function f(n){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=n}return f}();function c(f){var n=this;f===void 0&&(f=[]);var e=0,o=void 0,t=void 0;this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){o=t=void 0,e=0},this.front=function(){return o==null?void 0:o.value},this.back=function(){return t==null?void 0:t.value},this.forEach=function(i){for(var u=o,a=0;u;){if(u.value===void 0)throw new Error("unknown error");i(u.value,a++),u=u.next}},this.getElementByPos=function(i){if(i<0||i>=e)throw new Error("pos must more then 0 and less then the list length");for(var u=o;i--&&u;)u=u.next;if(!u||u.value===void 0)throw new Error("unknown error");return u.value},this.eraseElementByPos=function(i){if(i<0||i>=e)throw new Error("erase pos must more then 0 and less then the list length");if(i===0)this.popFront();else if(i===e-1)this.popBack();else{for(var u=o;i--;){if(!(u!=null&&u.next))throw new Error("unknown error");u=u.next}if(!u||!u.pre||!u.next)throw new Error("unknown error");var a=u.pre,v=u.next;v.pre=a,a.next=v,e>0&&--e}},this.eraseElementByValue=function(i){for(;o&&o.value===i;)this.popFront();for(;t&&t.value===i;)this.popBack();if(!!o)for(var u=o;u;){if(u.value===i){var a=u.pre,v=u.next;v&&(v.pre=a),a&&(a.next=v),e>0&&--e}u=u.next}},this.pushBack=function(i){if(i==null)throw new Error("you can't push null or undefined here");++e;var u=new d(i);t?(t.next=u,u.pre=t,t=u):o=t=u},this.popBack=function(){!t||(e>0&&--e,t&&(o===t?o=t=void 0:(t=t.pre,t&&(t.next=void 0))))},this.setElementByPos=function(i,u){if(u==null)throw new Error("you can't set null or undefined here");if(i<0||i>=e)throw new Error("pos must more then 0 and less then the list length");for(var a=o;i--;){if(!a)throw new Error("unknown error");a=a.next}a&&(a.value=u)},this.insert=function(i,u,a){if(a===void 0&&(a=1),u==null)throw new Error("you can't insert null or undefined here");if(i<0||i>e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(a<0)throw new Error("insert size must more than 0");if(i===0)for(;a--;)this.pushFront(u);else if(i===e)for(;a--;)this.pushBack(u);else{for(var v=o,g=1;g<i;++g){if(!(v!=null&&v.next))throw new Error("unknown error");v=v==null?void 0:v.next}if(!v)throw new Error("unknown error");var l=v.next;for(e+=a;a--;)v.next=new d(u),v.next.pre=v,v=v.next;v.next=l,l&&(l.pre=v)}},this.find=function(i){for(var u=o;u;){if(u.value===i)return!0;u=u.next}return!1},this.reverse=function(){for(var i=o,u=t,a=0;i&&u&&a*2<e;){var v=i.value;i.value=u.value,u.value=v,i=i.next,u=u.pre,++a}},this.unique=function(){for(var i=o;i;){for(var u=i;u&&u.next&&u.value===u.next.value;)u=u.next,e>0&&--e;i.next=u.next,i.next&&(i.next.pre=i),i=i.next}},this.sort=function(i){var u=[];this.forEach(function(v){u.push(v)}),u.sort(i);var a=o;u.forEach(function(v){a&&(a.value=v,a=a.next)})},this.pushFront=function(i){if(i==null)throw new Error("you can't push null or undefined here");++e;var u=new d(i);o?(u.next=o,o.pre=u,o=u):o=t=u},this.popFront=function(){!o||(e>0&&--e,o&&(o===t?o=t=void 0:(o=o.next,o&&(o.pre=void 0))))},this.merge=function(i){var u=this,a=o;i.forEach(function(v){for(;a&&a.value!==void 0&&a.value<=v;)a=a.next;if(a===void 0)u.pushBack(v),a=t;else if(a===o)u.pushFront(v),a=o;else{++e;var g=a.pre;g&&(g.next=new d(v),g.next.pre=g,g.next.next=a,a&&(a.pre=g.next))}})},this[Symbol.iterator]=function(){return function(){var i;return p(this,function(u){switch(u.label){case 0:i=o,u.label=1;case 1:if(i===void 0)return[3,3];if(!i.value)throw new Error("unknown error");return[4,i.value];case 2:return u.sent(),i=i.next,[3,1];case 3:return[2]}})}()},f.forEach(function(i){return n.pushBack(i)}),Object.freeze(this)}Object.freeze(c),k.default=c},{}],30:[function(m,x,k){var p=this&&this.__generator||function(n,e){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},t,i,u,a;return a={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function v(l){return function(s){return g([l,s])}}function g(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(u=l[0]&2?i.return:l[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,l[1])).done)return u;switch(i=0,u&&(l=[l[0]&2,u.value]),l[0]){case 0:case 1:u=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!u||l[1]>u[0]&&l[1]<u[3])){o.label=l[1];break}if(l[0]===6&&o.label<u[1]){o.label=u[1],u=l;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(l);break}u[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(n,o)}catch(s){l=[6,s],i=0}finally{t=u=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},d=this&&this.__values||function(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],t=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(k,"__esModule",{value:!0});var c=m("../Base/TreeNode");function f(n,e){var o=this;n===void 0&&(n=[]),e=e||function(h,C){return h<C?-1:h>C?1:0};var t=0,i=new c.default;i.color=c.default.TreeNodeColorType.black,this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){t=0,i.key=i.value=void 0,i.leftChild=i.rightChild=i.brother=void 0};var u=function(h){if(!h||h.key===void 0)throw new Error("unknown error");return h.leftChild?u(h.leftChild):h},a=function(h){if(!h||h.key===void 0)throw new Error("unknown error");return h.rightChild?a(h.rightChild):h};this.front=function(){if(!this.empty()){var h=u(i);if(h.key===void 0||h.value===void 0)throw new Error("unknown error");return{key:h.key,value:h.value}}},this.back=function(){if(!this.empty()){var h=a(i);if(h.key===void 0||h.value===void 0)throw new Error("unknown error");return{key:h.key,value:h.value}}},this.forEach=function(h){var C,_,z=0;try{for(var N=d(this),H=N.next();!H.done;H=N.next()){var q=H.value;h(q,z++)}}catch(A){C={error:A}}finally{try{H&&!H.done&&(_=N.return)&&_.call(N)}finally{if(C)throw C.error}}},this.getElementByPos=function(h){var C,_;if(h<0||h>=this.size())throw new Error("pos must more than 0 and less than set's size");var z=0;try{for(var N=d(this),H=N.next();!H.done;H=N.next()){var q=H.value;if(z===h)return q;++z}}catch(A){C={error:A}}finally{try{H&&!H.done&&(_=N.return)&&_.call(N)}finally{if(C)throw C.error}}throw new Error("unknown Error")};var v=function(h,C){if(!(!h||h.key===void 0||h.value===void 0)){var _=e(h.key,C);return _===0?{key:h.key,value:h.value}:_<0?v(h.rightChild,C):v(h.leftChild,C)||{key:h.key,value:h.value}}};this.lowerBound=function(h){return v(i,h)};var g=function(h,C){if(!(!h||h.key===void 0||h.value===void 0)){var _=e(h.key,C);return _<=0?g(h.rightChild,C):g(h.leftChild,C)||{key:h.key,value:h.value}}};this.upperBound=function(h){return g(i,h)};var l=function(h,C){if(!(!h||h.key===void 0||h.value===void 0)){var _=e(h.key,C);return _===0?{key:h.key,value:h.value}:_>0?l(h.leftChild,C):l(h.rightChild,C)||{key:h.key,value:h.value}}};this.reverseLowerBound=function(h){return l(i,h)};var s=function(h,C){if(!(!h||h.key===void 0||h.value===void 0)){var _=e(h.key,C);return _>=0?s(h.leftChild,C):s(h.rightChild,C)||{key:h.key,value:h.value}}};this.reverseUpperBound=function(h){return s(i,h)};var y=function(h){var C=h.parent;if(!C){if(h===i)return;throw new Error("unknown error")}if(h.color===c.default.TreeNodeColorType.red){h.color=c.default.TreeNodeColorType.black;return}var _=h.brother;if(!_)throw new Error("unknown error");if(h===C.leftChild){if(_.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.black,C.color=c.default.TreeNodeColorType.red;var z=C.rotateLeft();i===C&&(i=z),y(h)}else if(_.color===c.default.TreeNodeColorType.black)if(_.rightChild&&_.rightChild.color===c.default.TreeNodeColorType.red){_.color=C.color,C.color=c.default.TreeNodeColorType.black,_.rightChild&&(_.rightChild.color=c.default.TreeNodeColorType.black);var z=C.rotateLeft();i===C&&(i=z),h.color=c.default.TreeNodeColorType.black}else if((!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&_.leftChild&&_.leftChild.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.red,_.leftChild&&(_.leftChild.color=c.default.TreeNodeColorType.black);var z=_.rotateRight();i===_&&(i=z),y(h)}else(!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&(!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&(_.color=c.default.TreeNodeColorType.red,y(C))}else if(h===C.rightChild){if(_.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.black,C.color=c.default.TreeNodeColorType.red;var z=C.rotateRight();i===C&&(i=z),y(h)}else if(_.color===c.default.TreeNodeColorType.black)if(_.leftChild&&_.leftChild.color===c.default.TreeNodeColorType.red){_.color=C.color,C.color=c.default.TreeNodeColorType.black,_.leftChild&&(_.leftChild.color=c.default.TreeNodeColorType.black);var z=C.rotateRight();i===C&&(i=z),h.color=c.default.TreeNodeColorType.black}else if((!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&_.rightChild&&_.rightChild.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.red,_.rightChild&&(_.rightChild.color=c.default.TreeNodeColorType.black);var z=_.rotateLeft();i===_&&(i=z),y(h)}else(!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&(!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&(_.color=c.default.TreeNodeColorType.red,y(C))}},S=function(h){for(var C=h;C.leftChild||C.rightChild;){if(C.rightChild){C=u(C.rightChild);var _=h.key;h.key=C.key,C.key=_;var z=h.value;h.value=C.value,C.value=z,h=C}if(C.leftChild){C=a(C.leftChild);var _=h.key;h.key=C.key,C.key=_;var z=h.value;h.value=C.value,C.value=z,h=C}}y(C),C&&C.remove(),--t,i.color=c.default.TreeNodeColorType.black},T=function(h,C){if(!h||h.key===void 0)return!1;var _=T(h.leftChild,C);return _||C(h)?!0:T(h.rightChild,C)};this.eraseElementByPos=function(h){if(h<0||h>=t)throw new Error("pos must more than 0 and less than set's size");var C=0;T(i,function(_){return h===C?(S(_),!0):(++C,!1)})},this.eraseElementByKey=function(h){if(!this.empty()){var C=M(i,h);C===void 0||C.key===void 0||e(C.key,h)!==0||S(C)}};var O=function(h,C){if(!h||h.key===void 0)throw new Error("unknown error");var _=e(C,h.key);return _<0?h.leftChild?O(h.leftChild,C):(h.leftChild=new c.default,h.leftChild.parent=h,h.leftChild.brother=h.rightChild,h.rightChild&&(h.rightChild.brother=h.leftChild),h.leftChild):_>0?h.rightChild?O(h.rightChild,C):(h.rightChild=new c.default,h.rightChild.parent=h,h.rightChild.brother=h.leftChild,h.leftChild&&(h.leftChild.brother=h.rightChild),h.rightChild):h},L=function(h){var C=h.parent;if(!C){if(h===i)return;throw new Error("unknown error")}if(C.color!==c.default.TreeNodeColorType.black&&C.color===c.default.TreeNodeColorType.red){var _=C.brother,z=C.parent;if(!z)throw new Error("unknown error");if(_&&_.color===c.default.TreeNodeColorType.red)_.color=C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red,L(z);else if(!_||_.color===c.default.TreeNodeColorType.black){if(C===z.leftChild){if(h===C.leftChild){C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red;var N=z.rotateRight();z===i&&(i=N)}else if(h===C.rightChild){var N=C.rotateLeft();z===i&&(i=N),L(C)}}else if(C===z.rightChild){if(h===C.leftChild){var N=C.rotateRight();z===i&&(i=N),L(C)}else if(h===C.rightChild){C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red;var N=z.rotateLeft();z===i&&(i=N)}}}}};this.setElement=function(h,C){if(h==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(C==null){this.eraseElementByKey(h);return}if(this.empty()){++t,i.key=h,i.value=C,i.color=c.default.TreeNodeColorType.black;return}var _=O(i,h);if(_.key!==void 0&&e(_.key,h)===0){_.value=C;return}++t,_.key=h,_.value=C,L(_),i.color=c.default.TreeNodeColorType.black};var M=function(h,C){if(!(!h||h.key===void 0)){var _=e(C,h.key);return _<0?M(h.leftChild,C):_>0?M(h.rightChild,C):h}};this.find=function(h){return!!M(i,h)},this.getElementByKey=function(h){var C=M(i,h);if((C==null?void 0:C.key)===void 0||(C==null?void 0:C.value)===void 0)throw new Error("unknown error");return C.value},this.union=function(h){var C=this;h.forEach(function(_){var z=_.key,N=_.value;return C.setElement(z,N)})},this.getHeight=function(){if(this.empty())return 0;var h=function(C){return C?Math.max(h(C.leftChild),h(C.rightChild))+1:1};return h(i)};var I=function(h){return p(this,function(C){switch(C.label){case 0:return!h||h.key===void 0||h.value===void 0?[2]:[5,d(I(h.leftChild))];case 1:return C.sent(),[4,{key:h.key,value:h.value}];case 2:return C.sent(),[5,d(I(h.rightChild))];case 3:return C.sent(),[2]}})};this[Symbol.iterator]=function(){return I(i)},n.forEach(function(h){var C=h.key,_=h.value;return o.setElement(C,_)}),Object.freeze(this)}Object.freeze(f),k.default=f},{"../Base/TreeNode":25}],31:[function(m,x,k){Object.defineProperty(k,"__esModule",{value:!0});function p(d,c){d===void 0&&(d=[]),c=c||function(t,i){return t>i?-1:t<i?1:0};var f=[];d.forEach(function(t){return f.push(t)});var n=f.length,e=function(t,i){if(t<0||t>=n)throw new Error("unknown error");if(i<0||i>=n)throw new Error("unknown error");var u=f[t];f[t]=f[i],f[i]=u},o=function(t){if(t<0||t>=n)throw new Error("unknown error");var i=t*2+1,u=t*2+2;i<n&&c(f[t],f[i])>0&&e(t,i),u<n&&c(f[t],f[u])>0&&e(t,u)};(function(){for(var t=Math.floor((n-1)/2);t>=0;--t)for(var i=t,u=i*2+1;u<n;){var a=u,v=a+1,g=a;if(v<n&&c(f[a],f[v])>0&&(g=v),c(f[i],f[g])<=0)break;e(i,g),i=g,u=i*2+1}})(),this.size=function(){return n},this.empty=function(){return n===0},this.clear=function(){n=0,f.length=0},this.push=function(t){if(f.push(t),++n,n!==1)for(var i=n-1;i>0;){var u=Math.floor((i-1)/2);if(c(f[u],t)<=0)break;o(u),i=u}},this.pop=function(){if(!this.empty()){if(this.size()===1){--n;return}var t=f[n-1];--n;for(var i=0;i<this.size();){var u=i*2+1,a=i*2+2;if(u>=this.size())break;var v=u;if(a<this.size()&&c(f[u],f[a])>0&&(v=a),c(f[v],t)>=0)break;f[i]=f[v],i=v}f[i]=t}},this.top=function(){return f[0]},Object.freeze(this)}Object.freeze(p),k.default=p},{}],32:[function(m,x,k){Object.defineProperty(k,"__esModule",{value:!0});var p=m("../LinkList/LinkList");function d(c){c===void 0&&(c=[]);var f=new p.default(c);this.size=function(){return f.size()},this.empty=function(){return f.empty()},this.clear=function(){f.clear()},this.push=function(n){f.pushBack(n)},this.pop=function(){f.popFront()},this.front=function(){return f.front()},Object.freeze(this)}Object.freeze(d),k.default=d},{"../LinkList/LinkList":29}],33:[function(m,x,k){var p=this&&this.__generator||function(n,e){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},t,i,u,a;return a={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function v(l){return function(s){return g([l,s])}}function g(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(u=l[0]&2?i.return:l[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,l[1])).done)return u;switch(i=0,u&&(l=[l[0]&2,u.value]),l[0]){case 0:case 1:u=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!u||l[1]>u[0]&&l[1]<u[3])){o.label=l[1];break}if(l[0]===6&&o.label<u[1]){o.label=u[1],u=l;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(l);break}u[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(n,o)}catch(s){l=[6,s],i=0}finally{t=u=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},d=this&&this.__values||function(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],t=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(k,"__esModule",{value:!0});var c=m("../Base/TreeNode");function f(n,e){var o=this;n===void 0&&(n=[]),e=e||function(h,C){return h<C?-1:h>C?1:0};var t=0,i=new c.default;i.color=c.default.TreeNodeColorType.black,this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){t=0,i.key=void 0,i.leftChild=i.rightChild=i.brother=i.parent=void 0,i.color=c.default.TreeNodeColorType.black};var u=function(h){if(!h||h.key===void 0)throw new Error("unknown error");return h.leftChild?u(h.leftChild):h},a=function(h){if(!h||h.key===void 0)throw new Error("unknown error");return h.rightChild?a(h.rightChild):h};this.front=function(){if(!this.empty()){var h=u(i);return h.key}},this.back=function(){if(!this.empty()){var h=a(i);return h.key}},this.forEach=function(h){var C,_,z=0;try{for(var N=d(this),H=N.next();!H.done;H=N.next()){var q=H.value;h(q,z++)}}catch(A){C={error:A}}finally{try{H&&!H.done&&(_=N.return)&&_.call(N)}finally{if(C)throw C.error}}},this.getElementByPos=function(h){var C,_;if(h<0||h>=this.size())throw new Error("pos must more than 0 and less than set's size");var z=0;try{for(var N=d(this),H=N.next();!H.done;H=N.next()){var q=H.value;if(z===h)return q;++z}}catch(A){C={error:A}}finally{try{H&&!H.done&&(_=N.return)&&_.call(N)}finally{if(C)throw C.error}}throw new Error("unknown error")};var v=function(h){var C=h.parent;if(!C){if(h===i)return;throw new Error("unknown error")}if(h.color===c.default.TreeNodeColorType.red){h.color=c.default.TreeNodeColorType.black;return}var _=h.brother;if(!_)throw new Error("unknown error");if(h===C.leftChild){if(_.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.black,C.color=c.default.TreeNodeColorType.red;var z=C.rotateLeft();i===C&&(i=z),v(h)}else if(_.color===c.default.TreeNodeColorType.black)if(_.rightChild&&_.rightChild.color===c.default.TreeNodeColorType.red){_.color=C.color,C.color=c.default.TreeNodeColorType.black,_.rightChild&&(_.rightChild.color=c.default.TreeNodeColorType.black);var z=C.rotateLeft();i===C&&(i=z),h.color=c.default.TreeNodeColorType.black}else if((!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&_.leftChild&&_.leftChild.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.red,_.leftChild&&(_.leftChild.color=c.default.TreeNodeColorType.black);var z=_.rotateRight();i===_&&(i=z),v(h)}else(!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&(!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&(_.color=c.default.TreeNodeColorType.red,v(C))}else if(h===C.rightChild){if(_.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.black,C.color=c.default.TreeNodeColorType.red;var z=C.rotateRight();i===C&&(i=z),v(h)}else if(_.color===c.default.TreeNodeColorType.black)if(_.leftChild&&_.leftChild.color===c.default.TreeNodeColorType.red){_.color=C.color,C.color=c.default.TreeNodeColorType.black,_.leftChild&&(_.leftChild.color=c.default.TreeNodeColorType.black);var z=C.rotateRight();i===C&&(i=z),h.color=c.default.TreeNodeColorType.black}else if((!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&_.rightChild&&_.rightChild.color===c.default.TreeNodeColorType.red){_.color=c.default.TreeNodeColorType.red,_.rightChild&&(_.rightChild.color=c.default.TreeNodeColorType.black);var z=_.rotateLeft();i===_&&(i=z),v(h)}else(!_.leftChild||_.leftChild.color===c.default.TreeNodeColorType.black)&&(!_.rightChild||_.rightChild.color===c.default.TreeNodeColorType.black)&&(_.color=c.default.TreeNodeColorType.red,v(C))}},g=function(h){for(var C=h;C.leftChild||C.rightChild;){if(C.rightChild){C=u(C.rightChild);var _=h.key;h.key=C.key,C.key=_,h=C}if(C.leftChild){C=a(C.leftChild);var _=h.key;h.key=C.key,C.key=_,h=C}}v(C),C&&C.remove(),--t,i.color=c.default.TreeNodeColorType.black},l=function(h,C){if(!h||h.key===void 0)return!1;var _=l(h.leftChild,C);return _||C(h)?!0:l(h.rightChild,C)};this.eraseElementByPos=function(h){if(h<0||h>=t)throw new Error("pos must more than 0 and less than set's size");var C=0;l(i,function(_){return h===C?(g(_),!0):(++C,!1)})},this.eraseElementByValue=function(h){if(!this.empty()){var C=S(i,h);C===void 0||C.key===void 0||e(C.key,h)!==0||g(C)}};var s=function(h,C){if(!h||h.key===void 0)throw new Error("unknown error");var _=e(C,h.key);return _<0?h.leftChild?s(h.leftChild,C):(h.leftChild=new c.default,h.leftChild.parent=h,h.leftChild.brother=h.rightChild,h.rightChild&&(h.rightChild.brother=h.leftChild),h.leftChild):_>0?h.rightChild?s(h.rightChild,C):(h.rightChild=new c.default,h.rightChild.parent=h,h.rightChild.brother=h.leftChild,h.leftChild&&(h.leftChild.brother=h.rightChild),h.rightChild):h},y=function(h){var C=h.parent;if(!C){if(h===i)return;throw new Error("unknown error")}if(C.color!==c.default.TreeNodeColorType.black&&C.color===c.default.TreeNodeColorType.red){var _=C.brother,z=C.parent;if(!z)throw new Error("unknown error");if(_&&_.color===c.default.TreeNodeColorType.red)_.color=C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red,y(z);else if(!_||_.color===c.default.TreeNodeColorType.black){if(C===z.leftChild){if(h===C.leftChild){C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red;var N=z.rotateRight();z===i&&(i=N)}else if(h===C.rightChild){var N=C.rotateLeft();z===i&&(i=N),y(C)}}else if(C===z.rightChild){if(h===C.leftChild){var N=C.rotateRight();z===i&&(i=N),y(C)}else if(h===C.rightChild){C.color=c.default.TreeNodeColorType.black,z.color=c.default.TreeNodeColorType.red;var N=z.rotateLeft();z===i&&(i=N)}}}}};this.insert=function(h){if(h==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++t,i.key=h,i.color=c.default.TreeNodeColorType.black;return}var C=s(i,h);C.key!==void 0&&e(C.key,h)===0||(++t,C.key=h,y(C),i.color=c.default.TreeNodeColorType.black)};var S=function(h,C){if(!(!h||h.key===void 0)){var _=e(C,h.key);return _<0?S(h.leftChild,C):_>0?S(h.rightChild,C):h}};this.find=function(h){var C=S(i,h);return C!==void 0&&C.key!==void 0&&e(C.key,h)===0};var T=function(h,C){if(!(!h||h.key===void 0)){var _=e(h.key,C);if(_===0)return h.key;if(_<0)return T(h.rightChild,C);var z=T(h.leftChild,C);return z!==void 0?z:h.key}};this.lowerBound=function(h){return T(i,h)};var O=function(h,C){if(!(!h||h.key===void 0)){var _=e(h.key,C);if(_<=0)return O(h.rightChild,C);var z=O(h.leftChild,C);return z!==void 0?z:h.key}};this.upperBound=function(h){return O(i,h)};var L=function(h,C){if(!(!h||h.key===void 0)){var _=e(h.key,C);if(_===0)return h.key;if(_>0)return L(h.leftChild,C);var z=L(h.rightChild,C);return z!==void 0?z:h.key}};this.reverseLowerBound=function(h){return L(i,h)};var M=function(h,C){if(!(!h||h.key===void 0)){var _=e(h.key,C);if(_>=0)return M(h.leftChild,C);var z=M(h.rightChild,C);return z!==void 0?z:h.key}};this.reverseUpperBound=function(h){return M(i,h)},this.union=function(h){var C=this;h.forEach(function(_){return C.insert(_)})},this.getHeight=function(){if(this.empty())return 0;var h=function(C){return C?Math.max(h(C.leftChild),h(C.rightChild))+1:1};return h(i)};var I=function(h){return p(this,function(C){switch(C.label){case 0:return!h||h.key===void 0?[2]:[5,d(I(h.leftChild))];case 1:return C.sent(),[4,h.key];case 2:return C.sent(),[5,d(I(h.rightChild))];case 3:return C.sent(),[2]}})};this[Symbol.iterator]=function(){return I(i)},n.forEach(function(h){return o.insert(h)}),Object.freeze(this)}Object.freeze(f),k.default=f},{"../Base/TreeNode":25}],34:[function(m,x,k){Object.defineProperty(k,"__esModule",{value:!0});function p(d){var c=this;d===void 0&&(d=[]);var f=0,n=[];this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,n.length=0},this.push=function(e){n.push(e),++f},this.pop=function(){n.pop(),f>0&&--f},this.top=function(){return n[f-1]},d.forEach(function(e){return c.push(e)}),Object.freeze(this)}Object.freeze(p),k.default=p},{}],35:[function(m,x,k){var p=this&&this.__generator||function(e,o){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,u,a,v;return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(s){return function(y){return l([s,y])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(a=s[0]&2?u.return:s[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,s[1])).done)return a;switch(u=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,u=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){t.label=s[1];break}if(s[0]===6&&t.label<a[1]){t.label=a[1],a=s;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(s);break}a[2]&&t.ops.pop(),t.trys.pop();continue}s=o.call(e,t)}catch(y){s=[6,y],u=0}finally{i=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},d=this&&this.__read||function(e,o){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),u,a=[],v;try{for(;(o===void 0||o-- >0)&&!(u=i.next()).done;)a.push(u.value)}catch(g){v={error:g}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(v)throw v.error}}return a},c=this&&this.__spreadArray||function(e,o,t){if(t||arguments.length===2)for(var i=0,u=o.length,a;i<u;i++)(a||!(i in o))&&(a||(a=Array.prototype.slice.call(o,0,i)),a[i]=o[i]);return e.concat(a||Array.prototype.slice.call(o))},f=this&&this.__values||function(e){var o=typeof Symbol=="function"&&Symbol.iterator,t=o&&e[o],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(k,"__esModule",{value:!0});function n(e){var o=this;e===void 0&&(e=[]);var t=0,i=[];this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){t=0,i.length=0},this.front=function(){if(!this.empty())return i[0]},this.back=function(){if(!this.empty())return i[t-1]},this.forEach=function(u){i.forEach(u)},this.getElementByPos=function(u){if(u<0||u>=t)throw new Error("pos must more than 0 and less than vector's size");return i[u]},this.eraseElementByPos=function(u){if(u<0||u>=t)throw new Error("pos must more than 0 and less than vector's size");for(var a=u;a<t-1;++a)i[a]=i[a+1];this.popBack()},this.eraseElementByValue=function(u){var a=[];this.forEach(function(g){g!==u&&a.push(g)}),a.forEach(function(g,l){i[l]=g});for(var v=a.length;t>v;)this.popBack()},this.pushBack=function(u){i.push(u),++t},this.popBack=function(){i.pop(),t>0&&--t},this.setElementByPos=function(u,a){if(u<0||u>=t)throw new Error("pos must more than 0 and less than vector's size");i[u]=a},this.insert=function(u,a,v){if(v===void 0&&(v=1),u<0||u>t)throw new Error("pos must more than 0 and less than or equal to vector's size");i.splice.apply(i,c([u,0],d(new Array(v).fill(a)),!1)),t+=v},this.find=function(u){return i.includes(u)},this.reverse=function(){i.reverse()},this.unique=function(){var u,a=[];this.forEach(function(g,l){(l===0||g!==u)&&(a.push(g),u=g)}),a.forEach(function(g,l){i[l]=g});for(var v=a.length;t>v;)this.popBack()},this.sort=function(u){i.sort(u)},this[Symbol.iterator]=function(){return function(){return p(this,function(u){switch(u.label){case 0:return[5,f(i)];case 1:return[2,u.sent()]}})}()},e.forEach(function(u){return o.pushBack(u)}),Object.freeze(this)}Object.freeze(n),k.default=n},{}],36:[function(m,x,k){Object.defineProperty(k,"__esModule",{value:!0}),k.HashMap=k.HashSet=k.Map=k.Set=k.PriorityQueue=k.Deque=k.LinkList=k.Queue=k.Stack=k.Vector=void 0;var p=m("./Vector/Vector");k.Vector=p.default;var d=m("./Stack/Stack");k.Stack=d.default;var c=m("./Queue/Queue");k.Queue=c.default;var f=m("./LinkList/LinkList");k.LinkList=f.default;var n=m("./Deque/Deque");k.Deque=n.default;var e=m("./PriorityQueue/PriorityQueue");k.PriorityQueue=e.default;var o=m("./Set/Set");k.Set=o.default;var t=m("./Map/Map");k.Map=t.default;var i=m("./HashSet/HashSet");k.HashSet=i.default;var u=m("./HashMap/HashMap");k.HashMap=u.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(m,x,k){const p=m("yallist"),d=Symbol("max"),c=Symbol("length"),f=Symbol("lengthCalculator"),n=Symbol("allowStale"),e=Symbol("maxAge"),o=Symbol("dispose"),t=Symbol("noDisposeOnSet"),i=Symbol("lruList"),u=Symbol("cache"),a=Symbol("updateAgeOnGet"),v=()=>1;class g{constructor(M){if(typeof M=="number"&&(M={max:M}),M||(M={}),M.max&&(typeof M.max!="number"||M.max<0))throw new TypeError("max must be a non-negative number");this[d]=M.max||1/0;const I=M.length||v;if(this[f]=typeof I!="function"?v:I,this[n]=M.stale||!1,M.maxAge&&typeof M.maxAge!="number")throw new TypeError("maxAge must be a number");this[e]=M.maxAge||0,this[o]=M.dispose,this[t]=M.noDisposeOnSet||!1,this[a]=M.updateAgeOnGet||!1,this.reset()}set max(M){if(typeof M!="number"||M<0)throw new TypeError("max must be a non-negative number");this[d]=M||1/0,y(this)}get max(){return this[d]}set allowStale(M){this[n]=!!M}get allowStale(){return this[n]}set maxAge(M){if(typeof M!="number")throw new TypeError("maxAge must be a non-negative number");this[e]=M,y(this)}get maxAge(){return this[e]}set lengthCalculator(M){typeof M!="function"&&(M=v),M!==this[f]&&(this[f]=M,this[c]=0,this[i].forEach(I=>{I.length=this[f](I.value,I.key),this[c]+=I.length})),y(this)}get lengthCalculator(){return this[f]}get length(){return this[c]}get itemCount(){return this[i].length}rforEach(M,I){I=I||this;for(let h=this[i].tail;h!==null;){const C=h.prev;O(this,M,h,I),h=C}}forEach(M,I){I=I||this;for(let h=this[i].head;h!==null;){const C=h.next;O(this,M,h,I),h=C}}keys(){return this[i].toArray().map(M=>M.key)}values(){return this[i].toArray().map(M=>M.value)}reset(){this[o]&&this[i]&&this[i].length&&this[i].forEach(M=>this[o](M.key,M.value)),this[u]=new Map,this[i]=new p,this[c]=0}dump(){return this[i].map(M=>s(this,M)?!1:{k:M.key,v:M.value,e:M.now+(M.maxAge||0)}).toArray().filter(M=>M)}dumpLru(){return this[i]}set(M,I,h){if(h=h||this[e],h&&typeof h!="number")throw new TypeError("maxAge must be a number");const C=h?Date.now():0,_=this[f](I,M);if(this[u].has(M)){if(_>this[d])return S(this,this[u].get(M)),!1;const H=this[u].get(M).value;return this[o]&&(this[t]||this[o](M,H.value)),H.now=C,H.maxAge=h,H.value=I,this[c]+=_-H.length,H.length=_,this.get(M),y(this),!0}const z=new T(M,I,_,C,h);return z.length>this[d]?(this[o]&&this[o](M,I),!1):(this[c]+=z.length,this[i].unshift(z),this[u].set(M,this[i].head),y(this),!0)}has(M){if(!this[u].has(M))return!1;const I=this[u].get(M).value;return!s(this,I)}get(M){return l(this,M,!0)}peek(M){return l(this,M,!1)}pop(){const M=this[i].tail;return M?(S(this,M),M.value):null}del(M){S(this,this[u].get(M))}load(M){this.reset();const I=Date.now();for(let h=M.length-1;h>=0;h--){const C=M[h],_=C.e||0;if(_===0)this.set(C.k,C.v);else{const z=_-I;z>0&&this.set(C.k,C.v,z)}}}prune(){this[u].forEach((M,I)=>l(this,I,!1))}}const l=(L,M,I)=>{const h=L[u].get(M);if(h){const C=h.value;if(s(L,C)){if(S(L,h),!L[n])return}else I&&(L[a]&&(h.value.now=Date.now()),L[i].unshiftNode(h));return C.value}},s=(L,M)=>{if(!M||!M.maxAge&&!L[e])return!1;const I=Date.now()-M.now;return M.maxAge?I>M.maxAge:L[e]&&I>L[e]},y=L=>{if(L[c]>L[d])for(let M=L[i].tail;L[c]>L[d]&&M!==null;){const I=M.prev;S(L,M),M=I}},S=(L,M)=>{if(M){const I=M.value;L[o]&&L[o](I.key,I.value),L[c]-=I.length,L[u].delete(I.key),L[i].removeNode(M)}};class T{constructor(M,I,h,C,_){this.key=M,this.value=I,this.length=h,this.now=C,this.maxAge=_||0}}const O=(L,M,I,h)=>{let C=I.value;s(L,C)&&(S(L,I),L[n]||(C=void 0)),C&&M.call(h,C.value,C.key,L)};x.exports=g},{yallist:83}],38:[function(m,x,k){(function(p){(function(){const d=x.exports;d.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},d.codes={};for(const f in d.types){const n=d.types[f];d.codes[n]=f}d.CMD_SHIFT=4,d.CMD_MASK=240,d.DUP_MASK=8,d.QOS_MASK=3,d.QOS_SHIFT=1,d.RETAIN_MASK=1,d.VARBYTEINT_MASK=127,d.VARBYTEINT_FIN_MASK=128,d.VARBYTEINT_MAX=268435455,d.SESSIONPRESENT_MASK=1,d.SESSIONPRESENT_HEADER=p.from([d.SESSIONPRESENT_MASK]),d.CONNACK_HEADER=p.from([d.codes.connack<<d.CMD_SHIFT]),d.USERNAME_MASK=128,d.PASSWORD_MASK=64,d.WILL_RETAIN_MASK=32,d.WILL_QOS_MASK=24,d.WILL_QOS_SHIFT=3,d.WILL_FLAG_MASK=4,d.CLEAN_SESSION_MASK=2,d.CONNECT_HEADER=p.from([d.codes.connect<<d.CMD_SHIFT]),d.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},d.propertiesCodes={};for(const f in d.properties){const n=d.properties[f];d.propertiesCodes[n]=f}d.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function c(f){return[0,1,2].map(n=>[0,1].map(e=>[0,1].map(o=>{const t=p.alloc(1);return t.writeUInt8(d.codes[f]<<d.CMD_SHIFT|(e?d.DUP_MASK:0)|n<<d.QOS_SHIFT|o,0,!0),t})))}d.PUBLISH_HEADER=c("publish"),d.SUBSCRIBE_HEADER=c("subscribe"),d.SUBSCRIBE_OPTIONS_QOS_MASK=3,d.SUBSCRIBE_OPTIONS_NL_MASK=1,d.SUBSCRIBE_OPTIONS_NL_SHIFT=2,d.SUBSCRIBE_OPTIONS_RAP_MASK=1,d.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,d.SUBSCRIBE_OPTIONS_RH_MASK=3,d.SUBSCRIBE_OPTIONS_RH_SHIFT=4,d.SUBSCRIBE_OPTIONS_RH=[0,16,32],d.SUBSCRIBE_OPTIONS_NL=4,d.SUBSCRIBE_OPTIONS_RAP=8,d.SUBSCRIBE_OPTIONS_QOS=[0,1,2],d.UNSUBSCRIBE_HEADER=c("unsubscribe"),d.ACKS={unsuback:c("unsuback"),puback:c("puback"),pubcomp:c("pubcomp"),pubrel:c("pubrel"),pubrec:c("pubrec")},d.SUBACK_HEADER=p.from([d.codes.suback<<d.CMD_SHIFT]),d.VERSION3=p.from([3]),d.VERSION4=p.from([4]),d.VERSION5=p.from([5]),d.VERSION131=p.from([131]),d.VERSION132=p.from([132]),d.QOS=[0,1,2].map(f=>p.from([f])),d.EMPTY={pingreq:p.from([d.codes.pingreq<<4,0]),pingresp:p.from([d.codes.pingresp<<4,0]),disconnect:p.from([d.codes.disconnect<<4,0])}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:17}],39:[function(m,x,k){(function(p){(function(){const d=m("./writeToStream"),c=m("events");function f(e,o){const t=new n;return d(e,t,o),t.concat()}class n extends c{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0;const t=new Array(this._array.length),i=this._array;let u=0,a;for(a=0;a<i.length&&i[a]!==void 0;a++)typeof i[a]!="string"?t[a]=i[a].length:t[a]=p.byteLength(i[a]),o+=t[a];const v=p.allocUnsafe(o);for(a=0;a<i.length&&i[a]!==void 0;a++)typeof i[a]!="string"?(i[a].copy(v,u),u+=t[a]):(v.write(i[a],u),u+=t[a]);return v}}x.exports=f}).call(this)}).call(this,m("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(m,x,k){k.parser=m("./parser").parser,k.generate=m("./generate"),k.writeToStream=m("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(m,x,k){(function(p){(function(){const c={},f=p.isBuffer(p.from([1,2]).subarray(0,1));function n(i){const u=p.allocUnsafe(2);return u.writeUInt8(i>>8,0),u.writeUInt8(i&255,0+1),u}function e(){for(let i=0;i<65536;i++)c[i]=n(i)}function o(i){let a=0,v=0;const g=p.allocUnsafe(4);do a=i%128|0,i=i/128|0,i>0&&(a=a|128),g.writeUInt8(a,v++);while(i>0&&v<4);return i>0&&(v=0),f?g.subarray(0,v):g.slice(0,v)}function t(i){const u=p.allocUnsafe(4);return u.writeUInt32BE(i,0),u}x.exports={cache:c,generateCache:e,generateNumber:n,genBufVariableByteInt:o,generate4ByteBuffer:t}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:17}],42:[function(m,x,k){class p{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}x.exports=p},{}],43:[function(m,x,k){const p=m("bl"),d=m("events"),c=m("./packet"),f=m("./constants"),n=m("debug")("mqtt-packet:parser");class e extends d{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof e?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new e().parser(t)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=p(),this._stateCounter=0}parse(t){for(this.error&&this._resetState(),this._list.append(t),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const t=this._list.readUInt8(0);return this.packet.cmd=f.types[t>>f.CMD_SHIFT],this.packet.retain=(t&f.RETAIN_MASK)!==0,this.packet.qos=t>>f.QOS_SHIFT&f.QOS_MASK,this.packet.dup=(t&f.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),n("_parseLength %d",t.value),!!t}_parsePayload(){n("_parsePayload: payload %O",this._list);let t=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return n("_parsePayload complete result: %s",t),t}_parseConnect(){n("_parseConnect");let t,i,u,a;const v={},g=this.packet,l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse protocolId"));if(l!=="MQTT"&&l!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(v.username=this._list.readUInt8(this._pos)&f.USERNAME_MASK,v.password=this._list.readUInt8(this._pos)&f.PASSWORD_MASK,v.will=this._list.readUInt8(this._pos)&f.WILL_FLAG_MASK,v.will&&(g.will={},g.will.retain=(this._list.readUInt8(this._pos)&f.WILL_RETAIN_MASK)!==0,g.will.qos=(this._list.readUInt8(this._pos)&f.WILL_QOS_MASK)>>f.WILL_QOS_SHIFT),g.clean=(this._list.readUInt8(this._pos)&f.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(g.properties=y)}const s=this._parseString();if(s===null)return this._emitError(new Error("Packet too short"));if(g.clientId=s,n("_parseConnect: packet.clientId: %s",g.clientId),v.will){if(g.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(g.will.properties=y)}if(t=this._parseString(),t===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=t,n("_parseConnect: packet.will.topic: %s",g.will.topic),i=this._parseBuffer(),i===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=i,n("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(v.username){if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse username"));g.username=a,n("_parseConnect: packet.username: %s",g.username)}if(v.password){if(u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse password"));g.password=u}return this.settings=g,n("_parseConnect: complete"),g}_parseConnack(){n("_parseConnack");const t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&f.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(t.returnCode===-1||t.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");const t=this.packet;if(t.topic=this._parseString(),t.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}t.payload=this._list.slice(this._pos,t.length),n("_parsePublish: payload from buffer list: %o",t.payload)}}_parseSubscribe(){n("_parseSubscribe");const t=this.packet;let i,u,a,v,g,l,s;if(t.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(t.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(t.properties=y)}for(;this._pos<t.length;){if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=t.length)return this._emitError(new Error("Malformed Subscribe Payload"));u=this._parseByte(),a=u&f.SUBSCRIBE_OPTIONS_QOS_MASK,l=(u>>f.SUBSCRIBE_OPTIONS_NL_SHIFT&f.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(u>>f.SUBSCRIBE_OPTIONS_RAP_SHIFT&f.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,v=u>>f.SUBSCRIBE_OPTIONS_RH_SHIFT&f.SUBSCRIBE_OPTIONS_RH_MASK,s={topic:i,qos:a},this.settings.protocolVersion===5?(s.nl=l,s.rap=g,s.rh=v):this.settings.bridgeMode&&(s.rh=0,s.rap=!0,s.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",s),t.subscriptions.push(s)}}}_parseSuback(){n("_parseSuback");const t=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){n("_parseUnsubscribe");const t=this.packet;if(t.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}for(;this._pos<t.length;){const i=this._parseString();if(i===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",i),t.unsubscriptions.push(i)}}}_parseUnsuback(){n("_parseUnsuback");const t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const i=this._parseProperties();for(Object.getOwnPropertyNames(i).length&&(t.properties=i),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const t=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(t.length>2?(t.reasonCode=this._parseByte(),n("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}return!0}_parseDisconnect(){const t=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;const i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(t.properties=i)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");const t=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();const i=this._parseProperties();return Object.getOwnPropertyNames(i).length&&(t.properties=i),n("_parseAuth: result: true"),!0}_parseMessageId(){const t=this.packet;return t.messageId=this._parseNum(),t.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",t.messageId),!0)}_parseString(t){const i=this._parseNum(),u=i+this._pos;if(i===-1||u>this._list.length||u>this.packet.length)return null;const a=this._list.toString("utf8",this._pos,u);return this._pos+=i,n("_parseString: result: %s",a),a}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const t=this._parseNum(),i=t+this._pos;if(t===-1||i>this._list.length||i>this.packet.length)return null;const u=this._list.slice(this._pos,i);return this._pos+=t,n("_parseBuffer: result: %o",u),u}_parseNum(){if(this._list.length-this._pos<2)return-1;const t=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",t),t}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const t=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",t),t}_parseVarByteNum(t){n("_parseVarByteNum");const i=4;let u=0,a=1,v=0,g=!1,l;const s=this._pos?this._pos:0;for(;u<i&&s+u<this._list.length;){if(l=this._list.readUInt8(s+u++),v+=a*(l&f.VARBYTEINT_MASK),a*=128,(l&f.VARBYTEINT_FIN_MASK)===0){g=!0;break}if(this._list.length<=u)break}return!g&&u===i&&this._list.length>=u&&this._emitError(new Error("Invalid variable byte integer")),s&&(this._pos+=u),g=g?t?{bytes:u,value:v}:v:!1,n("_parseVarByteNum: result: %o",g),g}_parseByte(){let t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",t),t}_parseByType(t){switch(n("_parseByType: type: %s",t),t){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");const t=this._parseVarByteNum(),u=this._pos+t,a={};for(;this._pos<u;){const v=this._parseByte();if(!v)return this._emitError(new Error("Cannot parse property code type")),!1;const g=f.propertiesCodes[v];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){a[g]||(a[g]=Object.create(null));const l=this._parseByType(f.propertiesTypes[g]);if(a[g][l.name])if(Array.isArray(a[g][l.name]))a[g][l.name].push(l.value);else{const s=a[g][l.name];a[g][l.name]=[s],a[g][l.name].push(l.value)}else a[g][l.name]=l.value;continue}a[g]?Array.isArray(a[g])?a[g].push(this._parseByType(f.propertiesTypes[g])):(a[g]=[a[g]],a[g].push(this._parseByType(f.propertiesTypes[g]))):a[g]=this._parseByType(f.propertiesTypes[g])}return a}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(t){n("_emitError"),this.error=t,this.emit("error",t)}}x.exports=e},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(m,x,k){(function(p){(function(){const d=m("./constants"),c=p.allocUnsafe(0),f=p.from([0]),n=m("./numbers"),e=m("process-nextick-args").nextTick,o=m("debug")("mqtt-packet:writeToStream"),t=n.cache,i=n.generateNumber,u=n.generateCache,a=n.genBufVariableByteInt,v=n.generate4ByteBuffer;let g=U,l=!0;function s(Z,G,te){switch(o("generate called"),G.cork&&(G.cork(),e(y,G)),l&&(l=!1,u()),o("generate: packet.cmd: %s",Z.cmd),Z.cmd){case"connect":return S(Z,G);case"connack":return T(Z,G,te);case"publish":return O(Z,G,te);case"puback":case"pubrec":case"pubrel":case"pubcomp":return L(Z,G,te);case"subscribe":return M(Z,G,te);case"suback":return I(Z,G,te);case"unsubscribe":return h(Z,G,te);case"unsuback":return C(Z,G,te);case"pingreq":case"pingresp":return _(Z,G);case"disconnect":return z(Z,G,te);case"auth":return N(Z,G,te);default:return G.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(s,"cacheNumbers",{get(){return g===U},set(Z){Z?((!t||Object.keys(t).length===0)&&(l=!0),g=U):(l=!1,g=F)}});function y(Z){Z.uncork()}function S(Z,G,te){const W=Z||{},V=W.protocolId||"MQTT";let J=W.protocolVersion||4;const ee=W.will;let ie=W.clean;const R=W.keepalive||0,D=W.clientId||"",B=W.username,b=W.password,w=W.properties;ie===void 0&&(ie=!0);let $=0;if(!V||typeof V!="string"&&!p.isBuffer(V))return G.emit("error",new Error("Invalid protocolId")),!1;if($+=V.length+2,J!==3&&J!==4&&J!==5)return G.emit("error",new Error("Invalid protocol version")),!1;if($+=1,(typeof D=="string"||p.isBuffer(D))&&(D||J>=4)&&(D||ie))$+=p.byteLength(D)+2;else{if(J<4)return G.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(ie*1===0)return G.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof R!="number"||R<0||R>65535||R%1!==0)return G.emit("error",new Error("Invalid keepalive")),!1;if($+=2,$+=1,J===5){var X=j(G,w);if(!X)return!1;$+=X.length}if(ee){if(typeof ee!="object")return G.emit("error",new Error("Invalid will")),!1;if(!ee.topic||typeof ee.topic!="string")return G.emit("error",new Error("Invalid will topic")),!1;if($+=p.byteLength(ee.topic)+2,$+=2,ee.payload)if(ee.payload.length>=0)typeof ee.payload=="string"?$+=p.byteLength(ee.payload):$+=ee.payload.length;else return G.emit("error",new Error("Invalid will payload")),!1;var se={};if(J===5){if(se=j(G,ee.properties),!se)return!1;$+=se.length}}let ae=!1;if(B!=null)if(oe(B))ae=!0,$+=p.byteLength(B)+2;else return G.emit("error",new Error("Invalid username")),!1;if(b!=null){if(!ae)return G.emit("error",new Error("Username is required to use password")),!1;if(oe(b))$+=le(b)+2;else return G.emit("error",new Error("Invalid password")),!1}G.write(d.CONNECT_HEADER),q(G,$),Q(G,V),W.bridgeMode&&(J+=128),G.write(J===131?d.VERSION131:J===132?d.VERSION132:J===4?d.VERSION4:J===5?d.VERSION5:d.VERSION3);let ue=0;return ue|=B!=null?d.USERNAME_MASK:0,ue|=b!=null?d.PASSWORD_MASK:0,ue|=ee&&ee.retain?d.WILL_RETAIN_MASK:0,ue|=ee&&ee.qos?ee.qos<<d.WILL_QOS_SHIFT:0,ue|=ee?d.WILL_FLAG_MASK:0,ue|=ie?d.CLEAN_SESSION_MASK:0,G.write(p.from([ue])),g(G,R),J===5&&X.write(),Q(G,D),ee&&(J===5&&se.write(),A(G,ee.topic),Q(G,ee.payload)),B!=null&&Q(G,B),b!=null&&Q(G,b),!0}function T(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=W===5?V.reasonCode:V.returnCode,ee=V.properties;let ie=2;if(typeof J!="number")return G.emit("error",new Error("Invalid return code")),!1;let R=null;if(W===5){if(R=j(G,ee),!R)return!1;ie+=R.length}return G.write(d.CONNACK_HEADER),q(G,ie),G.write(V.sessionPresent?d.SESSIONPRESENT_HEADER:f),G.write(p.from([J])),R!=null&&R.write(),!0}function O(Z,G,te){o("publish: packet: %o",Z);const W=te?te.protocolVersion:4,V=Z||{},J=V.qos||0,ee=V.retain?d.RETAIN_MASK:0,ie=V.topic,R=V.payload||c,D=V.messageId,B=V.properties;let b=0;if(typeof ie=="string")b+=p.byteLength(ie)+2;else if(p.isBuffer(ie))b+=ie.length+2;else return G.emit("error",new Error("Invalid topic")),!1;if(p.isBuffer(R)?b+=R.length:b+=p.byteLength(R),J&&typeof D!="number")return G.emit("error",new Error("Invalid messageId")),!1;J&&(b+=2);let w=null;if(W===5){if(w=j(G,B),!w)return!1;b+=w.length}return G.write(d.PUBLISH_HEADER[J][V.dup?1:0][ee?1:0]),q(G,b),g(G,le(ie)),G.write(ie),J>0&&g(G,D),w!=null&&w.write(),o("publish: payload: %o",R),G.write(R)}function L(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.cmd||"puback",ee=V.messageId,ie=V.dup&&J==="pubrel"?d.DUP_MASK:0;let R=0;const D=V.reasonCode,B=V.properties;let b=W===5?3:2;if(J==="pubrel"&&(R=1),typeof ee!="number")return G.emit("error",new Error("Invalid messageId")),!1;let w=null;if(W===5&&typeof B=="object"){if(w=Y(G,B,te,b),!w)return!1;b+=w.length}return G.write(d.ACKS[J][R][ie][0]),q(G,b),g(G,ee),W===5&&G.write(p.from([D])),w!==null&&w.write(),!0}function M(Z,G,te){o("subscribe: packet: ");const W=te?te.protocolVersion:4,V=Z||{},J=V.dup?d.DUP_MASK:0,ee=V.messageId,ie=V.subscriptions,R=V.properties;let D=0;if(typeof ee!="number")return G.emit("error",new Error("Invalid messageId")),!1;D+=2;let B=null;if(W===5){if(B=j(G,R),!B)return!1;D+=B.length}if(typeof ie=="object"&&ie.length)for(let w=0;w<ie.length;w+=1){const $=ie[w].topic,X=ie[w].qos;if(typeof $!="string")return G.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof X!="number")return G.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(W===5){if(typeof(ie[w].nl||!1)!="boolean")return G.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ie[w].rap||!1)!="boolean")return G.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const ue=ie[w].rh||0;if(typeof ue!="number"||ue>2)return G.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=p.byteLength($)+2+1}else return G.emit("error",new Error("Invalid subscriptions")),!1;o("subscribe: writing to stream: %o",d.SUBSCRIBE_HEADER),G.write(d.SUBSCRIBE_HEADER[1][J?1:0][0]),q(G,D),g(G,ee),B!==null&&B.write();let b=!0;for(const w of ie){const $=w.topic,X=w.qos,se=+w.nl,ae=+w.rap,ue=w.rh;let fe;A(G,$),fe=d.SUBSCRIBE_OPTIONS_QOS[X],W===5&&(fe|=se?d.SUBSCRIBE_OPTIONS_NL:0,fe|=ae?d.SUBSCRIBE_OPTIONS_RAP:0,fe|=ue?d.SUBSCRIBE_OPTIONS_RH[ue]:0),b=G.write(p.from([fe]))}return b}function I(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.messageId,ee=V.granted,ie=V.properties;let R=0;if(typeof J!="number")return G.emit("error",new Error("Invalid messageId")),!1;if(R+=2,typeof ee=="object"&&ee.length)for(let B=0;B<ee.length;B+=1){if(typeof ee[B]!="number")return G.emit("error",new Error("Invalid qos vector")),!1;R+=1}else return G.emit("error",new Error("Invalid qos vector")),!1;let D=null;if(W===5){if(D=Y(G,ie,te,R),!D)return!1;R+=D.length}return G.write(d.SUBACK_HEADER),q(G,R),g(G,J),D!==null&&D.write(),G.write(p.from(ee))}function h(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.messageId,ee=V.dup?d.DUP_MASK:0,ie=V.unsubscriptions,R=V.properties;let D=0;if(typeof J!="number")return G.emit("error",new Error("Invalid messageId")),!1;if(D+=2,typeof ie=="object"&&ie.length)for(let w=0;w<ie.length;w+=1){if(typeof ie[w]!="string")return G.emit("error",new Error("Invalid unsubscriptions")),!1;D+=p.byteLength(ie[w])+2}else return G.emit("error",new Error("Invalid unsubscriptions")),!1;let B=null;if(W===5){if(B=j(G,R),!B)return!1;D+=B.length}G.write(d.UNSUBSCRIBE_HEADER[1][ee?1:0][0]),q(G,D),g(G,J),B!==null&&B.write();let b=!0;for(let w=0;w<ie.length;w++)b=A(G,ie[w]);return b}function C(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.messageId,ee=V.dup?d.DUP_MASK:0,ie=V.granted,R=V.properties,D=V.cmd,B=0;let b=2;if(typeof J!="number")return G.emit("error",new Error("Invalid messageId")),!1;if(W===5)if(typeof ie=="object"&&ie.length)for(let $=0;$<ie.length;$+=1){if(typeof ie[$]!="number")return G.emit("error",new Error("Invalid qos vector")),!1;b+=1}else return G.emit("error",new Error("Invalid qos vector")),!1;let w=null;if(W===5){if(w=Y(G,R,te,b),!w)return!1;b+=w.length}return G.write(d.ACKS[D][B][ee][0]),q(G,b),g(G,J),w!==null&&w.write(),W===5&&G.write(p.from(ie)),!0}function _(Z,G,te){return G.write(d.EMPTY[Z.cmd])}function z(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.reasonCode,ee=V.properties;let ie=W===5?1:0,R=null;if(W===5){if(R=Y(G,ee,te,ie),!R)return!1;ie+=R.length}return G.write(p.from([d.codes.disconnect<<4])),q(G,ie),W===5&&G.write(p.from([J])),R!==null&&R.write(),!0}function N(Z,G,te){const W=te?te.protocolVersion:4,V=Z||{},J=V.reasonCode,ee=V.properties;let ie=W===5?1:0;W!==5&&G.emit("error",new Error("Invalid mqtt version for auth packet"));const R=Y(G,ee,te,ie);return R?(ie+=R.length,G.write(p.from([d.codes.auth<<4])),q(G,ie),G.write(p.from([J])),R!==null&&R.write(),!0):!1}const H={};function q(Z,G){if(G>d.VARBYTEINT_MAX)return Z.emit("error",new Error(`Invalid variable byte integer: ${G}`)),!1;let te=H[G];return te||(te=a(G),G<16384&&(H[G]=te)),o("writeVarByteInt: writing to stream: %o",te),Z.write(te)}function A(Z,G){const te=p.byteLength(G);return g(Z,te),o("writeString: %s",G),Z.write(G,"utf8")}function P(Z,G,te){A(Z,G),A(Z,te)}function U(Z,G){return o("writeNumberCached: number: %d",G),o("writeNumberCached: %o",t[G]),Z.write(t[G])}function F(Z,G){const te=i(G);return o("writeNumberGenerated: %o",te),Z.write(te)}function K(Z,G){const te=v(G);return o("write4ByteNumber: %o",te),Z.write(te)}function Q(Z,G){typeof G=="string"?A(Z,G):G?(g(Z,G.length),Z.write(G)):g(Z,0)}function j(Z,G){if(typeof G!="object"||G.length!=null)return{length:1,write(){ne(Z,{},0)}};let te=0;function W(J,ee){const ie=d.propertiesTypes[J];let R=0;switch(ie){case"byte":{if(typeof ee!="boolean")return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+1;break}case"int8":{if(typeof ee!="number"||ee<0||ee>255)return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+1;break}case"binary":{if(ee&&ee===null)return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+p.byteLength(ee)+2;break}case"int16":{if(typeof ee!="number"||ee<0||ee>65535)return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+2;break}case"int32":{if(typeof ee!="number"||ee<0||ee>4294967295)return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+4;break}case"var":{if(typeof ee!="number"||ee<0||ee>268435455)return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+p.byteLength(a(ee));break}case"string":{if(typeof ee!="string")return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=1+2+p.byteLength(ee.toString());break}case"pair":{if(typeof ee!="object")return Z.emit("error",new Error(`Invalid ${J}: ${ee}`)),!1;R+=Object.getOwnPropertyNames(ee).reduce((D,B)=>{const b=ee[B];return Array.isArray(b)?D+=b.reduce((w,$)=>(w+=1+2+p.byteLength(B.toString())+2+p.byteLength($.toString()),w),0):D+=1+2+p.byteLength(B.toString())+2+p.byteLength(ee[B].toString()),D},0);break}default:return Z.emit("error",new Error(`Invalid property ${J}: ${ee}`)),!1}return R}if(G)for(const J in G){let ee=0,ie=0;const R=G[J];if(Array.isArray(R))for(let D=0;D<R.length;D++){if(ie=W(J,R[D]),!ie)return!1;ee+=ie}else{if(ie=W(J,R),!ie)return!1;ee=ie}if(!ee)return!1;te+=ee}return{length:p.byteLength(a(te))+te,write(){ne(Z,G,te)}}}function Y(Z,G,te,W){const V=["reasonString","userProperties"],J=te&&te.properties&&te.properties.maximumPacketSize?te.properties.maximumPacketSize:0;let ee=j(Z,G);if(J)for(;W+ee.length>J;){const ie=V.shift();if(ie&&G[ie])delete G[ie],ee=j(Z,G);else return!1}return ee}function re(Z,G,te){switch(d.propertiesTypes[G]){case"byte":{Z.write(p.from([d.properties[G]])),Z.write(p.from([+te]));break}case"int8":{Z.write(p.from([d.properties[G]])),Z.write(p.from([te]));break}case"binary":{Z.write(p.from([d.properties[G]])),Q(Z,te);break}case"int16":{Z.write(p.from([d.properties[G]])),g(Z,te);break}case"int32":{Z.write(p.from([d.properties[G]])),K(Z,te);break}case"var":{Z.write(p.from([d.properties[G]])),q(Z,te);break}case"string":{Z.write(p.from([d.properties[G]])),A(Z,te);break}case"pair":{Object.getOwnPropertyNames(te).forEach(V=>{const J=te[V];Array.isArray(J)?J.forEach(ee=>{Z.write(p.from([d.properties[G]])),P(Z,V.toString(),ee.toString())}):(Z.write(p.from([d.properties[G]])),P(Z,V.toString(),J.toString()))});break}default:return Z.emit("error",new Error(`Invalid property ${G} value: ${te}`)),!1}}function ne(Z,G,te){q(Z,te);for(const W in G)if(Object.prototype.hasOwnProperty.call(G,W)&&G[W]!==null){const V=G[W];if(Array.isArray(V))for(let J=0;J<V.length;J++)re(Z,W,V[J]);else re(Z,W,V)}}function le(Z){return Z?Z instanceof p?Z.length:p.byteLength(Z):0}function oe(Z){return typeof Z=="string"||Z instanceof p}x.exports=s}).call(this)}).call(this,m("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(m,x,k){var p=1e3,d=p*60,c=d*60,f=c*24,n=f*7,e=f*365.25;x.exports=function(a,v){v=v||{};var g=typeof a;if(g==="string"&&a.length>0)return o(a);if(g==="number"&&isFinite(a))return v.long?i(a):t(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function o(a){if(a=String(a),!(a.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(!!v){var g=parseFloat(v[1]),l=(v[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return g*e;case"weeks":case"week":case"w":return g*n;case"days":case"day":case"d":return g*f;case"hours":case"hour":case"hrs":case"hr":case"h":return g*c;case"minutes":case"minute":case"mins":case"min":case"m":return g*d;case"seconds":case"second":case"secs":case"sec":case"s":return g*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function t(a){var v=Math.abs(a);return v>=f?Math.round(a/f)+"d":v>=c?Math.round(a/c)+"h":v>=d?Math.round(a/d)+"m":v>=p?Math.round(a/p)+"s":a+"ms"}function i(a){var v=Math.abs(a);return v>=f?u(a,v,f,"day"):v>=c?u(a,v,c,"hour"):v>=d?u(a,v,d,"minute"):v>=p?u(a,v,p,"second"):a+" ms"}function u(a,v,g,l){var s=v>=g*1.5;return Math.round(a/g)+" "+l+(s?"s":"")}},{}],46:[function(m,x,k){const p=m("./lib/number-allocator.js");x.exports.NumberAllocator=p},{"./lib/number-allocator.js":47}],47:[function(m,x,k){const p=m("js-sdsl").Set,d=m("debug")("number-allocator:trace"),c=m("debug")("number-allocator:error");function f(e,o){this.low=e,this.high=o}f.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},f.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0};function n(e,o){if(!(this instanceof n))return new n(e,o);this.min=e,this.max=o,this.ss=new p([],(t,i)=>t.compare(i)),d("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return d("alloc():empty"),null;const e=this.ss.front(),o=e.low;return o+1<=e.high?++e.low:this.ss.eraseElementByPos(0),d("alloc():"+o),o},n.prototype.use=function(e){const o=new f(e,e),t=this.ss.lowerBound(o);if(t){if(t.equals(o))return this.ss.eraseElementByValue(t),d("use():"+e),!0;if(t.low>e)return!1;if(t.low===e)return++t.low,d("use():"+e),!0;if(t.high===e)return--t.high,d("use():"+e),!0;const i=t.low;return t.low=e+1,this.ss.insert(new f(i,e-1)),d("use():"+e),!0}return d("use():failed"),!1},n.prototype.free=function(e){if(e<this.min||e>this.max){c("free():"+e+" is out of range");return}const o=new f(e,e),t=this.ss.lowerBound(o);if(t){if(t.low<=e&&e<=t.high){c("free():"+e+" has already been vacant");return}if(t===this.ss.front())e+1===t.low?--t.low:this.ss.insert(o);else{const i=this.ss.reverseLowerBound(o);i.high+1===e?e+1===t.low?(this.ss.eraseElementByValue(i),t.low=i.low):i.high=e:e+1===t.low?t.low=e:this.ss.insert(o)}}else{if(t===this.ss.front()){this.ss.insert(o);return}const i=this.ss.reverseLowerBound(o);i.high+1===e?i.high=e:this.ss.insert(o)}d("free():"+e)},n.prototype.clear=function(){d("clear()"),this.ss.clear(),this.ss.insert(new f(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(const e of this.ss)console.log(e)},x.exports=n},{debug:18,"js-sdsl":36}],48:[function(m,x,k){var p=m("wrappy");x.exports=p(d),x.exports.strict=p(c),d.proto=d(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return d(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return c(this)},configurable:!0})});function d(f){var n=function(){return n.called?n.value:(n.called=!0,n.value=f.apply(this,arguments))};return n.called=!1,n}function c(f){var n=function(){if(n.called)throw new Error(n.onceError);return n.called=!0,n.value=f.apply(this,arguments)},e=f.name||"Function wrapped with `once`";return n.onceError=e+" shouldn't be called more than once",n.called=!1,n}},{wrappy:79}],49:[function(m,x,k){(function(p){(function(){typeof p=="undefined"||!p.version||p.version.indexOf("v0.")===0||p.version.indexOf("v1.")===0&&p.version.indexOf("v1.8.")!==0?x.exports={nextTick:d}:x.exports=p;function d(c,f,n,e){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,t,i;switch(o){case 0:case 1:return p.nextTick(c);case 2:return p.nextTick(function(){c.call(null,f)});case 3:return p.nextTick(function(){c.call(null,f,n)});case 4:return p.nextTick(function(){c.call(null,f,n,e)});default:for(t=new Array(o-1),i=0;i<t.length;)t[i++]=arguments[i];return p.nextTick(function(){c.apply(null,t)})}}}).call(this)}).call(this,m("_process"))},{_process:50}],50:[function(m,x,k){var p=x.exports={},d,c;function f(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=f}catch{d=f}try{typeof clearTimeout=="function"?c=clearTimeout:c=n}catch{c=n}})();function e(y){if(d===setTimeout)return setTimeout(y,0);if((d===f||!d)&&setTimeout)return d=setTimeout,setTimeout(y,0);try{return d(y,0)}catch{try{return d.call(null,y,0)}catch{return d.call(this,y,0)}}}function o(y){if(c===clearTimeout)return clearTimeout(y);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(y);try{return c(y)}catch{try{return c.call(null,y)}catch{return c.call(this,y)}}}var t=[],i=!1,u,a=-1;function v(){!i||!u||(i=!1,u.length?t=u.concat(t):a=-1,t.length&&g())}function g(){if(!i){var y=e(v);i=!0;for(var S=t.length;S;){for(u=t,t=[];++a<S;)u&&u[a].run();a=-1,S=t.length}u=null,i=!1,o(y)}}p.nextTick=function(y){var S=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)S[T-1]=arguments[T];t.push(new l(y,S)),t.length===1&&!i&&e(g)};function l(y,S){this.fun=y,this.array=S}l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={};function s(){}p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(y){return[]},p.binding=function(y){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(y){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],51:[function(m,x,k){(function(p){(function(){(function(d){var c=typeof k=="object"&&k&&!k.nodeType&&k,f=typeof x=="object"&&x&&!x.nodeType&&x,n=typeof p=="object"&&p;(n.global===n||n.window===n||n.self===n)&&(d=n);var e,o=2147483647,t=36,i=1,u=26,a=38,v=700,g=72,l=128,s="-",y=/^xn--/,S=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=t-i,M=Math.floor,I=String.fromCharCode,h;function C(j){throw new RangeError(O[j])}function _(j,Y){for(var re=j.length,ne=[];re--;)ne[re]=Y(j[re]);return ne}function z(j,Y){var re=j.split("@"),ne="";re.length>1&&(ne=re[0]+"@",j=re[1]),j=j.replace(T,".");var le=j.split("."),oe=_(le,Y).join(".");return ne+oe}function N(j){for(var Y=[],re=0,ne=j.length,le,oe;re<ne;)le=j.charCodeAt(re++),le>=55296&&le<=56319&&re<ne?(oe=j.charCodeAt(re++),(oe&64512)==56320?Y.push(((le&1023)<<10)+(oe&1023)+65536):(Y.push(le),re--)):Y.push(le);return Y}function H(j){return _(j,function(Y){var re="";return Y>65535&&(Y-=65536,re+=I(Y>>>10&1023|55296),Y=56320|Y&1023),re+=I(Y),re}).join("")}function q(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:t}function A(j,Y){return j+22+75*(j<26)-((Y!=0)<<5)}function P(j,Y,re){var ne=0;for(j=re?M(j/v):j>>1,j+=M(j/Y);j>L*u>>1;ne+=t)j=M(j/L);return M(ne+(L+1)*j/(j+a))}function U(j){var Y=[],re=j.length,ne,le=0,oe=l,Z=g,G,te,W,V,J,ee,ie,R,D;for(G=j.lastIndexOf(s),G<0&&(G=0),te=0;te<G;++te)j.charCodeAt(te)>=128&&C("not-basic"),Y.push(j.charCodeAt(te));for(W=G>0?G+1:0;W<re;){for(V=le,J=1,ee=t;W>=re&&C("invalid-input"),ie=q(j.charCodeAt(W++)),(ie>=t||ie>M((o-le)/J))&&C("overflow"),le+=ie*J,R=ee<=Z?i:ee>=Z+u?u:ee-Z,!(ie<R);ee+=t)D=t-R,J>M(o/D)&&C("overflow"),J*=D;ne=Y.length+1,Z=P(le-V,ne,V==0),M(le/ne)>o-oe&&C("overflow"),oe+=M(le/ne),le%=ne,Y.splice(le++,0,oe)}return H(Y)}function F(j){var Y,re,ne,le,oe,Z,G,te,W,V,J,ee=[],ie,R,D,B;for(j=N(j),ie=j.length,Y=l,re=0,oe=g,Z=0;Z<ie;++Z)J=j[Z],J<128&&ee.push(I(J));for(ne=le=ee.length,le&&ee.push(s);ne<ie;){for(G=o,Z=0;Z<ie;++Z)J=j[Z],J>=Y&&J<G&&(G=J);for(R=ne+1,G-Y>M((o-re)/R)&&C("overflow"),re+=(G-Y)*R,Y=G,Z=0;Z<ie;++Z)if(J=j[Z],J<Y&&++re>o&&C("overflow"),J==Y){for(te=re,W=t;V=W<=oe?i:W>=oe+u?u:W-oe,!(te<V);W+=t)B=te-V,D=t-V,ee.push(I(A(V+B%D,0))),te=M(B/D);ee.push(I(A(te,0))),oe=P(re,R,ne==le),re=0,++ne}++re,++Y}return ee.join("")}function K(j){return z(j,function(Y){return y.test(Y)?U(Y.slice(4).toLowerCase()):Y})}function Q(j){return z(j,function(Y){return S.test(Y)?"xn--"+F(Y):Y})}if(e={version:"1.4.1",ucs2:{decode:N,encode:H},decode:U,encode:F,toASCII:Q,toUnicode:K},c&&f)if(x.exports==c)f.exports=e;else for(h in e)e.hasOwnProperty(h)&&(c[h]=e[h]);else d.punycode=e})(this)}).call(this)}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],52:[function(m,x,k){function p(c,f){return Object.prototype.hasOwnProperty.call(c,f)}x.exports=function(c,f,n,e){f=f||"&",n=n||"=";var o={};if(typeof c!="string"||c.length===0)return o;var t=/\+/g;c=c.split(f);var i=1e3;e&&typeof e.maxKeys=="number"&&(i=e.maxKeys);var u=c.length;i>0&&u>i&&(u=i);for(var a=0;a<u;++a){var v=c[a].replace(t,"%20"),g=v.indexOf(n),l,s,y,S;g>=0?(l=v.substr(0,g),s=v.substr(g+1)):(l=v,s=""),y=decodeURIComponent(l),S=decodeURIComponent(s),p(o,y)?d(o[y])?o[y].push(S):o[y]=[o[y],S]:o[y]=S}return o};var d=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}},{}],53:[function(m,x,k){var p=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};x.exports=function(n,e,o,t){return e=e||"&",o=o||"=",n===null&&(n=void 0),typeof n=="object"?c(f(n),function(i){var u=encodeURIComponent(p(i))+o;return d(n[i])?c(n[i],function(a){return u+encodeURIComponent(p(a))}).join(e):u+encodeURIComponent(p(n[i]))}).join(e):t?encodeURIComponent(p(t))+o+encodeURIComponent(p(n)):""};var d=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function c(n,e){if(n.map)return n.map(e);for(var o=[],t=0;t<n.length;t++)o.push(e(n[t],t));return o}var f=Object.keys||function(n){var e=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.push(o);return e}},{}],54:[function(m,x,k){k.decode=k.parse=m("./decode"),k.encode=k.stringify=m("./encode")},{"./decode":52,"./encode":53}],55:[function(m,x,k){function p(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}var d={};function c(t,i,u){u||(u=Error);function a(g,l,s){return typeof i=="string"?i:i(g,l,s)}var v=function(g){p(l,g);function l(s,y,S){return g.call(this,a(s,y,S))||this}return l}(u);v.prototype.name=u.name,v.prototype.code=t,d[t]=v}function f(t,i){if(Array.isArray(t)){var u=t.length;return t=t.map(function(a){return String(a)}),u>2?"one of ".concat(i," ").concat(t.slice(0,u-1).join(", "),", or ")+t[u-1]:u===2?"one of ".concat(i," ").concat(t[0]," or ").concat(t[1]):"of ".concat(i," ").concat(t[0])}else return"of ".concat(i," ").concat(String(t))}function n(t,i,u){return t.substr(!u||u<0?0:+u,i.length)===i}function e(t,i,u){return(u===void 0||u>t.length)&&(u=t.length),t.substring(u-i.length,u)===i}function o(t,i,u){return typeof u!="number"&&(u=0),u+i.length>t.length?!1:t.indexOf(i,u)!==-1}c("ERR_INVALID_OPT_VALUE",function(t,i){return'The value "'+i+'" is invalid for option "'+t+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(t,i,u){var a;typeof i=="string"&&n(i,"not ")?(a="must not be",i=i.replace(/^not /,"")):a="must be";var v;if(e(t," argument"))v="The ".concat(t," ").concat(a," ").concat(f(i,"type"));else{var g=o(t,".")?"property":"argument";v='The "'.concat(t,'" ').concat(g," ").concat(a," ").concat(f(i,"type"))}return v+=". Received type ".concat(typeof u),v},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),x.exports.codes=d},{}],56:[function(m,x,k){(function(p){(function(){var d=Object.keys||function(a){var v=[];for(var g in a)v.push(g);return v};x.exports=t;var c=m("./_stream_readable"),f=m("./_stream_writable");m("inherits")(t,c);for(var n=d(f.prototype),e=0;e<n.length;e++){var o=n[e];t.prototype[o]||(t.prototype[o]=f.prototype[o])}function t(a){if(!(this instanceof t))return new t(a);c.call(this,a),f.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function i(){this._writableState.ended||p.nextTick(u,this)}function u(a){a.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(m,x,k){x.exports=d;var p=m("./_stream_transform");m("inherits")(d,p);function d(c){if(!(this instanceof d))return new d(c);p.call(this,c)}d.prototype._transform=function(c,f,n){n(null,c)}},{"./_stream_transform":59,inherits:24}],58:[function(m,x,k){(function(p,d){(function(){x.exports=H;var c;H.ReadableState=N,m("events").EventEmitter;var f=function(D,B){return D.listeners(B).length},n=m("./internal/streams/stream"),e=m("buffer").Buffer,o=d.Uint8Array||function(){};function t(R){return e.from(R)}function i(R){return e.isBuffer(R)||R instanceof o}var u=m("util"),a;u&&u.debuglog?a=u.debuglog("stream"):a=function(){};var v=m("./internal/streams/buffer_list"),g=m("./internal/streams/destroy"),l=m("./internal/streams/state"),s=l.getHighWaterMark,y=m("../errors").codes,S=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,O=y.ERR_METHOD_NOT_IMPLEMENTED,L=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M,I,h;m("inherits")(H,n);var C=g.errorOrDestroy,_=["error","close","destroy","pause","resume"];function z(R,D,B){if(typeof R.prependListener=="function")return R.prependListener(D,B);!R._events||!R._events[D]?R.on(D,B):Array.isArray(R._events[D])?R._events[D].unshift(B):R._events[D]=[B,R._events[D]]}function N(R,D,B){c=c||m("./_stream_duplex"),R=R||{},typeof B!="boolean"&&(B=D instanceof c),this.objectMode=!!R.objectMode,B&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=s(this,R,"readableHighWaterMark",B),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(M||(M=m("string_decoder/").StringDecoder),this.decoder=new M(R.encoding),this.encoding=R.encoding)}function H(R){if(c=c||m("./_stream_duplex"),!(this instanceof H))return new H(R);var D=this instanceof c;this._readableState=new N(R,this,D),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){!this._readableState||(this._readableState.destroyed=D)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(R,D){D(R)},H.prototype.push=function(R,D){var B=this._readableState,b;return B.objectMode?b=!0:typeof R=="string"&&(D=D||B.defaultEncoding,D!==B.encoding&&(R=e.from(R,D),D=""),b=!0),q(this,R,D,!1,b)},H.prototype.unshift=function(R){return q(this,R,null,!0,!1)};function q(R,D,B,b,w){a("readableAddChunk",D);var $=R._readableState;if(D===null)$.reading=!1,Q(R,$);else{var X;if(w||(X=P($,D)),X)C(R,X);else if($.objectMode||D&&D.length>0)if(typeof D!="string"&&!$.objectMode&&Object.getPrototypeOf(D)!==e.prototype&&(D=t(D)),b)$.endEmitted?C(R,new L):A(R,$,D,!0);else if($.ended)C(R,new T);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!B?(D=$.decoder.write(D),$.objectMode||D.length!==0?A(R,$,D,!1):re(R,$)):A(R,$,D,!1)}else b||($.reading=!1,re(R,$))}return!$.ended&&($.length<$.highWaterMark||$.length===0)}function A(R,D,B,b){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,R.emit("data",B)):(D.length+=D.objectMode?1:B.length,b?D.buffer.unshift(B):D.buffer.push(B),D.needReadable&&j(R)),re(R,D)}function P(R,D){var B;return!i(D)&&typeof D!="string"&&D!==void 0&&!R.objectMode&&(B=new S("chunk",["string","Buffer","Uint8Array"],D)),B}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(R){M||(M=m("string_decoder/").StringDecoder);var D=new M(R);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,b="";B!==null;)b+=D.write(B.data),B=B.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var U=1073741824;function F(R){return R>=U?R=U:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function K(R,D){return R<=0||D.length===0&&D.ended?0:D.objectMode?1:R!==R?D.flowing&&D.length?D.buffer.head.data.length:D.length:(R>D.highWaterMark&&(D.highWaterMark=F(R)),R<=D.length?R:D.ended?D.length:(D.needReadable=!0,0))}H.prototype.read=function(R){a("read",R),R=parseInt(R,10);var D=this._readableState,B=R;if(R!==0&&(D.emittedReadable=!1),R===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return a("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?J(this):j(this),null;if(R=K(R,D),R===0&&D.ended)return D.length===0&&J(this),null;var b=D.needReadable;a("need readable",b),(D.length===0||D.length-R<D.highWaterMark)&&(b=!0,a("length less than watermark",b)),D.ended||D.reading?(b=!1,a("reading or ended",b)):b&&(a("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(R=K(B,D)));var w;return R>0?w=V(R,D):w=null,w===null?(D.needReadable=D.length<=D.highWaterMark,R=0):(D.length-=R,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),B!==R&&D.ended&&J(this)),w!==null&&this.emit("data",w),w};function Q(R,D){if(a("onEofChunk"),!D.ended){if(D.decoder){var B=D.decoder.end();B&&B.length&&(D.buffer.push(B),D.length+=D.objectMode?1:B.length)}D.ended=!0,D.sync?j(R):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,Y(R)))}}function j(R){var D=R._readableState;a("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(a("emitReadable",D.flowing),D.emittedReadable=!0,p.nextTick(Y,R))}function Y(R){var D=R._readableState;a("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(R.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,W(R)}function re(R,D){D.readingMore||(D.readingMore=!0,p.nextTick(ne,R,D))}function ne(R,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var B=D.length;if(a("maybeReadMore read 0"),R.read(0),B===D.length)break}D.readingMore=!1}H.prototype._read=function(R){C(this,new O("_read()"))},H.prototype.pipe=function(R,D){var B=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=R;break;case 1:b.pipes=[b.pipes,R];break;default:b.pipes.push(R);break}b.pipesCount+=1,a("pipe count=%d opts=%j",b.pipesCount,D);var w=(!D||D.end!==!1)&&R!==p.stdout&&R!==p.stderr,$=w?se:ye;b.endEmitted?p.nextTick($):B.once("end",$),R.on("unpipe",X);function X(me,ge){a("onunpipe"),me===B&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,fe())}function se(){a("onend"),R.end()}var ae=le(B);R.on("drain",ae);var ue=!1;function fe(){a("cleanup"),R.removeListener("close",ce),R.removeListener("finish",pe),R.removeListener("drain",ae),R.removeListener("error",de),R.removeListener("unpipe",X),B.removeListener("end",se),B.removeListener("end",ye),B.removeListener("data",he),ue=!0,b.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&ae()}B.on("data",he);function he(me){a("ondata");var ge=R.write(me);a("dest.write",ge),ge===!1&&((b.pipesCount===1&&b.pipes===R||b.pipesCount>1&&ie(b.pipes,R)!==-1)&&!ue&&(a("false write response, pause",b.awaitDrain),b.awaitDrain++),B.pause())}function de(me){a("onerror",me),ye(),R.removeListener("error",de),f(R,"error")===0&&C(R,me)}z(R,"error",de);function ce(){R.removeListener("finish",pe),ye()}R.once("close",ce);function pe(){a("onfinish"),R.removeListener("close",ce),ye()}R.once("finish",pe);function ye(){a("unpipe"),B.unpipe(R)}return R.emit("pipe",B),b.flowing||(a("pipe resume"),B.resume()),R};function le(R){return function(){var B=R._readableState;a("pipeOnDrain",B.awaitDrain),B.awaitDrain&&B.awaitDrain--,B.awaitDrain===0&&f(R,"data")&&(B.flowing=!0,W(R))}}H.prototype.unpipe=function(R){var D=this._readableState,B={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return R&&R!==D.pipes?this:(R||(R=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,R&&R.emit("unpipe",this,B),this);if(!R){var b=D.pipes,w=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var $=0;$<w;$++)b[$].emit("unpipe",this,{hasUnpiped:!1});return this}var X=ie(D.pipes,R);return X===-1?this:(D.pipes.splice(X,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),R.emit("unpipe",this,B),this)},H.prototype.on=function(R,D){var B=n.prototype.on.call(this,R,D),b=this._readableState;return R==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):R==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,a("on readable",b.length,b.reading),b.length?j(this):b.reading||p.nextTick(Z,this)),B},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(R,D){var B=n.prototype.removeListener.call(this,R,D);return R==="readable"&&p.nextTick(oe,this),B},H.prototype.removeAllListeners=function(R){var D=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&p.nextTick(oe,this),D};function oe(R){var D=R._readableState;D.readableListening=R.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:R.listenerCount("data")>0&&R.resume()}function Z(R){a("readable nexttick read 0"),R.read(0)}H.prototype.resume=function(){var R=this._readableState;return R.flowing||(a("resume"),R.flowing=!R.readableListening,G(this,R)),R.paused=!1,this};function G(R,D){D.resumeScheduled||(D.resumeScheduled=!0,p.nextTick(te,R,D))}function te(R,D){a("resume",D.reading),D.reading||R.read(0),D.resumeScheduled=!1,R.emit("resume"),W(R),D.flowing&&!D.reading&&R.read(0)}H.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function W(R){var D=R._readableState;for(a("flow",D.flowing);D.flowing&&R.read()!==null;);}H.prototype.wrap=function(R){var D=this,B=this._readableState,b=!1;R.on("end",function(){if(a("wrapped end"),B.decoder&&!B.ended){var X=B.decoder.end();X&&X.length&&D.push(X)}D.push(null)}),R.on("data",function(X){if(a("wrapped data"),B.decoder&&(X=B.decoder.write(X)),!(B.objectMode&&X==null)&&!(!B.objectMode&&(!X||!X.length))){var se=D.push(X);se||(b=!0,R.pause())}});for(var w in R)this[w]===void 0&&typeof R[w]=="function"&&(this[w]=function(se){return function(){return R[se].apply(R,arguments)}}(w));for(var $=0;$<_.length;$++)R.on(_[$],this.emit.bind(this,_[$]));return this._read=function(X){a("wrapped _read",X),b&&(b=!1,R.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return I===void 0&&(I=m("./internal/streams/async_iterator")),I(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),H._fromList=V,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(R,D){if(D.length===0)return null;var B;return D.objectMode?B=D.buffer.shift():!R||R>=D.length?(D.decoder?B=D.buffer.join(""):D.buffer.length===1?B=D.buffer.first():B=D.buffer.concat(D.length),D.buffer.clear()):B=D.buffer.consume(R,D.decoder),B}function J(R){var D=R._readableState;a("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,p.nextTick(ee,D,R))}function ee(R,D){if(a("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,D.readable=!1,D.emit("end"),R.autoDestroy)){var B=D._writableState;(!B||B.autoDestroy&&B.finished)&&D.destroy()}}typeof Symbol=="function"&&(H.from=function(R,D){return h===void 0&&(h=m("./internal/streams/from")),h(H,R,D)});function ie(R,D){for(var B=0,b=R.length;B<b;B++)if(R[B]===D)return B;return-1}}).call(this)}).call(this,m("_process"),typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(m,x,k){x.exports=t;var p=m("../errors").codes,d=p.ERR_METHOD_NOT_IMPLEMENTED,c=p.ERR_MULTIPLE_CALLBACK,f=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=p.ERR_TRANSFORM_WITH_LENGTH_0,e=m("./_stream_duplex");m("inherits")(t,e);function o(a,v){var g=this._transformState;g.transforming=!1;var l=g.writecb;if(l===null)return this.emit("error",new c);g.writechunk=null,g.writecb=null,v!=null&&this.push(v),l(a);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function t(a){if(!(this instanceof t))return new t(a);e.call(this,a),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",i)}function i(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,g){u(a,v,g)}):u(this,null,null)}t.prototype.push=function(a,v){return this._transformState.needTransform=!1,e.prototype.push.call(this,a,v)},t.prototype._transform=function(a,v,g){g(new d("_transform()"))},t.prototype._write=function(a,v,g){var l=this._transformState;if(l.writecb=g,l.writechunk=a,l.writeencoding=v,!l.transforming){var s=this._readableState;(l.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},t.prototype._read=function(a){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},t.prototype._destroy=function(a,v){e.prototype._destroy.call(this,a,function(g){v(g)})};function u(a,v,g){if(v)return a.emit("error",v);if(g!=null&&a.push(g),a._writableState.length)throw new n;if(a._transformState.transforming)throw new f;return a.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(m,x,k){(function(p,d){(function(){x.exports=N;function c(W){var V=this;this.next=null,this.entry=null,this.finish=function(){te(V,W)}}var f;N.WritableState=_;var n={deprecate:m("util-deprecate")},e=m("./internal/streams/stream"),o=m("buffer").Buffer,t=d.Uint8Array||function(){};function i(W){return o.from(W)}function u(W){return o.isBuffer(W)||W instanceof t}var a=m("./internal/streams/destroy"),v=m("./internal/streams/state"),g=v.getHighWaterMark,l=m("../errors").codes,s=l.ERR_INVALID_ARG_TYPE,y=l.ERR_METHOD_NOT_IMPLEMENTED,S=l.ERR_MULTIPLE_CALLBACK,T=l.ERR_STREAM_CANNOT_PIPE,O=l.ERR_STREAM_DESTROYED,L=l.ERR_STREAM_NULL_VALUES,M=l.ERR_STREAM_WRITE_AFTER_END,I=l.ERR_UNKNOWN_ENCODING,h=a.errorOrDestroy;m("inherits")(N,e);function C(){}function _(W,V,J){f=f||m("./_stream_duplex"),W=W||{},typeof J!="boolean"&&(J=V instanceof f),this.objectMode=!!W.objectMode,J&&(this.objectMode=this.objectMode||!!W.writableObjectMode),this.highWaterMark=g(this,W,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=W.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){Q(V,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}_.prototype.getBuffer=function(){for(var V=this.bufferedRequest,J=[];V;)J.push(V),V=V.next;return J},function(){try{Object.defineProperty(_.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(V){return z.call(this,V)?!0:this!==N?!1:V&&V._writableState instanceof _}})):z=function(V){return V instanceof this};function N(W){f=f||m("./_stream_duplex");var V=this instanceof f;if(!V&&!z.call(N,this))return new N(W);this._writableState=new _(W,this,V),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),e.call(this)}N.prototype.pipe=function(){h(this,new T)};function H(W,V){var J=new M;h(W,J),p.nextTick(V,J)}function q(W,V,J,ee){var ie;return J===null?ie=new L:typeof J!="string"&&!V.objectMode&&(ie=new s("chunk",["string","Buffer"],J)),ie?(h(W,ie),p.nextTick(ee,ie),!1):!0}N.prototype.write=function(W,V,J){var ee=this._writableState,ie=!1,R=!ee.objectMode&&u(W);return R&&!o.isBuffer(W)&&(W=i(W)),typeof V=="function"&&(J=V,V=null),R?V="buffer":V||(V=ee.defaultEncoding),typeof J!="function"&&(J=C),ee.ending?H(this,J):(R||q(this,ee,W,J))&&(ee.pendingcb++,ie=P(this,ee,R,W,V,J)),ie},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&re(this,W))},N.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new I(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(W,V,J){return!W.objectMode&&W.decodeStrings!==!1&&typeof V=="string"&&(V=o.from(V,J)),V}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(W,V,J,ee,ie,R){if(!J){var D=A(V,ee,ie);ee!==D&&(J=!0,ie="buffer",ee=D)}var B=V.objectMode?1:ee.length;V.length+=B;var b=V.length<V.highWaterMark;if(b||(V.needDrain=!0),V.writing||V.corked){var w=V.lastBufferedRequest;V.lastBufferedRequest={chunk:ee,encoding:ie,isBuf:J,callback:R,next:null},w?w.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else U(W,V,!1,B,ee,ie,R);return b}function U(W,V,J,ee,ie,R,D){V.writelen=ee,V.writecb=D,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new O("write")):J?W._writev(ie,V.onwrite):W._write(ie,R,V.onwrite),V.sync=!1}function F(W,V,J,ee,ie){--V.pendingcb,J?(p.nextTick(ie,ee),p.nextTick(Z,W,V),W._writableState.errorEmitted=!0,h(W,ee)):(ie(ee),W._writableState.errorEmitted=!0,h(W,ee),Z(W,V))}function K(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function Q(W,V){var J=W._writableState,ee=J.sync,ie=J.writecb;if(typeof ie!="function")throw new S;if(K(J),V)F(W,J,ee,V,ie);else{var R=ne(J)||W.destroyed;!R&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&re(W,J),ee?p.nextTick(j,W,J,R,ie):j(W,J,R,ie)}}function j(W,V,J,ee){J||Y(W,V),V.pendingcb--,ee(),Z(W,V)}function Y(W,V){V.length===0&&V.needDrain&&(V.needDrain=!1,W.emit("drain"))}function re(W,V){V.bufferProcessing=!0;var J=V.bufferedRequest;if(W._writev&&J&&J.next){var ee=V.bufferedRequestCount,ie=new Array(ee),R=V.corkedRequestsFree;R.entry=J;for(var D=0,B=!0;J;)ie[D]=J,J.isBuf||(B=!1),J=J.next,D+=1;ie.allBuffers=B,U(W,V,!0,V.length,ie,"",R.finish),V.pendingcb++,V.lastBufferedRequest=null,R.next?(V.corkedRequestsFree=R.next,R.next=null):V.corkedRequestsFree=new c(V),V.bufferedRequestCount=0}else{for(;J;){var b=J.chunk,w=J.encoding,$=J.callback,X=V.objectMode?1:b.length;if(U(W,V,!1,X,b,w,$),J=J.next,V.bufferedRequestCount--,V.writing)break}J===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=J,V.bufferProcessing=!1}N.prototype._write=function(W,V,J){J(new y("_write()"))},N.prototype._writev=null,N.prototype.end=function(W,V,J){var ee=this._writableState;return typeof W=="function"?(J=W,W=null,V=null):typeof V=="function"&&(J=V,V=null),W!=null&&this.write(W,V),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||G(this,ee,J),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function le(W,V){W._final(function(J){V.pendingcb--,J&&h(W,J),V.prefinished=!0,W.emit("prefinish"),Z(W,V)})}function oe(W,V){!V.prefinished&&!V.finalCalled&&(typeof W._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,p.nextTick(le,W,V)):(V.prefinished=!0,W.emit("prefinish")))}function Z(W,V){var J=ne(V);if(J&&(oe(W,V),V.pendingcb===0&&(V.finished=!0,W.emit("finish"),V.autoDestroy))){var ee=W._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&W.destroy()}return J}function G(W,V,J){V.ending=!0,Z(W,V),J&&(V.finished?p.nextTick(J):W.once("finish",J)),V.ended=!0,W.writable=!1}function te(W,V,J){var ee=W.entry;for(W.entry=null;ee;){var ie=ee.callback;V.pendingcb--,ie(J),ee=ee.next}V.corkedRequestsFree.next=W}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){!this._writableState||(this._writableState.destroyed=V)}}),N.prototype.destroy=a.destroy,N.prototype._undestroy=a.undestroy,N.prototype._destroy=function(W,V){V(W)}}).call(this)}).call(this,m("_process"),typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(m,x,k){(function(p){(function(){var d;function c(O,L,M){return L in O?Object.defineProperty(O,L,{value:M,enumerable:!0,configurable:!0,writable:!0}):O[L]=M,O}var f=m("./end-of-stream"),n=Symbol("lastResolve"),e=Symbol("lastReject"),o=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),u=Symbol("handlePromise"),a=Symbol("stream");function v(O,L){return{value:O,done:L}}function g(O){var L=O[n];if(L!==null){var M=O[a].read();M!==null&&(O[i]=null,O[n]=null,O[e]=null,L(v(M,!1)))}}function l(O){p.nextTick(g,O)}function s(O,L){return function(M,I){O.then(function(){if(L[t]){M(v(void 0,!0));return}L[u](M,I)},I)}}var y=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((d={get stream(){return this[a]},next:function(){var L=this,M=this[o];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(v(void 0,!0));if(this[a].destroyed)return new Promise(function(_,z){p.nextTick(function(){L[o]?z(L[o]):_(v(void 0,!0))})});var I=this[i],h;if(I)h=new Promise(s(I,this));else{var C=this[a].read();if(C!==null)return Promise.resolve(v(C,!1));h=new Promise(this[u])}return this[i]=h,h}},c(d,Symbol.asyncIterator,function(){return this}),c(d,"return",function(){var L=this;return new Promise(function(M,I){L[a].destroy(null,function(h){if(h){I(h);return}M(v(void 0,!0))})})}),d),y),T=function(L){var M,I=Object.create(S,(M={},c(M,a,{value:L,writable:!0}),c(M,n,{value:null,writable:!0}),c(M,e,{value:null,writable:!0}),c(M,o,{value:null,writable:!0}),c(M,t,{value:L._readableState.endEmitted,writable:!0}),c(M,u,{value:function(C,_){var z=I[a].read();z?(I[i]=null,I[n]=null,I[e]=null,C(v(z,!1))):(I[n]=C,I[e]=_)},writable:!0}),M));return I[i]=null,f(L,function(h){if(h&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=I[e];C!==null&&(I[i]=null,I[n]=null,I[e]=null,C(h)),I[o]=h;return}var _=I[n];_!==null&&(I[i]=null,I[n]=null,I[e]=null,_(v(void 0,!0))),I[t]=!0}),L.on("readable",l.bind(null,I)),I};x.exports=T}).call(this)}).call(this,m("_process"))},{"./end-of-stream":64,_process:50}],62:[function(m,x,k){function p(g,l){var s=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);l&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(g,S).enumerable})),s.push.apply(s,y)}return s}function d(g){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?p(Object(s),!0).forEach(function(y){c(g,y,s[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(s,y))})}return g}function c(g,l,s){return l in g?Object.defineProperty(g,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):g[l]=s,g}function f(g,l){if(!(g instanceof l))throw new TypeError("Cannot call a class as a function")}function n(g,l){for(var s=0;s<l.length;s++){var y=l[s];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function e(g,l,s){return l&&n(g.prototype,l),s&&n(g,s),g}var o=m("buffer"),t=o.Buffer,i=m("util"),u=i.inspect,a=u&&u.custom||"inspect";function v(g,l,s){t.prototype.copy.call(g,l,s)}x.exports=function(){function g(){f(this,g),this.head=null,this.tail=null,this.length=0}return e(g,[{key:"push",value:function(s){var y={data:s,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(s){var y={data:s,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(this.length===0)return"";for(var y=this.head,S=""+y.data;y=y.next;)S+=s+y.data;return S}},{key:"concat",value:function(s){if(this.length===0)return t.alloc(0);for(var y=t.allocUnsafe(s>>>0),S=this.head,T=0;S;)v(S.data,y,T),T+=S.data.length,S=S.next;return y}},{key:"consume",value:function(s,y){var S;return s<this.head.data.length?(S=this.head.data.slice(0,s),this.head.data=this.head.data.slice(s)):s===this.head.data.length?S=this.shift():S=y?this._getString(s):this._getBuffer(s),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(s){var y=this.head,S=1,T=y.data;for(s-=T.length;y=y.next;){var O=y.data,L=s>O.length?O.length:s;if(L===O.length?T+=O:T+=O.slice(0,s),s-=L,s===0){L===O.length?(++S,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=O.slice(L));break}++S}return this.length-=S,T}},{key:"_getBuffer",value:function(s){var y=t.allocUnsafe(s),S=this.head,T=1;for(S.data.copy(y),s-=S.data.length;S=S.next;){var O=S.data,L=s>O.length?O.length:s;if(O.copy(y,y.length-s,0,L),s-=L,s===0){L===O.length?(++T,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=O.slice(L));break}++T}return this.length-=T,y}},{key:a,value:function(s,y){return u(this,d({},y,{depth:0,customInspect:!1}))}}]),g}()},{buffer:17,util:16}],63:[function(m,x,k){(function(p){(function(){function d(t,i){var u=this,a=this._readableState&&this._readableState.destroyed,v=this._writableState&&this._writableState.destroyed;return a||v?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(e,this,t)):p.nextTick(e,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(g){!i&&g?u._writableState?u._writableState.errorEmitted?p.nextTick(f,u):(u._writableState.errorEmitted=!0,p.nextTick(c,u,g)):p.nextTick(c,u,g):i?(p.nextTick(f,u),i(g)):p.nextTick(f,u)}),this)}function c(t,i){e(t,i),f(t)}function f(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e(t,i){t.emit("error",i)}function o(t,i){var u=t._readableState,a=t._writableState;u&&u.autoDestroy||a&&a.autoDestroy?t.destroy(i):t.emit("error",i)}x.exports={destroy:d,undestroy:n,errorOrDestroy:o}}).call(this)}).call(this,m("_process"))},{_process:50}],64:[function(m,x,k){var p=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function d(e){var o=!1;return function(){if(!o){o=!0;for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];e.apply(this,i)}}}function c(){}function f(e){return e.setHeader&&typeof e.abort=="function"}function n(e,o,t){if(typeof o=="function")return n(e,null,o);o||(o={}),t=d(t||c);var i=o.readable||o.readable!==!1&&e.readable,u=o.writable||o.writable!==!1&&e.writable,a=function(){e.writable||g()},v=e._writableState&&e._writableState.finished,g=function(){u=!1,v=!0,i||t.call(e)},l=e._readableState&&e._readableState.endEmitted,s=function(){i=!1,l=!0,u||t.call(e)},y=function(L){t.call(e,L)},S=function(){var L;if(i&&!l)return(!e._readableState||!e._readableState.ended)&&(L=new p),t.call(e,L);if(u&&!v)return(!e._writableState||!e._writableState.ended)&&(L=new p),t.call(e,L)},T=function(){e.req.on("finish",g)};return f(e)?(e.on("complete",g),e.on("abort",S),e.req?T():e.on("request",T)):u&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",s),e.on("finish",g),o.error!==!1&&e.on("error",y),e.on("close",S),function(){e.removeListener("complete",g),e.removeListener("abort",S),e.removeListener("request",T),e.req&&e.req.removeListener("finish",g),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",g),e.removeListener("end",s),e.removeListener("error",y),e.removeListener("close",S)}}x.exports=n},{"../../../errors":55}],65:[function(m,x,k){x.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(m,x,k){var p;function d(g){var l=!1;return function(){l||(l=!0,g.apply(void 0,arguments))}}var c=m("../../../errors").codes,f=c.ERR_MISSING_ARGS,n=c.ERR_STREAM_DESTROYED;function e(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function t(g,l,s,y){y=d(y);var S=!1;g.on("close",function(){S=!0}),p===void 0&&(p=m("./end-of-stream")),p(g,{readable:l,writable:s},function(O){if(O)return y(O);S=!0,y()});var T=!1;return function(O){if(!S&&!T){if(T=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(O||new n("pipe"))}}}function i(g){g()}function u(g,l){return g.pipe(l)}function a(g){return!g.length||typeof g[g.length-1]!="function"?e:g.pop()}function v(){for(var g=arguments.length,l=new Array(g),s=0;s<g;s++)l[s]=arguments[s];var y=a(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new f("streams");var S,T=l.map(function(O,L){var M=L<l.length-1,I=L>0;return t(O,M,I,function(h){S||(S=h),h&&T.forEach(i),!M&&(T.forEach(i),y(S))})});return l.reduce(u)}x.exports=v},{"../../../errors":55,"./end-of-stream":64}],67:[function(m,x,k){var p=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;function d(f,n,e){return f.highWaterMark!=null?f.highWaterMark:n?f[e]:null}function c(f,n,e,o){var t=d(n,o,e);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var i=o?e:"highWaterMark";throw new p(i,t)}return Math.floor(t)}return f.objectMode?16:16*1024}x.exports={getHighWaterMark:c}},{"../../../errors":55}],68:[function(m,x,k){x.exports=m("events").EventEmitter},{events:22}],69:[function(m,x,k){k=x.exports=m("./lib/_stream_readable.js"),k.Stream=k,k.Readable=k,k.Writable=m("./lib/_stream_writable.js"),k.Duplex=m("./lib/_stream_duplex.js"),k.Transform=m("./lib/_stream_transform.js"),k.PassThrough=m("./lib/_stream_passthrough.js"),k.finished=m("./lib/internal/streams/end-of-stream.js"),k.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(m,x,k){function p(c,f,n){var e=this;this._callback=c,this._args=n,this._interval=setInterval(c,f,this._args),this.reschedule=function(o){o||(o=e._interval),e._interval&&clearInterval(e._interval),e._interval=setInterval(e._callback,o,e._args)},this.clear=function(){e._interval&&(clearInterval(e._interval),e._interval=void 0)},this.destroy=function(){e._interval&&clearInterval(e._interval),e._callback=void 0,e._interval=void 0,e._args=void 0}}function d(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var c;if(arguments.length>0){c=new Array(arguments.length-2);for(var f=0;f<c.length;f++)c[f]=arguments[f+2]}return new p(arguments[0],arguments[1],c)}x.exports=d},{}],71:[function(m,x,k){x.exports=m("./index.js")()},{"./index.js":72}],72:[function(m,x,k){(function(p){(function(){x.exports=c;function d(n){return n instanceof p?p.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function c(n){if(n=n||{},n.circles)return f(n);return n.proto?t:o;function e(i,u){for(var a=Object.keys(i),v=new Array(a.length),g=0;g<a.length;g++){var l=a[g],s=i[l];typeof s!="object"||s===null?v[l]=s:s instanceof Date?v[l]=new Date(s):ArrayBuffer.isView(s)?v[l]=d(s):v[l]=u(s)}return v}function o(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,o);if(i instanceof Map)return new Map(e(Array.from(i),o));if(i instanceof Set)return new Set(e(Array.from(i),o));var u={};for(var a in i)if(Object.hasOwnProperty.call(i,a)!==!1){var v=i[a];typeof v!="object"||v===null?u[a]=v:v instanceof Date?u[a]=new Date(v):v instanceof Map?u[a]=new Map(e(Array.from(v),o)):v instanceof Set?u[a]=new Set(e(Array.from(v),o)):ArrayBuffer.isView(v)?u[a]=d(v):u[a]=o(v)}return u}function t(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,t);if(i instanceof Map)return new Map(e(Array.from(i),t));if(i instanceof Set)return new Set(e(Array.from(i),t));var u={};for(var a in i){var v=i[a];typeof v!="object"||v===null?u[a]=v:v instanceof Date?u[a]=new Date(v):v instanceof Map?u[a]=new Map(e(Array.from(v),t)):v instanceof Set?u[a]=new Set(e(Array.from(v),t)):ArrayBuffer.isView(v)?u[a]=d(v):u[a]=t(v)}return u}}function f(n){var e=[],o=[];return n.proto?u:i;function t(a,v){for(var g=Object.keys(a),l=new Array(g.length),s=0;s<g.length;s++){var y=g[s],S=a[y];if(typeof S!="object"||S===null)l[y]=S;else if(S instanceof Date)l[y]=new Date(S);else if(ArrayBuffer.isView(S))l[y]=d(S);else{var T=e.indexOf(S);T!==-1?l[y]=o[T]:l[y]=v(S)}}return l}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return t(a,i);if(a instanceof Map)return new Map(t(Array.from(a),i));if(a instanceof Set)return new Set(t(Array.from(a),i));var v={};e.push(a),o.push(v);for(var g in a)if(Object.hasOwnProperty.call(a,g)!==!1){var l=a[g];if(typeof l!="object"||l===null)v[g]=l;else if(l instanceof Date)v[g]=new Date(l);else if(l instanceof Map)v[g]=new Map(t(Array.from(l),i));else if(l instanceof Set)v[g]=new Set(t(Array.from(l),i));else if(ArrayBuffer.isView(l))v[g]=d(l);else{var s=e.indexOf(l);s!==-1?v[g]=o[s]:v[g]=i(l)}}return e.pop(),o.pop(),v}function u(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return t(a,u);if(a instanceof Map)return new Map(t(Array.from(a),u));if(a instanceof Set)return new Set(t(Array.from(a),u));var v={};e.push(a),o.push(v);for(var g in a){var l=a[g];if(typeof l!="object"||l===null)v[g]=l;else if(l instanceof Date)v[g]=new Date(l);else if(l instanceof Map)v[g]=new Map(t(Array.from(l),u));else if(l instanceof Set)v[g]=new Set(t(Array.from(l),u));else if(ArrayBuffer.isView(l))v[g]=d(l);else{var s=e.indexOf(l);s!==-1?v[g]=o[s]:v[g]=u(l)}}return e.pop(),o.pop(),v}}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:17}],73:[function(m,x,k){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=m("buffer"),d=p.Buffer;function c(n,e){for(var o in n)e[o]=n[o]}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?x.exports=p:(c(p,k),k.Buffer=f);function f(n,e,o){return d(n,e,o)}f.prototype=Object.create(d.prototype),c(d,f),f.from=function(n,e,o){if(typeof n=="number")throw new TypeError("Argument must not be a number");return d(n,e,o)},f.alloc=function(n,e,o){if(typeof n!="number")throw new TypeError("Argument must be a number");var t=d(n);return e!==void 0?typeof o=="string"?t.fill(e,o):t.fill(e):t.fill(0),t},f.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return d(n)},f.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(n)}},{buffer:17}],74:[function(m,x,k){x.exports=p;function p(c){var f=c._readableState;return f?f.objectMode||typeof c._duplexState=="number"?c.read():c.read(d(f)):null}function d(c){return c.buffer.length?c.buffer.head?c.buffer.head.data.length:c.buffer[0].length:c.length}},{}],75:[function(m,x,k){var p=m("safe-buffer").Buffer,d=p.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(T){if(!T)return"utf8";for(var O;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(O)return;T=(""+T).toLowerCase(),O=!0}}function f(T){var O=c(T);if(typeof O!="string"&&(p.isEncoding===d||!d(T)))throw new Error("Unknown encoding: "+T);return O||T}k.StringDecoder=n;function n(T){this.encoding=f(T);var O;switch(this.encoding){case"utf16le":this.text=v,this.end=g,O=4;break;case"utf8":this.fillLast=i,O=4;break;case"base64":this.text=l,this.end=s,O=3;break;default:this.write=y,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(O)}n.prototype.write=function(T){if(T.length===0)return"";var O,L;if(this.lastNeed){if(O=this.fillLast(T),O===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<T.length?O?O+this.text(T,L):this.text(T,L):O||""},n.prototype.end=a,n.prototype.text=u,n.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function e(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function o(T,O,L){var M=O.length-1;if(M<L)return 0;var I=e(O[M]);return I>=0?(I>0&&(T.lastNeed=I-1),I):--M<L||I===-2?0:(I=e(O[M]),I>=0?(I>0&&(T.lastNeed=I-2),I):--M<L||I===-2?0:(I=e(O[M]),I>=0?(I>0&&(I===2?I=0:T.lastNeed=I-3),I):0))}function t(T,O,L){if((O[0]&192)!==128)return T.lastNeed=0,"\uFFFD";if(T.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return T.lastNeed=1,"\uFFFD";if(T.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return T.lastNeed=2,"\uFFFD"}}function i(T){var O=this.lastTotal-this.lastNeed,L=t(this,T);if(L!==void 0)return L;if(this.lastNeed<=T.length)return T.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,O,0,T.length),this.lastNeed-=T.length}function u(T,O){var L=o(this,T,O);if(!this.lastNeed)return T.toString("utf8",O);this.lastTotal=L;var M=T.length-(L-this.lastNeed);return T.copy(this.lastChar,0,M),T.toString("utf8",O,M)}function a(T){var O=T&&T.length?this.write(T):"";return this.lastNeed?O+"\uFFFD":O}function v(T,O){if((T.length-O)%2===0){var L=T.toString("utf16le",O);if(L){var M=L.charCodeAt(L.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",O,T.length-1)}function g(T){var O=T&&T.length?this.write(T):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,L)}return O}function l(T,O){var L=(T.length-O)%3;return L===0?T.toString("base64",O):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",O,T.length-L))}function s(T){var O=T&&T.length?this.write(T):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function y(T){return T.toString(this.encoding)}function S(T){return T&&T.length?this.write(T):""}},{"safe-buffer":73}],76:[function(m,x,k){var p=m("punycode"),d=m("./util");k.parse=O,k.resolve=M,k.resolveObject=I,k.format=L,k.Url=c;function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var f=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(t),u=["%","/","?",";","#"].concat(i),a=["/","?","#"],v=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,s={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=m("querystring");function O(h,C,_){if(h&&d.isObject(h)&&h instanceof c)return h;var z=new c;return z.parse(h,C,_),z}c.prototype.parse=function(h,C,_){if(!d.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var z=h.indexOf("?"),N=z!==-1&&z<h.indexOf("#")?"?":"#",H=h.split(N),q=/\\/g;H[0]=H[0].replace(q,"/"),h=H.join(N);var A=h;if(A=A.trim(),!_&&h.split("#").length===1){var P=e.exec(A);if(P)return this.path=A,this.href=A,this.pathname=P[1],P[2]?(this.search=P[2],C?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):C&&(this.search="",this.query={}),this}var U=f.exec(A);if(U){U=U[0];var F=U.toLowerCase();this.protocol=F,A=A.substr(U.length)}if(_||U||A.match(/^\/\/[^@\/]+@[^@\/]+/)){var K=A.substr(0,2)==="//";K&&!(U&&y[U])&&(A=A.substr(2),this.slashes=!0)}if(!y[U]&&(K||U&&!S[U])){for(var Q=-1,j=0;j<a.length;j++){var Y=A.indexOf(a[j]);Y!==-1&&(Q===-1||Y<Q)&&(Q=Y)}var re,ne;Q===-1?ne=A.lastIndexOf("@"):ne=A.lastIndexOf("@",Q),ne!==-1&&(re=A.slice(0,ne),A=A.slice(ne+1),this.auth=decodeURIComponent(re)),Q=-1;for(var j=0;j<u.length;j++){var Y=A.indexOf(u[j]);Y!==-1&&(Q===-1||Y<Q)&&(Q=Y)}Q===-1&&(Q=A.length),this.host=A.slice(0,Q),A=A.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var le=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!le)for(var oe=this.hostname.split(/\./),j=0,Z=oe.length;j<Z;j++){var G=oe[j];if(!!G&&!G.match(g)){for(var te="",W=0,V=G.length;W<V;W++)G.charCodeAt(W)>127?te+="x":te+=G[W];if(!te.match(g)){var J=oe.slice(0,j),ee=oe.slice(j+1),ie=G.match(l);ie&&(J.push(ie[1]),ee.unshift(ie[2])),ee.length&&(A="/"+ee.join(".")+A),this.hostname=J.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),le||(this.hostname=p.toASCII(this.hostname));var R=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+R,this.href+=this.host,le&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),A[0]!=="/"&&(A="/"+A))}if(!s[F])for(var j=0,Z=i.length;j<Z;j++){var B=i[j];if(A.indexOf(B)!==-1){var b=encodeURIComponent(B);b===B&&(b=escape(B)),A=A.split(B).join(b)}}var w=A.indexOf("#");w!==-1&&(this.hash=A.substr(w),A=A.slice(0,w));var $=A.indexOf("?");if($!==-1?(this.search=A.substr($),this.query=A.substr($+1),C&&(this.query=T.parse(this.query)),A=A.slice(0,$)):C&&(this.search="",this.query={}),A&&(this.pathname=A),S[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",X=this.search||"";this.path=R+X}return this.href=this.format(),this};function L(h){return d.isString(h)&&(h=O(h)),h instanceof c?h.format():c.prototype.format.call(h)}c.prototype.format=function(){var h=this.auth||"";h&&(h=encodeURIComponent(h),h=h.replace(/%3A/i,":"),h+="@");var C=this.protocol||"",_=this.pathname||"",z=this.hash||"",N=!1,H="";this.host?N=h+this.host:this.hostname&&(N=h+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(H=T.stringify(this.query));var q=this.search||H&&"?"+H||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||S[C])&&N!==!1?(N="//"+(N||""),_&&_.charAt(0)!=="/"&&(_="/"+_)):N||(N=""),z&&z.charAt(0)!=="#"&&(z="#"+z),q&&q.charAt(0)!=="?"&&(q="?"+q),_=_.replace(/[?#]/g,function(A){return encodeURIComponent(A)}),q=q.replace("#","%23"),C+N+_+q+z};function M(h,C){return O(h,!1,!0).resolve(C)}c.prototype.resolve=function(h){return this.resolveObject(O(h,!1,!0)).format()};function I(h,C){return h?O(h,!1,!0).resolveObject(C):C}c.prototype.resolveObject=function(h){if(d.isString(h)){var C=new c;C.parse(h,!1,!0),h=C}for(var _=new c,z=Object.keys(this),N=0;N<z.length;N++){var H=z[N];_[H]=this[H]}if(_.hash=h.hash,h.href==="")return _.href=_.format(),_;if(h.slashes&&!h.protocol){for(var q=Object.keys(h),A=0;A<q.length;A++){var P=q[A];P!=="protocol"&&(_[P]=h[P])}return S[_.protocol]&&_.hostname&&!_.pathname&&(_.path=_.pathname="/"),_.href=_.format(),_}if(h.protocol&&h.protocol!==_.protocol){if(!S[h.protocol]){for(var U=Object.keys(h),F=0;F<U.length;F++){var K=U[F];_[K]=h[K]}return _.href=_.format(),_}if(_.protocol=h.protocol,!h.host&&!y[h.protocol]){for(var Z=(h.pathname||"").split("/");Z.length&&!(h.host=Z.shift()););h.host||(h.host=""),h.hostname||(h.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),_.pathname=Z.join("/")}else _.pathname=h.pathname;if(_.search=h.search,_.query=h.query,_.host=h.host||"",_.auth=h.auth,_.hostname=h.hostname||h.host,_.port=h.port,_.pathname||_.search){var Q=_.pathname||"",j=_.search||"";_.path=Q+j}return _.slashes=_.slashes||h.slashes,_.href=_.format(),_}var Y=_.pathname&&_.pathname.charAt(0)==="/",re=h.host||h.pathname&&h.pathname.charAt(0)==="/",ne=re||Y||_.host&&h.pathname,le=ne,oe=_.pathname&&_.pathname.split("/")||[],Z=h.pathname&&h.pathname.split("/")||[],G=_.protocol&&!S[_.protocol];if(G&&(_.hostname="",_.port=null,_.host&&(oe[0]===""?oe[0]=_.host:oe.unshift(_.host)),_.host="",h.protocol&&(h.hostname=null,h.port=null,h.host&&(Z[0]===""?Z[0]=h.host:Z.unshift(h.host)),h.host=null),ne=ne&&(Z[0]===""||oe[0]==="")),re)_.host=h.host||h.host===""?h.host:_.host,_.hostname=h.hostname||h.hostname===""?h.hostname:_.hostname,_.search=h.search,_.query=h.query,oe=Z;else if(Z.length)oe||(oe=[]),oe.pop(),oe=oe.concat(Z),_.search=h.search,_.query=h.query;else if(!d.isNullOrUndefined(h.search)){if(G){_.hostname=_.host=oe.shift();var te=_.host&&_.host.indexOf("@")>0?_.host.split("@"):!1;te&&(_.auth=te.shift(),_.host=_.hostname=te.shift())}return _.search=h.search,_.query=h.query,(!d.isNull(_.pathname)||!d.isNull(_.search))&&(_.path=(_.pathname?_.pathname:"")+(_.search?_.search:"")),_.href=_.format(),_}if(!oe.length)return _.pathname=null,_.search?_.path="/"+_.search:_.path=null,_.href=_.format(),_;for(var W=oe.slice(-1)[0],V=(_.host||h.host||oe.length>1)&&(W==="."||W==="..")||W==="",J=0,ee=oe.length;ee>=0;ee--)W=oe[ee],W==="."?oe.splice(ee,1):W===".."?(oe.splice(ee,1),J++):J&&(oe.splice(ee,1),J--);if(!ne&&!le)for(;J--;J)oe.unshift("..");ne&&oe[0]!==""&&(!oe[0]||oe[0].charAt(0)!=="/")&&oe.unshift(""),V&&oe.join("/").substr(-1)!=="/"&&oe.push("");var ie=oe[0]===""||oe[0]&&oe[0].charAt(0)==="/";if(G){_.hostname=_.host=ie?"":oe.length?oe.shift():"";var te=_.host&&_.host.indexOf("@")>0?_.host.split("@"):!1;te&&(_.auth=te.shift(),_.host=_.hostname=te.shift())}return ne=ne||_.host&&oe.length,ne&&!ie&&oe.unshift(""),oe.length?_.pathname=oe.join("/"):(_.pathname=null,_.path=null),(!d.isNull(_.pathname)||!d.isNull(_.search))&&(_.path=(_.pathname?_.pathname:"")+(_.search?_.search:"")),_.auth=h.auth||_.auth,_.slashes=_.slashes||h.slashes,_.href=_.format(),_},c.prototype.parseHost=function(){var h=this.host,C=n.exec(h);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),h=h.substr(0,h.length-C.length)),h&&(this.hostname=h)}},{"./util":77,punycode:51,querystring:54}],77:[function(m,x,k){x.exports={isString:function(p){return typeof p=="string"},isObject:function(p){return typeof p=="object"&&p!==null},isNull:function(p){return p===null},isNullOrUndefined:function(p){return p==null}}},{}],78:[function(m,x,k){(function(p){(function(){x.exports=d;function d(f,n){if(c("noDeprecation"))return f;var e=!1;function o(){if(!e){if(c("throwDeprecation"))throw new Error(n);c("traceDeprecation")?console.trace(n):console.warn(n),e=!0}return f.apply(this,arguments)}return o}function c(f){try{if(!p.localStorage)return!1}catch{return!1}var n=p.localStorage[f];return n==null?!1:String(n).toLowerCase()==="true"}}).call(this)}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],79:[function(m,x,k){x.exports=p;function p(d,c){if(d&&c)return p(d)(c);if(typeof d!="function")throw new TypeError("need wrapper function");return Object.keys(d).forEach(function(n){f[n]=d[n]}),f;function f(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];var o=d.apply(this,n),t=n[n.length-1];return typeof o=="function"&&o!==t&&Object.keys(t).forEach(function(i){o[i]=t[i]}),o}}},{}],80:[function(m,x,k){x.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(m,x,k){x.exports=d;var p=Object.prototype.hasOwnProperty;function d(){for(var c={},f=0;f<arguments.length;f++){var n=arguments[f];for(var e in n)p.call(n,e)&&(c[e]=n[e])}return c}},{}],82:[function(m,x,k){x.exports=function(p){p.prototype[Symbol.iterator]=function*(){for(let d=this.head;d;d=d.next)yield d.value}}},{}],83:[function(m,x,k){x.exports=p,p.Node=n,p.create=p;function p(e){var o=this;if(o instanceof p||(o=new p),o.tail=null,o.head=null,o.length=0,e&&typeof e.forEach=="function")e.forEach(function(u){o.push(u)});else if(arguments.length>0)for(var t=0,i=arguments.length;t<i;t++)o.push(arguments[t]);return o}p.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var o=e.next,t=e.prev;return o&&(o.prev=t),t&&(t.next=o),e===this.head&&(this.head=o),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,o},p.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var o=this.head;e.list=this,e.next=o,o&&(o.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},p.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var o=this.tail;e.list=this,e.prev=o,o&&(o.next=e),this.tail=e,this.head||(this.head=e),this.length++}},p.prototype.push=function(){for(var e=0,o=arguments.length;e<o;e++)c(this,arguments[e]);return this.length},p.prototype.unshift=function(){for(var e=0,o=arguments.length;e<o;e++)f(this,arguments[e]);return this.length},p.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},p.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},p.prototype.forEach=function(e,o){o=o||this;for(var t=this.head,i=0;t!==null;i++)e.call(o,t.value,i,this),t=t.next},p.prototype.forEachReverse=function(e,o){o=o||this;for(var t=this.tail,i=this.length-1;t!==null;i--)e.call(o,t.value,i,this),t=t.prev},p.prototype.get=function(e){for(var o=0,t=this.head;t!==null&&o<e;o++)t=t.next;if(o===e&&t!==null)return t.value},p.prototype.getReverse=function(e){for(var o=0,t=this.tail;t!==null&&o<e;o++)t=t.prev;if(o===e&&t!==null)return t.value},p.prototype.map=function(e,o){o=o||this;for(var t=new p,i=this.head;i!==null;)t.push(e.call(o,i.value,this)),i=i.next;return t},p.prototype.mapReverse=function(e,o){o=o||this;for(var t=new p,i=this.tail;i!==null;)t.push(e.call(o,i.value,this)),i=i.prev;return t},p.prototype.reduce=function(e,o){var t,i=this.head;if(arguments.length>1)t=o;else if(this.head)i=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=0;i!==null;u++)t=e(t,i.value,u),i=i.next;return t},p.prototype.reduceReverse=function(e,o){var t,i=this.tail;if(arguments.length>1)t=o;else if(this.tail)i=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=this.length-1;i!==null;u--)t=e(t,i.value,u),i=i.prev;return t},p.prototype.toArray=function(){for(var e=new Array(this.length),o=0,t=this.head;t!==null;o++)e[o]=t.value,t=t.next;return e},p.prototype.toArrayReverse=function(){for(var e=new Array(this.length),o=0,t=this.tail;t!==null;o++)e[o]=t.value,t=t.prev;return e},p.prototype.slice=function(e,o){o=o||this.length,o<0&&(o+=this.length),e=e||0,e<0&&(e+=this.length);var t=new p;if(o<e||o<0)return t;e<0&&(e=0),o>this.length&&(o=this.length);for(var i=0,u=this.head;u!==null&&i<e;i++)u=u.next;for(;u!==null&&i<o;i++,u=u.next)t.push(u.value);return t},p.prototype.sliceReverse=function(e,o){o=o||this.length,o<0&&(o+=this.length),e=e||0,e<0&&(e+=this.length);var t=new p;if(o<e||o<0)return t;e<0&&(e=0),o>this.length&&(o=this.length);for(var i=this.length,u=this.tail;u!==null&&i>o;i--)u=u.prev;for(;u!==null&&i>e;i--,u=u.prev)t.push(u.value);return t},p.prototype.splice=function(e,o,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,u=this.head;u!==null&&i<e;i++)u=u.next;for(var a=[],i=0;u&&i<o;i++)a.push(u.value),u=this.removeNode(u);u===null&&(u=this.tail),u!==this.head&&u!==this.tail&&(u=u.prev);for(var i=0;i<t.length;i++)u=d(this,u,t[i]);return a},p.prototype.reverse=function(){for(var e=this.head,o=this.tail,t=e;t!==null;t=t.prev){var i=t.prev;t.prev=t.next,t.next=i}return this.head=o,this.tail=e,this};function d(e,o,t){var i=o===e.head?new n(t,null,o,e):new n(t,o,o.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function c(e,o){e.tail=new n(o,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function f(e,o){e.head=new n(o,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function n(e,o,t,i){if(!(this instanceof n))return new n(e,o,t,i);this.list=i,this.value=e,o?(o.next=this,this.prev=o):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{m("./iterator.js")(p)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(mqtt$1);var mqtt=getDefaultExportFromCjs(mqtt$1.exports),commonOption={methods:{getOptionTitle(){return{show:this.validData(this.option.titleShow,!1),text:this.option.title,subtext:this.option.subtext||"",textStyle:{color:this.option.titleColor||"#333",fontSize:this.option.titleFontSize||16},left:this.option.titlePosition||"auto",subtextStyle:{color:this.option.subTitleColor||"#aaa",fontSize:this.option.subTitleFontSize||14}}},getOptionGrid(){return{height:Number(this.option.split)*10,left:this.option.gridX||20,top:this.option.gridY||60,right:this.option.gridX2||20,bottom:this.option.gridY2||60}},getOptionTip(r={}){return{show:this.validData(this.option.tipShow,!0),formatter:this.formatter&&(()=>E=>this.formatter(E,this.dataChart))(),backgroundColor:this.option.tipBackgroundColor||"rgba(0,0,0,0.5)",textStyle:{fontSize:this.option.tipFontSize||20,color:this.option.tipColor||"#fff"},...r}},getOptionLegend(r){return{type:"scroll",show:this.validData(this.option.legend,!1),orient:this.option.legendOrient||"horizontal",x:this.option.legendPosition||"right",textStyle:{fontSize:this.option.legendFontSize||12},data:(r||this.dataChart.series||this.dataChart).map((E,m)=>({name:E.name,textStyle:this.getHasProp(!this.switchTheme,{color:this.getColor(m,!0)})}))}},getOptionLabel(r={}){return{show:this.validData(this.option.labelShow,!1),formatter:this.labelFormatter&&(()=>E=>this.labelFormatter(E,this.dataChart))(),textStyle:{fontSize:this.option.labelShowFontSize||14,color:this.option.labelShowColor||"inherit",fontWeight:this.option.labelShowFontWeight||500},...r}}}},cryptoJs={exports:{}},core={exports:{}};(function(r,E){(function(m,x){r.exports=x()})(commonjsGlobal,function(){var m=m||function(x,k){var p;if(typeof window!="undefined"&&window.crypto&&(p=window.crypto),typeof self!="undefined"&&self.crypto&&(p=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(p=globalThis.crypto),!p&&typeof window!="undefined"&&window.msCrypto&&(p=window.msCrypto),!p&&typeof commonjsGlobal!="undefined"&&commonjsGlobal.crypto&&(p=commonjsGlobal.crypto),!p&&typeof commonjsRequire=="function")try{p=require("crypto")}catch{}var d=function(){if(p){if(typeof p.getRandomValues=="function")try{return p.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof p.randomBytes=="function")try{return p.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function l(){}return function(s){var y;return l.prototype=s,y=new l,l.prototype=null,y}}(),f={},n=f.lib={},e=n.Base=function(){return{extend:function(l){var s=c(this);return l&&s.mixIn(l),(!s.hasOwnProperty("init")||this.init===s.init)&&(s.init=function(){s.$super.init.apply(this,arguments)}),s.init.prototype=s,s.$super=this,s},create:function(){var l=this.extend();return l.init.apply(l,arguments),l},init:function(){},mixIn:function(l){for(var s in l)l.hasOwnProperty(s)&&(this[s]=l[s]);l.hasOwnProperty("toString")&&(this.toString=l.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=n.WordArray=e.extend({init:function(l,s){l=this.words=l||[],s!=k?this.sigBytes=s:this.sigBytes=l.length*4},toString:function(l){return(l||i).stringify(this)},concat:function(l){var s=this.words,y=l.words,S=this.sigBytes,T=l.sigBytes;if(this.clamp(),S%4)for(var O=0;O<T;O++){var L=y[O>>>2]>>>24-O%4*8&255;s[S+O>>>2]|=L<<24-(S+O)%4*8}else for(var M=0;M<T;M+=4)s[S+M>>>2]=y[M>>>2];return this.sigBytes+=T,this},clamp:function(){var l=this.words,s=this.sigBytes;l[s>>>2]&=4294967295<<32-s%4*8,l.length=x.ceil(s/4)},clone:function(){var l=e.clone.call(this);return l.words=this.words.slice(0),l},random:function(l){for(var s=[],y=0;y<l;y+=4)s.push(d());return new o.init(s,l)}}),t=f.enc={},i=t.Hex={stringify:function(l){for(var s=l.words,y=l.sigBytes,S=[],T=0;T<y;T++){var O=s[T>>>2]>>>24-T%4*8&255;S.push((O>>>4).toString(16)),S.push((O&15).toString(16))}return S.join("")},parse:function(l){for(var s=l.length,y=[],S=0;S<s;S+=2)y[S>>>3]|=parseInt(l.substr(S,2),16)<<24-S%8*4;return new o.init(y,s/2)}},u=t.Latin1={stringify:function(l){for(var s=l.words,y=l.sigBytes,S=[],T=0;T<y;T++){var O=s[T>>>2]>>>24-T%4*8&255;S.push(String.fromCharCode(O))}return S.join("")},parse:function(l){for(var s=l.length,y=[],S=0;S<s;S++)y[S>>>2]|=(l.charCodeAt(S)&255)<<24-S%4*8;return new o.init(y,s)}},a=t.Utf8={stringify:function(l){try{return decodeURIComponent(escape(u.stringify(l)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(l){return u.parse(unescape(encodeURIComponent(l)))}},v=n.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(l){typeof l=="string"&&(l=a.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes},_process:function(l){var s,y=this._data,S=y.words,T=y.sigBytes,O=this.blockSize,L=O*4,M=T/L;l?M=x.ceil(M):M=x.max((M|0)-this._minBufferSize,0);var I=M*O,h=x.min(I*4,T);if(I){for(var C=0;C<I;C+=O)this._doProcessBlock(S,C);s=S.splice(0,I),y.sigBytes-=h}return new o.init(s,h)},clone:function(){var l=e.clone.call(this);return l._data=this._data.clone(),l},_minBufferSize:0});n.Hasher=v.extend({cfg:e.extend(),init:function(l){this.cfg=this.cfg.extend(l),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(l){return this._append(l),this._process(),this},finalize:function(l){l&&this._append(l);var s=this._doFinalize();return s},blockSize:16,_createHelper:function(l){return function(s,y){return new l.init(y).finalize(s)}},_createHmacHelper:function(l){return function(s,y){return new g.HMAC.init(l,y).finalize(s)}}});var g=f.algo={};return f}(Math);return m})})(core);var x64Core={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(x){var k=m,p=k.lib,d=p.Base,c=p.WordArray,f=k.x64={};f.Word=d.extend({init:function(n,e){this.high=n,this.low=e}}),f.WordArray=d.extend({init:function(n,e){n=this.words=n||[],e!=x?this.sigBytes=e:this.sigBytes=n.length*8},toX32:function(){for(var n=this.words,e=n.length,o=[],t=0;t<e;t++){var i=n[t];o.push(i.high),o.push(i.low)}return c.create(o,this.sigBytes)},clone:function(){for(var n=d.clone.call(this),e=n.words=this.words.slice(0),o=e.length,t=0;t<o;t++)e[t]=e[t].clone();return n}})}(),m})})(x64Core);var libTypedarrays={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(){if(typeof ArrayBuffer=="function"){var x=m,k=x.lib,p=k.WordArray,d=p.init,c=p.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var n=f.byteLength,e=[],o=0;o<n;o++)e[o>>>2]|=f[o]<<24-o%4*8;d.call(this,e,n)}else d.apply(this,arguments)};c.prototype=p}}(),m.lib.WordArray})})(libTypedarrays);var encUtf16={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=x.enc;d.Utf16=d.Utf16BE={stringify:function(f){for(var n=f.words,e=f.sigBytes,o=[],t=0;t<e;t+=2){var i=n[t>>>2]>>>16-t%4*8&65535;o.push(String.fromCharCode(i))}return o.join("")},parse:function(f){for(var n=f.length,e=[],o=0;o<n;o++)e[o>>>1]|=f.charCodeAt(o)<<16-o%2*16;return p.create(e,n*2)}},d.Utf16LE={stringify:function(f){for(var n=f.words,e=f.sigBytes,o=[],t=0;t<e;t+=2){var i=c(n[t>>>2]>>>16-t%4*8&65535);o.push(String.fromCharCode(i))}return o.join("")},parse:function(f){for(var n=f.length,e=[],o=0;o<n;o++)e[o>>>1]|=c(f.charCodeAt(o)<<16-o%2*16);return p.create(e,n*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}}(),m.enc.Utf16})})(encUtf16);var encBase64={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=x.enc;d.Base64={stringify:function(f){var n=f.words,e=f.sigBytes,o=this._map;f.clamp();for(var t=[],i=0;i<e;i+=3)for(var u=n[i>>>2]>>>24-i%4*8&255,a=n[i+1>>>2]>>>24-(i+1)%4*8&255,v=n[i+2>>>2]>>>24-(i+2)%4*8&255,g=u<<16|a<<8|v,l=0;l<4&&i+l*.75<e;l++)t.push(o.charAt(g>>>6*(3-l)&63));var s=o.charAt(64);if(s)for(;t.length%4;)t.push(s);return t.join("")},parse:function(f){var n=f.length,e=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var t=0;t<e.length;t++)o[e.charCodeAt(t)]=t}var i=e.charAt(64);if(i){var u=f.indexOf(i);u!==-1&&(n=u)}return c(f,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,n,e){for(var o=[],t=0,i=0;i<n;i++)if(i%4){var u=e[f.charCodeAt(i-1)]<<i%4*2,a=e[f.charCodeAt(i)]>>>6-i%4*2,v=u|a;o[t>>>2]|=v<<24-t%4*8,t++}return p.create(o,t)}}(),m.enc.Base64})})(encBase64);var encBase64url={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=x.enc;d.Base64url={stringify:function(f,n=!0){var e=f.words,o=f.sigBytes,t=n?this._safe_map:this._map;f.clamp();for(var i=[],u=0;u<o;u+=3)for(var a=e[u>>>2]>>>24-u%4*8&255,v=e[u+1>>>2]>>>24-(u+1)%4*8&255,g=e[u+2>>>2]>>>24-(u+2)%4*8&255,l=a<<16|v<<8|g,s=0;s<4&&u+s*.75<o;s++)i.push(t.charAt(l>>>6*(3-s)&63));var y=t.charAt(64);if(y)for(;i.length%4;)i.push(y);return i.join("")},parse:function(f,n=!0){var e=f.length,o=n?this._safe_map:this._map,t=this._reverseMap;if(!t){t=this._reverseMap=[];for(var i=0;i<o.length;i++)t[o.charCodeAt(i)]=i}var u=o.charAt(64);if(u){var a=f.indexOf(u);a!==-1&&(e=a)}return c(f,e,t)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,n,e){for(var o=[],t=0,i=0;i<n;i++)if(i%4){var u=e[f.charCodeAt(i-1)]<<i%4*2,a=e[f.charCodeAt(i)]>>>6-i%4*2,v=u|a;o[t>>>2]|=v<<24-t%4*8,t++}return p.create(o,t)}}(),m.enc.Base64url})})(encBase64url);var md5={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(x){var k=m,p=k.lib,d=p.WordArray,c=p.Hasher,f=k.algo,n=[];(function(){for(var a=0;a<64;a++)n[a]=x.abs(x.sin(a+1))*4294967296|0})();var e=f.MD5=c.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,v){for(var g=0;g<16;g++){var l=v+g,s=a[l];a[l]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360}var y=this._hash.words,S=a[v+0],T=a[v+1],O=a[v+2],L=a[v+3],M=a[v+4],I=a[v+5],h=a[v+6],C=a[v+7],_=a[v+8],z=a[v+9],N=a[v+10],H=a[v+11],q=a[v+12],A=a[v+13],P=a[v+14],U=a[v+15],F=y[0],K=y[1],Q=y[2],j=y[3];F=o(F,K,Q,j,S,7,n[0]),j=o(j,F,K,Q,T,12,n[1]),Q=o(Q,j,F,K,O,17,n[2]),K=o(K,Q,j,F,L,22,n[3]),F=o(F,K,Q,j,M,7,n[4]),j=o(j,F,K,Q,I,12,n[5]),Q=o(Q,j,F,K,h,17,n[6]),K=o(K,Q,j,F,C,22,n[7]),F=o(F,K,Q,j,_,7,n[8]),j=o(j,F,K,Q,z,12,n[9]),Q=o(Q,j,F,K,N,17,n[10]),K=o(K,Q,j,F,H,22,n[11]),F=o(F,K,Q,j,q,7,n[12]),j=o(j,F,K,Q,A,12,n[13]),Q=o(Q,j,F,K,P,17,n[14]),K=o(K,Q,j,F,U,22,n[15]),F=t(F,K,Q,j,T,5,n[16]),j=t(j,F,K,Q,h,9,n[17]),Q=t(Q,j,F,K,H,14,n[18]),K=t(K,Q,j,F,S,20,n[19]),F=t(F,K,Q,j,I,5,n[20]),j=t(j,F,K,Q,N,9,n[21]),Q=t(Q,j,F,K,U,14,n[22]),K=t(K,Q,j,F,M,20,n[23]),F=t(F,K,Q,j,z,5,n[24]),j=t(j,F,K,Q,P,9,n[25]),Q=t(Q,j,F,K,L,14,n[26]),K=t(K,Q,j,F,_,20,n[27]),F=t(F,K,Q,j,A,5,n[28]),j=t(j,F,K,Q,O,9,n[29]),Q=t(Q,j,F,K,C,14,n[30]),K=t(K,Q,j,F,q,20,n[31]),F=i(F,K,Q,j,I,4,n[32]),j=i(j,F,K,Q,_,11,n[33]),Q=i(Q,j,F,K,H,16,n[34]),K=i(K,Q,j,F,P,23,n[35]),F=i(F,K,Q,j,T,4,n[36]),j=i(j,F,K,Q,M,11,n[37]),Q=i(Q,j,F,K,C,16,n[38]),K=i(K,Q,j,F,N,23,n[39]),F=i(F,K,Q,j,A,4,n[40]),j=i(j,F,K,Q,S,11,n[41]),Q=i(Q,j,F,K,L,16,n[42]),K=i(K,Q,j,F,h,23,n[43]),F=i(F,K,Q,j,z,4,n[44]),j=i(j,F,K,Q,q,11,n[45]),Q=i(Q,j,F,K,U,16,n[46]),K=i(K,Q,j,F,O,23,n[47]),F=u(F,K,Q,j,S,6,n[48]),j=u(j,F,K,Q,C,10,n[49]),Q=u(Q,j,F,K,P,15,n[50]),K=u(K,Q,j,F,I,21,n[51]),F=u(F,K,Q,j,q,6,n[52]),j=u(j,F,K,Q,L,10,n[53]),Q=u(Q,j,F,K,N,15,n[54]),K=u(K,Q,j,F,T,21,n[55]),F=u(F,K,Q,j,_,6,n[56]),j=u(j,F,K,Q,U,10,n[57]),Q=u(Q,j,F,K,h,15,n[58]),K=u(K,Q,j,F,A,21,n[59]),F=u(F,K,Q,j,M,6,n[60]),j=u(j,F,K,Q,H,10,n[61]),Q=u(Q,j,F,K,O,15,n[62]),K=u(K,Q,j,F,z,21,n[63]),y[0]=y[0]+F|0,y[1]=y[1]+K|0,y[2]=y[2]+Q|0,y[3]=y[3]+j|0},_doFinalize:function(){var a=this._data,v=a.words,g=this._nDataBytes*8,l=a.sigBytes*8;v[l>>>5]|=128<<24-l%32;var s=x.floor(g/4294967296),y=g;v[(l+64>>>9<<4)+15]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,v[(l+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,a.sigBytes=(v.length+1)*4,this._process();for(var S=this._hash,T=S.words,O=0;O<4;O++){var L=T[O];T[O]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return S},clone:function(){var a=c.clone.call(this);return a._hash=this._hash.clone(),a}});function o(a,v,g,l,s,y,S){var T=a+(v&g|~v&l)+s+S;return(T<<y|T>>>32-y)+v}function t(a,v,g,l,s,y,S){var T=a+(v&l|g&~l)+s+S;return(T<<y|T>>>32-y)+v}function i(a,v,g,l,s,y,S){var T=a+(v^g^l)+s+S;return(T<<y|T>>>32-y)+v}function u(a,v,g,l,s,y,S){var T=a+(g^(v|~l))+s+S;return(T<<y|T>>>32-y)+v}k.MD5=c._createHelper(e),k.HmacMD5=c._createHmacHelper(e)}(Math),m.MD5})})(md5);var sha1={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=k.Hasher,c=x.algo,f=[],n=c.SHA1=d.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,o){for(var t=this._hash.words,i=t[0],u=t[1],a=t[2],v=t[3],g=t[4],l=0;l<80;l++){if(l<16)f[l]=e[o+l]|0;else{var s=f[l-3]^f[l-8]^f[l-14]^f[l-16];f[l]=s<<1|s>>>31}var y=(i<<5|i>>>27)+g+f[l];l<20?y+=(u&a|~u&v)+1518500249:l<40?y+=(u^a^v)+1859775393:l<60?y+=(u&a|u&v|a&v)-1894007588:y+=(u^a^v)-899497514,g=v,v=a,a=u<<30|u>>>2,u=i,i=y}t[0]=t[0]+i|0,t[1]=t[1]+u|0,t[2]=t[2]+a|0,t[3]=t[3]+v|0,t[4]=t[4]+g|0},_doFinalize:function(){var e=this._data,o=e.words,t=this._nDataBytes*8,i=e.sigBytes*8;return o[i>>>5]|=128<<24-i%32,o[(i+64>>>9<<4)+14]=Math.floor(t/4294967296),o[(i+64>>>9<<4)+15]=t,e.sigBytes=o.length*4,this._process(),this._hash},clone:function(){var e=d.clone.call(this);return e._hash=this._hash.clone(),e}});x.SHA1=d._createHelper(n),x.HmacSHA1=d._createHmacHelper(n)}(),m.SHA1})})(sha1);var sha256={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){return function(x){var k=m,p=k.lib,d=p.WordArray,c=p.Hasher,f=k.algo,n=[],e=[];(function(){function i(g){for(var l=x.sqrt(g),s=2;s<=l;s++)if(!(g%s))return!1;return!0}function u(g){return(g-(g|0))*4294967296|0}for(var a=2,v=0;v<64;)i(a)&&(v<8&&(n[v]=u(x.pow(a,1/2))),e[v]=u(x.pow(a,1/3)),v++),a++})();var o=[],t=f.SHA256=c.extend({_doReset:function(){this._hash=new d.init(n.slice(0))},_doProcessBlock:function(i,u){for(var a=this._hash.words,v=a[0],g=a[1],l=a[2],s=a[3],y=a[4],S=a[5],T=a[6],O=a[7],L=0;L<64;L++){if(L<16)o[L]=i[u+L]|0;else{var M=o[L-15],I=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,h=o[L-2],C=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;o[L]=I+o[L-7]+C+o[L-16]}var _=y&S^~y&T,z=v&g^v&l^g&l,N=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),H=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),q=O+H+_+e[L]+o[L],A=N+z;O=T,T=S,S=y,y=s+q|0,s=l,l=g,g=v,v=q+A|0}a[0]=a[0]+v|0,a[1]=a[1]+g|0,a[2]=a[2]+l|0,a[3]=a[3]+s|0,a[4]=a[4]+y|0,a[5]=a[5]+S|0,a[6]=a[6]+T|0,a[7]=a[7]+O|0},_doFinalize:function(){var i=this._data,u=i.words,a=this._nDataBytes*8,v=i.sigBytes*8;return u[v>>>5]|=128<<24-v%32,u[(v+64>>>9<<4)+14]=x.floor(a/4294967296),u[(v+64>>>9<<4)+15]=a,i.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var i=c.clone.call(this);return i._hash=this._hash.clone(),i}});k.SHA256=c._createHelper(t),k.HmacSHA256=c._createHmacHelper(t)}(Math),m.SHA256})})(sha256);var sha224={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,sha256.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=x.algo,c=d.SHA256,f=d.SHA224=c.extend({_doReset:function(){this._hash=new p.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var n=c._doFinalize.call(this);return n.sigBytes-=4,n}});x.SHA224=c._createHelper(f),x.HmacSHA224=c._createHmacHelper(f)}(),m.SHA224})})(sha224);var sha512={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,x64Core.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.Hasher,d=x.x64,c=d.Word,f=d.WordArray,n=x.algo;function e(){return c.create.apply(c,arguments)}var o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],t=[];(function(){for(var u=0;u<80;u++)t[u]=e()})();var i=n.SHA512=p.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(u,a){for(var v=this._hash.words,g=v[0],l=v[1],s=v[2],y=v[3],S=v[4],T=v[5],O=v[6],L=v[7],M=g.high,I=g.low,h=l.high,C=l.low,_=s.high,z=s.low,N=y.high,H=y.low,q=S.high,A=S.low,P=T.high,U=T.low,F=O.high,K=O.low,Q=L.high,j=L.low,Y=M,re=I,ne=h,le=C,oe=_,Z=z,G=N,te=H,W=q,V=A,J=P,ee=U,ie=F,R=K,D=Q,B=j,b=0;b<80;b++){var w,$,X=t[b];if(b<16)$=X.high=u[a+b*2]|0,w=X.low=u[a+b*2+1]|0;else{var se=t[b-15],ae=se.high,ue=se.low,fe=(ae>>>1|ue<<31)^(ae>>>8|ue<<24)^ae>>>7,he=(ue>>>1|ae<<31)^(ue>>>8|ae<<24)^(ue>>>7|ae<<25),de=t[b-2],ce=de.high,pe=de.low,ye=(ce>>>19|pe<<13)^(ce<<3|pe>>>29)^ce>>>6,me=(pe>>>19|ce<<13)^(pe<<3|ce>>>29)^(pe>>>6|ce<<26),ge=t[b-7],Be=ge.high,Ae=ge.low,_e=t[b-16],Ie=_e.high,we=_e.low;w=he+Ae,$=fe+Be+(w>>>0<he>>>0?1:0),w=w+me,$=$+ye+(w>>>0<me>>>0?1:0),w=w+we,$=$+Ie+(w>>>0<we>>>0?1:0),X.high=$,X.low=w}var Oe=W&J^~W&ie,Ce=V&ee^~V&R,Me=Y&ne^Y&oe^ne&oe,Pe=re&le^re&Z^le&Z,Le=(Y>>>28|re<<4)^(Y<<30|re>>>2)^(Y<<25|re>>>7),Se=(re>>>28|Y<<4)^(re<<30|Y>>>2)^(re<<25|Y>>>7),Re=(W>>>14|V<<18)^(W>>>18|V<<14)^(W<<23|V>>>9),ze=(V>>>14|W<<18)^(V>>>18|W<<14)^(V<<23|W>>>9),ke=o[b],$e=ke.high,Ee=ke.low,ve=B+ze,be=D+Re+(ve>>>0<B>>>0?1:0),ve=ve+Ce,be=be+Oe+(ve>>>0<Ce>>>0?1:0),ve=ve+Ee,be=be+$e+(ve>>>0<Ee>>>0?1:0),ve=ve+w,be=be+$+(ve>>>0<w>>>0?1:0),Te=Se+Pe,De=Le+Me+(Te>>>0<Se>>>0?1:0);D=ie,B=R,ie=J,R=ee,J=W,ee=V,V=te+ve|0,W=G+be+(V>>>0<te>>>0?1:0)|0,G=oe,te=Z,oe=ne,Z=le,ne=Y,le=re,re=ve+Te|0,Y=be+De+(re>>>0<ve>>>0?1:0)|0}I=g.low=I+re,g.high=M+Y+(I>>>0<re>>>0?1:0),C=l.low=C+le,l.high=h+ne+(C>>>0<le>>>0?1:0),z=s.low=z+Z,s.high=_+oe+(z>>>0<Z>>>0?1:0),H=y.low=H+te,y.high=N+G+(H>>>0<te>>>0?1:0),A=S.low=A+V,S.high=q+W+(A>>>0<V>>>0?1:0),U=T.low=U+ee,T.high=P+J+(U>>>0<ee>>>0?1:0),K=O.low=K+R,O.high=F+ie+(K>>>0<R>>>0?1:0),j=L.low=j+B,L.high=Q+D+(j>>>0<B>>>0?1:0)},_doFinalize:function(){var u=this._data,a=u.words,v=this._nDataBytes*8,g=u.sigBytes*8;a[g>>>5]|=128<<24-g%32,a[(g+128>>>10<<5)+30]=Math.floor(v/4294967296),a[(g+128>>>10<<5)+31]=v,u.sigBytes=a.length*4,this._process();var l=this._hash.toX32();return l},clone:function(){var u=p.clone.call(this);return u._hash=this._hash.clone(),u},blockSize:1024/32});x.SHA512=p._createHelper(i),x.HmacSHA512=p._createHmacHelper(i)}(),m.SHA512})})(sha512);var sha384={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,x64Core.exports,sha512.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.x64,p=k.Word,d=k.WordArray,c=x.algo,f=c.SHA512,n=c.SHA384=f.extend({_doReset:function(){this._hash=new d.init([new p.init(3418070365,3238371032),new p.init(1654270250,914150663),new p.init(2438529370,812702999),new p.init(355462360,4144912697),new p.init(1731405415,4290775857),new p.init(2394180231,1750603025),new p.init(3675008525,1694076839),new p.init(1203062813,3204075428)])},_doFinalize:function(){var e=f._doFinalize.call(this);return e.sigBytes-=16,e}});x.SHA384=f._createHelper(n),x.HmacSHA384=f._createHmacHelper(n)}(),m.SHA384})})(sha384);var sha3={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,x64Core.exports)})(commonjsGlobal,function(m){return function(x){var k=m,p=k.lib,d=p.WordArray,c=p.Hasher,f=k.x64,n=f.Word,e=k.algo,o=[],t=[],i=[];(function(){for(var v=1,g=0,l=0;l<24;l++){o[v+5*g]=(l+1)*(l+2)/2%64;var s=g%5,y=(2*v+3*g)%5;v=s,g=y}for(var v=0;v<5;v++)for(var g=0;g<5;g++)t[v+5*g]=g+(2*v+3*g)%5*5;for(var S=1,T=0;T<24;T++){for(var O=0,L=0,M=0;M<7;M++){if(S&1){var I=(1<<M)-1;I<32?L^=1<<I:O^=1<<I-32}S&128?S=S<<1^113:S<<=1}i[T]=n.create(O,L)}})();var u=[];(function(){for(var v=0;v<25;v++)u[v]=n.create()})();var a=e.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],g=0;g<25;g++)v[g]=new n.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,g){for(var l=this._state,s=this.blockSize/2,y=0;y<s;y++){var S=v[g+2*y],T=v[g+2*y+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360;var O=l[y];O.high^=T,O.low^=S}for(var L=0;L<24;L++){for(var M=0;M<5;M++){for(var I=0,h=0,C=0;C<5;C++){var O=l[M+5*C];I^=O.high,h^=O.low}var _=u[M];_.high=I,_.low=h}for(var M=0;M<5;M++)for(var z=u[(M+4)%5],N=u[(M+1)%5],H=N.high,q=N.low,I=z.high^(H<<1|q>>>31),h=z.low^(q<<1|H>>>31),C=0;C<5;C++){var O=l[M+5*C];O.high^=I,O.low^=h}for(var A=1;A<25;A++){var I,h,O=l[A],P=O.high,U=O.low,F=o[A];F<32?(I=P<<F|U>>>32-F,h=U<<F|P>>>32-F):(I=U<<F-32|P>>>64-F,h=P<<F-32|U>>>64-F);var K=u[t[A]];K.high=I,K.low=h}var Q=u[0],j=l[0];Q.high=j.high,Q.low=j.low;for(var M=0;M<5;M++)for(var C=0;C<5;C++){var A=M+5*C,O=l[A],Y=u[A],re=u[(M+1)%5+5*C],ne=u[(M+2)%5+5*C];O.high=Y.high^~re.high&ne.high,O.low=Y.low^~re.low&ne.low}var O=l[0],le=i[L];O.high^=le.high,O.low^=le.low}},_doFinalize:function(){var v=this._data,g=v.words;this._nDataBytes*8;var l=v.sigBytes*8,s=this.blockSize*32;g[l>>>5]|=1<<24-l%32,g[(x.ceil((l+1)/s)*s>>>5)-1]|=128,v.sigBytes=g.length*4,this._process();for(var y=this._state,S=this.cfg.outputLength/8,T=S/8,O=[],L=0;L<T;L++){var M=y[L],I=M.high,h=M.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,h=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,O.push(h),O.push(I)}return new d.init(O,S)},clone:function(){for(var v=c.clone.call(this),g=v._state=this._state.slice(0),l=0;l<25;l++)g[l]=g[l].clone();return v}});k.SHA3=c._createHelper(a),k.HmacSHA3=c._createHmacHelper(a)}(Math),m.SHA3})})(sha3);var ripemd160={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){/** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.

  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*/return function(x){var k=m,p=k.lib,d=p.WordArray,c=p.Hasher,f=k.algo,n=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),e=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),t=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),i=d.create([0,1518500249,1859775393,2400959708,2840853838]),u=d.create([1352829926,1548603684,1836072691,2053994217,0]),a=f.RIPEMD160=c.extend({_doReset:function(){this._hash=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(T,O){for(var L=0;L<16;L++){var M=O+L,I=T[M];T[M]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var h=this._hash.words,C=i.words,_=u.words,z=n.words,N=e.words,H=o.words,q=t.words,A,P,U,F,K,Q,j,Y,re,ne;Q=A=h[0],j=P=h[1],Y=U=h[2],re=F=h[3],ne=K=h[4];for(var le,L=0;L<80;L+=1)le=A+T[O+z[L]]|0,L<16?le+=v(P,U,F)+C[0]:L<32?le+=g(P,U,F)+C[1]:L<48?le+=l(P,U,F)+C[2]:L<64?le+=s(P,U,F)+C[3]:le+=y(P,U,F)+C[4],le=le|0,le=S(le,H[L]),le=le+K|0,A=K,K=F,F=S(U,10),U=P,P=le,le=Q+T[O+N[L]]|0,L<16?le+=y(j,Y,re)+_[0]:L<32?le+=s(j,Y,re)+_[1]:L<48?le+=l(j,Y,re)+_[2]:L<64?le+=g(j,Y,re)+_[3]:le+=v(j,Y,re)+_[4],le=le|0,le=S(le,q[L]),le=le+ne|0,Q=ne,ne=re,re=S(Y,10),Y=j,j=le;le=h[1]+U+re|0,h[1]=h[2]+F+ne|0,h[2]=h[3]+K+Q|0,h[3]=h[4]+A+j|0,h[4]=h[0]+P+Y|0,h[0]=le},_doFinalize:function(){var T=this._data,O=T.words,L=this._nDataBytes*8,M=T.sigBytes*8;O[M>>>5]|=128<<24-M%32,O[(M+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,T.sigBytes=(O.length+1)*4,this._process();for(var I=this._hash,h=I.words,C=0;C<5;C++){var _=h[C];h[C]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return I},clone:function(){var T=c.clone.call(this);return T._hash=this._hash.clone(),T}});function v(T,O,L){return T^O^L}function g(T,O,L){return T&O|~T&L}function l(T,O,L){return(T|~O)^L}function s(T,O,L){return T&L|O&~L}function y(T,O,L){return T^(O|~L)}function S(T,O){return T<<O|T>>>32-O}k.RIPEMD160=c._createHelper(a),k.HmacRIPEMD160=c._createHmacHelper(a)}(),m.RIPEMD160})})(ripemd160);var hmac={exports:{}};(function(r,E){(function(m,x){r.exports=x(core.exports)})(commonjsGlobal,function(m){(function(){var x=m,k=x.lib,p=k.Base,d=x.enc,c=d.Utf8,f=x.algo;f.HMAC=p.extend({init:function(n,e){n=this._hasher=new n.init,typeof e=="string"&&(e=c.parse(e));var o=n.blockSize,t=o*4;e.sigBytes>t&&(e=n.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),u=this._iKey=e.clone(),a=i.words,v=u.words,g=0;g<o;g++)a[g]^=1549556828,v[g]^=909522486;i.sigBytes=u.sigBytes=t,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var e=this._hasher,o=e.finalize(n);e.reset();var t=e.finalize(this._oKey.clone().concat(o));return t}})})()})})(hmac);var pbkdf2={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.Base,d=k.WordArray,c=x.algo,f=c.SHA1,n=c.HMAC,e=c.PBKDF2=p.extend({cfg:p.extend({keySize:128/32,hasher:f,iterations:1}),init:function(o){this.cfg=this.cfg.extend(o)},compute:function(o,t){for(var i=this.cfg,u=n.create(i.hasher,o),a=d.create(),v=d.create([1]),g=a.words,l=v.words,s=i.keySize,y=i.iterations;g.length<s;){var S=u.update(t).finalize(v);u.reset();for(var T=S.words,O=T.length,L=S,M=1;M<y;M++){L=u.finalize(L),u.reset();for(var I=L.words,h=0;h<O;h++)T[h]^=I[h]}a.concat(S),l[0]++}return a.sigBytes=s*4,a}});x.PBKDF2=function(o,t,i){return e.create(i).compute(o,t)}}(),m.PBKDF2})})(pbkdf2);var evpkdf={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.Base,d=k.WordArray,c=x.algo,f=c.MD5,n=c.EvpKDF=p.extend({cfg:p.extend({keySize:128/32,hasher:f,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,o){for(var t,i=this.cfg,u=i.hasher.create(),a=d.create(),v=a.words,g=i.keySize,l=i.iterations;v.length<g;){t&&u.update(t),t=u.update(e).finalize(o),u.reset();for(var s=1;s<l;s++)t=u.finalize(t),u.reset();a.concat(t)}return a.sigBytes=g*4,a}});x.EvpKDF=function(e,o,t){return n.create(t).compute(e,o)}}(),m.EvpKDF})})(evpkdf);var cipherCore={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,evpkdf.exports)})(commonjsGlobal,function(m){m.lib.Cipher||function(x){var k=m,p=k.lib,d=p.Base,c=p.WordArray,f=p.BufferedBlockAlgorithm,n=k.enc;n.Utf8;var e=n.Base64,o=k.algo,t=o.EvpKDF,i=p.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(I,h){return this.create(this._ENC_XFORM_MODE,I,h)},createDecryptor:function(I,h){return this.create(this._DEC_XFORM_MODE,I,h)},init:function(I,h,C){this.cfg=this.cfg.extend(C),this._xformMode=I,this._key=h,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var h=this._doFinalize();return h},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function I(h){return typeof h=="string"?M:T}return function(h){return{encrypt:function(C,_,z){return I(_).encrypt(h,C,_,z)},decrypt:function(C,_,z){return I(_).decrypt(h,C,_,z)}}}}()});p.StreamCipher=i.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var u=k.mode={},a=p.BlockCipherMode=d.extend({createEncryptor:function(I,h){return this.Encryptor.create(I,h)},createDecryptor:function(I,h){return this.Decryptor.create(I,h)},init:function(I,h){this._cipher=I,this._iv=h}}),v=u.CBC=function(){var I=a.extend();I.Encryptor=I.extend({processBlock:function(C,_){var z=this._cipher,N=z.blockSize;h.call(this,C,_,N),z.encryptBlock(C,_),this._prevBlock=C.slice(_,_+N)}}),I.Decryptor=I.extend({processBlock:function(C,_){var z=this._cipher,N=z.blockSize,H=C.slice(_,_+N);z.decryptBlock(C,_),h.call(this,C,_,N),this._prevBlock=H}});function h(C,_,z){var N,H=this._iv;H?(N=H,this._iv=x):N=this._prevBlock;for(var q=0;q<z;q++)C[_+q]^=N[q]}return I}(),g=k.pad={},l=g.Pkcs7={pad:function(I,h){for(var C=h*4,_=C-I.sigBytes%C,z=_<<24|_<<16|_<<8|_,N=[],H=0;H<_;H+=4)N.push(z);var q=c.create(N,_);I.concat(q)},unpad:function(I){var h=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=h}};p.BlockCipher=i.extend({cfg:i.cfg.extend({mode:v,padding:l}),reset:function(){var I;i.reset.call(this);var h=this.cfg,C=h.iv,_=h.mode;this._xformMode==this._ENC_XFORM_MODE?I=_.createEncryptor:(I=_.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,C&&C.words):(this._mode=I.call(_,this,C&&C.words),this._mode.__creator=I)},_doProcessBlock:function(I,h){this._mode.processBlock(I,h)},_doFinalize:function(){var I,h=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(h.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),h.unpad(I)),I},blockSize:128/32});var s=p.CipherParams=d.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),y=k.format={},S=y.OpenSSL={stringify:function(I){var h,C=I.ciphertext,_=I.salt;return _?h=c.create([1398893684,1701076831]).concat(_).concat(C):h=C,h.toString(e)},parse:function(I){var h,C=e.parse(I),_=C.words;return _[0]==1398893684&&_[1]==1701076831&&(h=c.create(_.slice(2,4)),_.splice(0,4),C.sigBytes-=16),s.create({ciphertext:C,salt:h})}},T=p.SerializableCipher=d.extend({cfg:d.extend({format:S}),encrypt:function(I,h,C,_){_=this.cfg.extend(_);var z=I.createEncryptor(C,_),N=z.finalize(h),H=z.cfg;return s.create({ciphertext:N,key:C,iv:H.iv,algorithm:I,mode:H.mode,padding:H.padding,blockSize:I.blockSize,formatter:_.format})},decrypt:function(I,h,C,_){_=this.cfg.extend(_),h=this._parse(h,_.format);var z=I.createDecryptor(C,_).finalize(h.ciphertext);return z},_parse:function(I,h){return typeof I=="string"?h.parse(I,this):I}}),O=k.kdf={},L=O.OpenSSL={execute:function(I,h,C,_){_||(_=c.random(64/8));var z=t.create({keySize:h+C}).compute(I,_),N=c.create(z.words.slice(h),C*4);return z.sigBytes=h*4,s.create({key:z,iv:N,salt:_})}},M=p.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:L}),encrypt:function(I,h,C,_){_=this.cfg.extend(_);var z=_.kdf.execute(C,I.keySize,I.ivSize);_.iv=z.iv;var N=T.encrypt.call(this,I,h,z.key,_);return N.mixIn(z),N},decrypt:function(I,h,C,_){_=this.cfg.extend(_),h=this._parse(h,_.format);var z=_.kdf.execute(C,I.keySize,I.ivSize,h.salt);_.iv=z.iv;var N=T.decrypt.call(this,I,h,z.key,_);return N}})}()})})(cipherCore);var modeCfb={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.mode.CFB=function(){var x=m.lib.BlockCipherMode.extend();x.Encryptor=x.extend({processBlock:function(p,d){var c=this._cipher,f=c.blockSize;k.call(this,p,d,f,c),this._prevBlock=p.slice(d,d+f)}}),x.Decryptor=x.extend({processBlock:function(p,d){var c=this._cipher,f=c.blockSize,n=p.slice(d,d+f);k.call(this,p,d,f,c),this._prevBlock=n}});function k(p,d,c,f){var n,e=this._iv;e?(n=e.slice(0),this._iv=void 0):n=this._prevBlock,f.encryptBlock(n,0);for(var o=0;o<c;o++)p[d+o]^=n[o]}return x}(),m.mode.CFB})})(modeCfb);var modeCtr={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.mode.CTR=function(){var x=m.lib.BlockCipherMode.extend(),k=x.Encryptor=x.extend({processBlock:function(p,d){var c=this._cipher,f=c.blockSize,n=this._iv,e=this._counter;n&&(e=this._counter=n.slice(0),this._iv=void 0);var o=e.slice(0);c.encryptBlock(o,0),e[f-1]=e[f-1]+1|0;for(var t=0;t<f;t++)p[d+t]^=o[t]}});return x.Decryptor=k,x}(),m.mode.CTR})})(modeCtr);var modeCtrGladman={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return m.mode.CTRGladman=function(){var x=m.lib.BlockCipherMode.extend();function k(c){if((c>>24&255)===255){var f=c>>16&255,n=c>>8&255,e=c&255;f===255?(f=0,n===255?(n=0,e===255?e=0:++e):++n):++f,c=0,c+=f<<16,c+=n<<8,c+=e}else c+=1<<24;return c}function p(c){return(c[0]=k(c[0]))===0&&(c[1]=k(c[1])),c}var d=x.Encryptor=x.extend({processBlock:function(c,f){var n=this._cipher,e=n.blockSize,o=this._iv,t=this._counter;o&&(t=this._counter=o.slice(0),this._iv=void 0),p(t);var i=t.slice(0);n.encryptBlock(i,0);for(var u=0;u<e;u++)c[f+u]^=i[u]}});return x.Decryptor=d,x}(),m.mode.CTRGladman})})(modeCtrGladman);var modeOfb={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.mode.OFB=function(){var x=m.lib.BlockCipherMode.extend(),k=x.Encryptor=x.extend({processBlock:function(p,d){var c=this._cipher,f=c.blockSize,n=this._iv,e=this._keystream;n&&(e=this._keystream=n.slice(0),this._iv=void 0),c.encryptBlock(e,0);for(var o=0;o<f;o++)p[d+o]^=e[o]}});return x.Decryptor=k,x}(),m.mode.OFB})})(modeOfb);var modeEcb={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.mode.ECB=function(){var x=m.lib.BlockCipherMode.extend();return x.Encryptor=x.extend({processBlock:function(k,p){this._cipher.encryptBlock(k,p)}}),x.Decryptor=x.extend({processBlock:function(k,p){this._cipher.decryptBlock(k,p)}}),x}(),m.mode.ECB})})(modeEcb);var padAnsix923={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.pad.AnsiX923={pad:function(x,k){var p=x.sigBytes,d=k*4,c=d-p%d,f=p+c-1;x.clamp(),x.words[f>>>2]|=c<<24-f%4*8,x.sigBytes+=c},unpad:function(x){var k=x.words[x.sigBytes-1>>>2]&255;x.sigBytes-=k}},m.pad.Ansix923})})(padAnsix923);var padIso10126={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.pad.Iso10126={pad:function(x,k){var p=k*4,d=p-x.sigBytes%p;x.concat(m.lib.WordArray.random(d-1)).concat(m.lib.WordArray.create([d<<24],1))},unpad:function(x){var k=x.words[x.sigBytes-1>>>2]&255;x.sigBytes-=k}},m.pad.Iso10126})})(padIso10126);var padIso97971={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.pad.Iso97971={pad:function(x,k){x.concat(m.lib.WordArray.create([2147483648],1)),m.pad.ZeroPadding.pad(x,k)},unpad:function(x){m.pad.ZeroPadding.unpad(x),x.sigBytes--}},m.pad.Iso97971})})(padIso97971);var padZeropadding={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.pad.ZeroPadding={pad:function(x,k){var p=k*4;x.clamp(),x.sigBytes+=p-(x.sigBytes%p||p)},unpad:function(x){for(var k=x.words,p=x.sigBytes-1,p=x.sigBytes-1;p>=0;p--)if(k[p>>>2]>>>24-p%4*8&255){x.sigBytes=p+1;break}}},m.pad.ZeroPadding})})(padZeropadding);var padNopadding={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return m.pad.NoPadding={pad:function(){},unpad:function(){}},m.pad.NoPadding})})(padNopadding);var formatHex={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(x){var k=m,p=k.lib,d=p.CipherParams,c=k.enc,f=c.Hex,n=k.format;n.Hex={stringify:function(e){return e.ciphertext.toString(f)},parse:function(e){var o=f.parse(e);return d.create({ciphertext:o})}}}(),m.format.Hex})})(formatHex);var aes={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.BlockCipher,d=x.algo,c=[],f=[],n=[],e=[],o=[],t=[],i=[],u=[],a=[],v=[];(function(){for(var s=[],y=0;y<256;y++)y<128?s[y]=y<<1:s[y]=y<<1^283;for(var S=0,T=0,y=0;y<256;y++){var O=T^T<<1^T<<2^T<<3^T<<4;O=O>>>8^O&255^99,c[S]=O,f[O]=S;var L=s[S],M=s[L],I=s[M],h=s[O]*257^O*16843008;n[S]=h<<24|h>>>8,e[S]=h<<16|h>>>16,o[S]=h<<8|h>>>24,t[S]=h;var h=I*16843009^M*65537^L*257^S*16843008;i[O]=h<<24|h>>>8,u[O]=h<<16|h>>>16,a[O]=h<<8|h>>>24,v[O]=h,S?(S=L^s[s[s[I^L]]],T^=s[s[T]]):S=T=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],l=d.AES=p.extend({_doReset:function(){var s;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,S=y.words,T=y.sigBytes/4,O=this._nRounds=T+6,L=(O+1)*4,M=this._keySchedule=[],I=0;I<L;I++)I<T?M[I]=S[I]:(s=M[I-1],I%T?T>6&&I%T==4&&(s=c[s>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[s&255]):(s=s<<8|s>>>24,s=c[s>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[s&255],s^=g[I/T|0]<<24),M[I]=M[I-T]^s);for(var h=this._invKeySchedule=[],C=0;C<L;C++){var I=L-C;if(C%4)var s=M[I];else var s=M[I-4];C<4||I<=4?h[C]=s:h[C]=i[c[s>>>24]]^u[c[s>>>16&255]]^a[c[s>>>8&255]]^v[c[s&255]]}}},encryptBlock:function(s,y){this._doCryptBlock(s,y,this._keySchedule,n,e,o,t,c)},decryptBlock:function(s,y){var S=s[y+1];s[y+1]=s[y+3],s[y+3]=S,this._doCryptBlock(s,y,this._invKeySchedule,i,u,a,v,f);var S=s[y+1];s[y+1]=s[y+3],s[y+3]=S},_doCryptBlock:function(s,y,S,T,O,L,M,I){for(var h=this._nRounds,C=s[y]^S[0],_=s[y+1]^S[1],z=s[y+2]^S[2],N=s[y+3]^S[3],H=4,q=1;q<h;q++){var A=T[C>>>24]^O[_>>>16&255]^L[z>>>8&255]^M[N&255]^S[H++],P=T[_>>>24]^O[z>>>16&255]^L[N>>>8&255]^M[C&255]^S[H++],U=T[z>>>24]^O[N>>>16&255]^L[C>>>8&255]^M[_&255]^S[H++],F=T[N>>>24]^O[C>>>16&255]^L[_>>>8&255]^M[z&255]^S[H++];C=A,_=P,z=U,N=F}var A=(I[C>>>24]<<24|I[_>>>16&255]<<16|I[z>>>8&255]<<8|I[N&255])^S[H++],P=(I[_>>>24]<<24|I[z>>>16&255]<<16|I[N>>>8&255]<<8|I[C&255])^S[H++],U=(I[z>>>24]<<24|I[N>>>16&255]<<16|I[C>>>8&255]<<8|I[_&255])^S[H++],F=(I[N>>>24]<<24|I[C>>>16&255]<<16|I[_>>>8&255]<<8|I[z&255])^S[H++];s[y]=A,s[y+1]=P,s[y+2]=U,s[y+3]=F},keySize:256/32});x.AES=p._createHelper(l)}(),m.AES})})(aes);var tripledes={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.WordArray,d=k.BlockCipher,c=x.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],n=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],e=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],o=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],t=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],i=c.DES=d.extend({_doReset:function(){for(var g=this._key,l=g.words,s=[],y=0;y<56;y++){var S=f[y]-1;s[y]=l[S>>>5]>>>31-S%32&1}for(var T=this._subKeys=[],O=0;O<16;O++){for(var L=T[O]=[],M=e[O],y=0;y<24;y++)L[y/6|0]|=s[(n[y]-1+M)%28]<<31-y%6,L[4+(y/6|0)]|=s[28+(n[y+24]-1+M)%28]<<31-y%6;L[0]=L[0]<<1|L[0]>>>31;for(var y=1;y<7;y++)L[y]=L[y]>>>(y-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var I=this._invSubKeys=[],y=0;y<16;y++)I[y]=T[15-y]},encryptBlock:function(g,l){this._doCryptBlock(g,l,this._subKeys)},decryptBlock:function(g,l){this._doCryptBlock(g,l,this._invSubKeys)},_doCryptBlock:function(g,l,s){this._lBlock=g[l],this._rBlock=g[l+1],u.call(this,4,252645135),u.call(this,16,65535),a.call(this,2,858993459),a.call(this,8,16711935),u.call(this,1,1431655765);for(var y=0;y<16;y++){for(var S=s[y],T=this._lBlock,O=this._rBlock,L=0,M=0;M<8;M++)L|=o[M][((O^S[M])&t[M])>>>0];this._lBlock=O,this._rBlock=T^L}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,u.call(this,1,1431655765),a.call(this,8,16711935),a.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),g[l]=this._lBlock,g[l+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function u(g,l){var s=(this._lBlock>>>g^this._rBlock)&l;this._rBlock^=s,this._lBlock^=s<<g}function a(g,l){var s=(this._rBlock>>>g^this._lBlock)&l;this._lBlock^=s,this._rBlock^=s<<g}x.DES=d._createHelper(i);var v=c.TripleDES=d.extend({_doReset:function(){var g=this._key,l=g.words;if(l.length!==2&&l.length!==4&&l.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var s=l.slice(0,2),y=l.length<4?l.slice(0,2):l.slice(2,4),S=l.length<6?l.slice(0,2):l.slice(4,6);this._des1=i.createEncryptor(p.create(s)),this._des2=i.createEncryptor(p.create(y)),this._des3=i.createEncryptor(p.create(S))},encryptBlock:function(g,l){this._des1.encryptBlock(g,l),this._des2.decryptBlock(g,l),this._des3.encryptBlock(g,l)},decryptBlock:function(g,l){this._des3.decryptBlock(g,l),this._des2.encryptBlock(g,l),this._des1.decryptBlock(g,l)},keySize:192/32,ivSize:64/32,blockSize:64/32});x.TripleDES=d._createHelper(v)}(),m.TripleDES})})(tripledes);var rc4={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.StreamCipher,d=x.algo,c=d.RC4=p.extend({_doReset:function(){for(var e=this._key,o=e.words,t=e.sigBytes,i=this._S=[],u=0;u<256;u++)i[u]=u;for(var u=0,a=0;u<256;u++){var v=u%t,g=o[v>>>2]>>>24-v%4*8&255;a=(a+i[u]+g)%256;var l=i[u];i[u]=i[a],i[a]=l}this._i=this._j=0},_doProcessBlock:function(e,o){e[o]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var e=this._S,o=this._i,t=this._j,i=0,u=0;u<4;u++){o=(o+1)%256,t=(t+e[o])%256;var a=e[o];e[o]=e[t],e[t]=a,i|=e[(e[o]+e[t])%256]<<24-u*8}return this._i=o,this._j=t,i}x.RC4=p._createHelper(c);var n=d.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)f.call(this)}});x.RC4Drop=p._createHelper(n)}(),m.RC4})})(rc4);var rabbit={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.StreamCipher,d=x.algo,c=[],f=[],n=[],e=d.Rabbit=p.extend({_doReset:function(){for(var t=this._key.words,i=this.cfg.iv,u=0;u<4;u++)t[u]=(t[u]<<8|t[u]>>>24)&16711935|(t[u]<<24|t[u]>>>8)&4278255360;var a=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],v=this._C=[t[2]<<16|t[2]>>>16,t[0]&4294901760|t[1]&65535,t[3]<<16|t[3]>>>16,t[1]&4294901760|t[2]&65535,t[0]<<16|t[0]>>>16,t[2]&4294901760|t[3]&65535,t[1]<<16|t[1]>>>16,t[3]&4294901760|t[0]&65535];this._b=0;for(var u=0;u<4;u++)o.call(this);for(var u=0;u<8;u++)v[u]^=a[u+4&7];if(i){var g=i.words,l=g[0],s=g[1],y=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,S=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,T=y>>>16|S&4294901760,O=S<<16|y&65535;v[0]^=y,v[1]^=T,v[2]^=S,v[3]^=O,v[4]^=y,v[5]^=T,v[6]^=S,v[7]^=O;for(var u=0;u<4;u++)o.call(this)}},_doProcessBlock:function(t,i){var u=this._X;o.call(this),c[0]=u[0]^u[5]>>>16^u[3]<<16,c[1]=u[2]^u[7]>>>16^u[5]<<16,c[2]=u[4]^u[1]>>>16^u[7]<<16,c[3]=u[6]^u[3]>>>16^u[1]<<16;for(var a=0;a<4;a++)c[a]=(c[a]<<8|c[a]>>>24)&16711935|(c[a]<<24|c[a]>>>8)&4278255360,t[i+a]^=c[a]},blockSize:128/32,ivSize:64/32});function o(){for(var t=this._X,i=this._C,u=0;u<8;u++)f[u]=i[u];i[0]=i[0]+1295307597+this._b|0,i[1]=i[1]+3545052371+(i[0]>>>0<f[0]>>>0?1:0)|0,i[2]=i[2]+886263092+(i[1]>>>0<f[1]>>>0?1:0)|0,i[3]=i[3]+1295307597+(i[2]>>>0<f[2]>>>0?1:0)|0,i[4]=i[4]+3545052371+(i[3]>>>0<f[3]>>>0?1:0)|0,i[5]=i[5]+886263092+(i[4]>>>0<f[4]>>>0?1:0)|0,i[6]=i[6]+1295307597+(i[5]>>>0<f[5]>>>0?1:0)|0,i[7]=i[7]+3545052371+(i[6]>>>0<f[6]>>>0?1:0)|0,this._b=i[7]>>>0<f[7]>>>0?1:0;for(var u=0;u<8;u++){var a=t[u]+i[u],v=a&65535,g=a>>>16,l=((v*v>>>17)+v*g>>>15)+g*g,s=((a&4294901760)*a|0)+((a&65535)*a|0);n[u]=l^s}t[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,t[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,t[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,t[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,t[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,t[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,t[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,t[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}x.Rabbit=p._createHelper(e)}(),m.Rabbit})})(rabbit);var rabbitLegacy={exports:{}};(function(r,E){(function(m,x,k){r.exports=x(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(m){return function(){var x=m,k=x.lib,p=k.StreamCipher,d=x.algo,c=[],f=[],n=[],e=d.RabbitLegacy=p.extend({_doReset:function(){var t=this._key.words,i=this.cfg.iv,u=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],a=this._C=[t[2]<<16|t[2]>>>16,t[0]&4294901760|t[1]&65535,t[3]<<16|t[3]>>>16,t[1]&4294901760|t[2]&65535,t[0]<<16|t[0]>>>16,t[2]&4294901760|t[3]&65535,t[1]<<16|t[1]>>>16,t[3]&4294901760|t[0]&65535];this._b=0;for(var v=0;v<4;v++)o.call(this);for(var v=0;v<8;v++)a[v]^=u[v+4&7];if(i){var g=i.words,l=g[0],s=g[1],y=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,S=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,T=y>>>16|S&4294901760,O=S<<16|y&65535;a[0]^=y,a[1]^=T,a[2]^=S,a[3]^=O,a[4]^=y,a[5]^=T,a[6]^=S,a[7]^=O;for(var v=0;v<4;v++)o.call(this)}},_doProcessBlock:function(t,i){var u=this._X;o.call(this),c[0]=u[0]^u[5]>>>16^u[3]<<16,c[1]=u[2]^u[7]>>>16^u[5]<<16,c[2]=u[4]^u[1]>>>16^u[7]<<16,c[3]=u[6]^u[3]>>>16^u[1]<<16;for(var a=0;a<4;a++)c[a]=(c[a]<<8|c[a]>>>24)&16711935|(c[a]<<24|c[a]>>>8)&4278255360,t[i+a]^=c[a]},blockSize:128/32,ivSize:64/32});function o(){for(var t=this._X,i=this._C,u=0;u<8;u++)f[u]=i[u];i[0]=i[0]+1295307597+this._b|0,i[1]=i[1]+3545052371+(i[0]>>>0<f[0]>>>0?1:0)|0,i[2]=i[2]+886263092+(i[1]>>>0<f[1]>>>0?1:0)|0,i[3]=i[3]+1295307597+(i[2]>>>0<f[2]>>>0?1:0)|0,i[4]=i[4]+3545052371+(i[3]>>>0<f[3]>>>0?1:0)|0,i[5]=i[5]+886263092+(i[4]>>>0<f[4]>>>0?1:0)|0,i[6]=i[6]+1295307597+(i[5]>>>0<f[5]>>>0?1:0)|0,i[7]=i[7]+3545052371+(i[6]>>>0<f[6]>>>0?1:0)|0,this._b=i[7]>>>0<f[7]>>>0?1:0;for(var u=0;u<8;u++){var a=t[u]+i[u],v=a&65535,g=a>>>16,l=((v*v>>>17)+v*g>>>15)+g*g,s=((a&4294901760)*a|0)+((a&65535)*a|0);n[u]=l^s}t[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,t[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,t[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,t[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,t[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,t[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,t[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,t[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}x.RabbitLegacy=p._createHelper(e)}(),m.RabbitLegacy})})(rabbitLegacy),function(r,E){(function(m,x,k){r.exports=x(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,encBase64url.exports,md5.exports,sha1.exports,sha256.exports,sha224.exports,sha512.exports,sha384.exports,sha3.exports,ripemd160.exports,hmac.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports)})(commonjsGlobal,function(m){return m})}(cryptoJs);var CryptoJS=cryptoJs.exports;class crypto{static encrypt(E){return this.encryptAES(E,this.aesKey)}static decrypt(E){return this.decryptAES(E,this.aesKey)}static encryptAES(E,m){const x=CryptoJS.enc.Utf8.parse(E),k=CryptoJS.enc.Utf8.parse(m),p=CryptoJS.AES.encrypt(x,k,{iv:k,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Base64.stringify(p.ciphertext)}static decryptAES(E,m){const x=CryptoJS.enc.Utf8.parse(m),k=CryptoJS.AES.decrypt(E,x,{iv:x,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(k)}static encryptDES(E,m){const x=CryptoJS.enc.Utf8.parse(m);return CryptoJS.DES.encrypt(E,x,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()}static decryptDES(E,m){const x=CryptoJS.enc.Utf8.parse(m);return CryptoJS.DES.decrypt({ciphertext:CryptoJS.enc.Base64.parse(E)},x,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8)}}xe(crypto,"aesKey","O2BEeIv399qHQNhD6aGW8R8DEj4bqHXm"),xe(crypto,"desKey","jMVCBsFGDQr1USHo");const uuid=()=>{for(var r=[],E="0123456789abcdef",m=0;m<36;m++)r[m]=E.substr(Math.floor(Math.random()*16),1);r[14]="4",r[19]=E.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="-";var x=r.join("");return x},funEval=r=>new Function("return "+r+";")(),getFunction=(r,E)=>{if(validatenull(r)){if(E)return()=>{}}else try{return funEval(r)}catch{return()=>{}}},checkUrl=r=>{var E=/http(s)?:\/\/([\w-.]+)+(:[0-9]+)?.*$/;return!!E.test(r)};var common=(()=>({props:{stylesFormatter:Function,dataFormatter:Function,titleFormatter:Function,labelFormatter:Function,clickFormatter:Function,dblClickFormatter:Function,mouseEnterFormatter:Function,mouseLeaveFormatter:Function,sqlFormatter:Function,recordFormatter:Function,formatter:Function,echartFormatter:Function,dataQueryType:String,dataQuery:String,dataHeader:String,fontFamily:String,width:{type:[Number,String],default:600},height:{type:[Number,String],default:600},theme:{type:String},child:{type:Object,default:()=>({})},record:{type:String},public:{type:String},sql:{type:String},time:{type:Number,default:0},proxy:{type:Boolean},url:{type:String},wsUrl:{type:String},mqttUrl:{type:String},mqttConfig:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!0},dataType:{type:Number,default:0},dataMethod:{type:String,default:"get"},id:{type:String,default:"main_"+uuid()},data:{type:[Object,String,Array]},component:{type:Object,default:()=>({})},option:{type:Object,default:()=>({})}},mixins:[commonOption],data(){return{headerHeight:"",checkChart:"",myChart:"",dataOldChart:[],dataChart:[],dataAxios:{},dataParams:{},refList:[],wsClient:{},mqClient:{},styles:{},appendCheck:{},appendObj:{},appendList:[],className:""}},watch:{data(){this.updateData()},dataAppend(r){this.appendObj={},this.appendList=[],r?this.dataChart=[]:this.appendCheck=clearInterval(this.appendCheck),this.updateData()},echartFormatter(){this.updateChart()},width(){this.$nextTick(()=>{this.updateChart()})},height(){this.$nextTick(()=>{this.updateChart()}),this.updateChart()},theme(){this.myChart.dispose(),this.init()},option:{handler(){this.updateChart()},deep:!0}},computed:{count(){return this.option.count},dataAppend(){return this.option.dataAppend},dataChartLen(){return(this.dataChart||[]).length},switchTheme(){return this.validData(this.option.switchTheme,!1)},name(){return this.$el.className.split(" ")[0].replace(config.name,"")},minWidth(){const r=this.option.minWidth;if(r>this.width)return r},styleChartName(){return{fontFamily:loadFont(this.component.fontFamily),width:setPx(this.minWidth||this.width),height:setPx(this.height),opacity:this.component.opacity||1,transform:`scale(${this.component.scale||1}) perspective(${this.component.perspective||500}px) rotateX(${this.component.rotateX||0}deg) rotateY(${this.component.rotateY||0}deg) rotateZ(${this.component.rotateZ||0}deg)`}},styleSizeName(){return Object.assign({width:setPx(this.width),height:setPx(this.height)},(()=>this.minWidth?{overflowX:"auto",overflowY:"hidden"}:{})(),this.styles)}},mounted(){this.init()},methods:{init(){this.refList=this.getItemRefs(),this.className=`animated ${this.component.animated||""}`;const r=this.$refs[this.id];r&&config.echart.includes(this.name)&&(this.myChart=vue.markRaw(window.echarts.init(r,this.theme))),this.updateChart(),this.updateData()},getItemRefs(){let r=this.$parent.$parent.$refs,E={};return Object.keys(r).forEach(m=>{m.indexOf(common$1.NAME)!==-1&&(E[m.replace(common$1.NAME,"")]=r[m][0])}),E},updateChart(){},updateClick(r){let E=this.getItemRefs(),m=this.child.index,x=this.child.paramName,k=this.child.paramValue||"value",p=this.child.paramList||[],d={};!validatenull(x)&&!validatenull(k)&&(d[x]=r[k]),validatenull(p)||p.forEach(c=>{d[c.name]=r[c.value]}),validatenull(d)||Object.keys(E).forEach(c=>{m.includes(c)&&E[c].updateData(d)})},updateAppend(r){if(this.validatenull(this.appendObj))this.appendList=r,this.appendObj=r[0];else{let E=[];for(let m=0;m<r.length;m++){const x=r[m];if(x.id===this.appendObj.id)break;E.push(x)}this.appendObj=r[0],E.reverse().forEach(m=>{this.appendList.unshift(m)})}this.validatenull(this.appendCheck)&&(this.appendCheck=setInterval(()=>{let E=this.appendList.length-1;if(E>=0){let m=this.appendList.splice(E,1)[0];this.dataChart.unshift(m);let x=this.dataChart.length;x>this.count&&this.appendList.splice(x-1,1)}},2e3))},updateData(r={}){let E,m=!1,x=this.dataType===4,k=this.dataType===5;return this.dataParams=Object.assign(this.dataParams,r),new Promise((p,d)=>{if(this.resetData&&this.resetData(),m)return;m=!0;let c=this;const f=(o,t)=>{if(this.dataOldChart=o,x){const i=getFunction(c.dataFormatter);typeof i=="function"&&(o=i(o))}if(typeof this.dataFormatter=="function")try{o=this.dataFormatter(o,t,this.getItemRefs())}catch(i){console.log(new Error(i)),o=i+""}return o},n=()=>{c=E||this,m=!1;let o=c.dataType===1,t=c.dataType===2,i=c.dataType===3,u=c.dataType==6;this.closeClient();const a=()=>{this.updateChart(),this.myChart&&[{name:"click",event:"handleClick"},{name:"dblclick",event:"handleDblClick"},{name:"mouseover",event:"handleMouseEnter"},{name:"mouseout",event:"handleMouseLeave"}].forEach(v=>{this.myChart.off(v.name),this.myChart.on(v.name,g=>this[v.event](g,g.dataIndex))}),typeof this.stylesFormatter=="function"&&(this.styles=this.stylesFormatter(this.dataChart,this.dataParams,this.getItemRefs())||{}),p({news:this.dataChart,old:this.dataOldChart})};if(o){let v=c.url;if(this.validatenull(v))return;let g=getFunction(c.dataQuery);g=typeof g=="function"&&g(v)||{};let l=getFunction(c.dataHeader);l=typeof l=="function"&&l(v)||{};let s=Object.assign(g,this.dataParams),y={};if(this.proxy&&(l.proxy=!0),["post","put"].includes(c.dataMethod)){if(y.data=s,c.dataQueryType=="form"){this.proxy&&(l.form=!0);let S=[];Object.keys(s).forEach(T=>{S.push(`${T}=${s[T]}`)}),y.data=S.join("&")}}else["get","delete"].includes(c.dataMethod)&&(y.params=s);this.$axios({method:c.dataMethod,url:v,headers:l,...y}).then(S=>{this.dataAxios=S;let T=S.data;T=f(T,s),this.dataAppend?this.updateAppend(T):this.dataChart=T,a()})}else if(i){let v=c.wsUrl;if(this.validatenull(v))return;let g=getFunction(c.dataQuery);g=typeof g=="function"&&g(v)||{};let l=Object.assign(g,this.dataParams);v=v+addParam(l),this.wsClient=new WebSocket(v),this.wsClient.onmessage=(s={})=>{let y=JSON.parse(s.data);this.dataChart=f(y,this.dataParams),a()}}else if(t){let v=JSON.parse(crypto.decrypt(c.sql)),g,l;try{v.sql=funEval(v.sql)(this.dataParams),g=crypto.encrypt(JSON.stringify(v))}catch{g=c.sql}this.sqlFormatter(g).then(s=>{l=s.data.data,this.dataChart=f(l,this.dataParams),a()})}else if(u){let v=c.mqttUrl,g=JSON.parse(c.mqttConfig);this.mqClient=mqtt.connect(v,g),this.mqClient.subscribe(g.topic.name,{qos:g.topic.qos},(l,s)=>{console.log("Subscribe to topics res",s,l)}),this.mqClient.on("message",(l,s)=>{let y=g.topic;if(l===y.name){let S=JSON.parse(s);this.dataChart=f(S,this.dataParams),a()}})}else if(k){let g=this.getItemRefs()[this.public].dataChart;this.dataChart=f(g,this.dataParams),a()}else{let v=c.data;x&&(v=funEval(v)),this.dataChart=f(v,this.dataParams),a()}},e=()=>{this.$nextTick(()=>{n(),clearInterval(this.checkChart),k&&(this.checkChart=setInterval(()=>{n()},100)),this.time!==0&&this.disabled&&(this.checkChart=setInterval(()=>{n()},this.time))})};x?this.recordFormatter(this.record).then(o=>{const t=o.data.data;E={...t,sql:t.data},e()}):e()})},handleCommonBind(r,E,m){m=="clickFormatter"&&this.updateClick(r||this.dataChart);let x={};this.validatenull(E)?x=r||this.dataChart:x={item:r,index:E,data:this.dataChart},this[m]&&this[m](x,this.getItemRefs())},handleClick(r,E){this.handleCommonBind(r,E,"clickFormatter")},handleDblClick(r,E){this.handleCommonBind(r,E,"dblClickFormatter")},handleMouseEnter(r,E){this.handleCommonBind(r,E,"mouseEnterFormatter")},handleMouseLeave(r,E){this.handleCommonBind(r,E,"mouseLeaveFormatter")},getColor(r,E){const m=this.option.barColor||[];if(m[r]){const x=m[r].color1,k=m[r].color2,p=(m[r].postion||.9)*.01;return E?x:k?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:x},{offset:p,color:k}],global:!1}:x}},getHasProp(r,E,m={}){return Object.assign((()=>r?E:{})(),m)},closeClient(){this.wsClient.close&&this.wsClient.close(),this.mqClient.end&&this.mqClient.end(),this.mqClient.close&&this.mqClient.close()}},beforeDestroy(){clearInterval(this.checkChart),this.closeClient()}}))(),components$1=(()=>{let components={};const mixins=[common],requireComponent={"./imgList/index.vue":__glob_3_0,"./imgList/option.vue":__glob_3_1,"./imgTabs/index.vue":__glob_3_2,"./imgTabs/option.vue":__glob_3_3};return Object.keys(requireComponent).forEach(r=>{if(r.includes("index.vue")){const E=requireComponent[r].default;E.mixins=mixins,components[`${KEY_COMPONENT_NAME}${E.name}`]=E}}),website.componentsList.map(r=>r.component).forEach(cmp=>{try{cmp=eval(cmp),cmp.mixins=mixins,components[`${KEY_COMPONENT_NAME}${cmp.name}`]=cmp}catch(r){console.log(r)}}),components})(),folder_vue_vue_type_style_index_0_lang="";const _sfc_main$x={props:{item:{type:Object,default:()=>({})}},data(){return{active:!1,startX:0,startY:0,endX:0,endY:0}},methods:{getStyleName(r){let E=[],m=[],x=[],k=[],p=20;return this.deepItem(d=>{d.children||(E.push(d.left-p),m.push(d.top-p),x.push(d.left+d.component.width+2*p),k.push(d.top+d.component.height+2*p))}),this.startX=Math.min.apply(null,E),this.endX=Math.max.apply(null,x),this.startY=Math.min.apply(null,m),this.endY=Math.max.apply(null,k),{display:this.active?"block":"none",left:this.setPx(this.startX),top:this.setPx(this.startY),width:this.setPx(this.endX-this.startX),height:this.setPx(this.endY-this.startY)}},deepItem(r){const E=m=>{m.forEach(x=>{r&r(x),x.children&&E(x.children)})};E([this.item])},setActive(r){this.active=r},setLock(r){this.deepItem(E=>{E.lock=r})},setDisplay(r){this.deepItem(E=>{E.display=r})}}};function _sfc_render$x(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:"refer-select folder",style:vue.normalizeStyle(p.getStyleName(m.item))},null,4)}var folder=_export_sfc(_sfc_main$x,[["render",_sfc_render$x]]);window.$glob={url:"",params:{},query:{},header:{}};function getGlobParams(){var r=window.location.search.substring(1);r=r.split("&"),r.forEach(E=>{var m=E.split("=");window.$glob.params[m[0]]=m[1]})}getGlobParams(),axios__default.default.defaults.timeout=1e4,axios__default.default.defaults.validateStatus=function(r){return r>=200&&r<=500},axios__default.default.interceptors.request.use(r=>{checkUrl(r.url)||(r.url=window.$glob.url+r.url);let E=window.$glob.header||{};r.headers=Object.assign(r.headers,E);let m=window.$glob.query||{},x;if(["get","delete"].includes(r.method)?x="params":["post","put"].includes(r.method)&&(x="data"),typeof r[x]=="object"&&(r[x]=Object.assign(r[x]||{},m)),r.headers.proxy){let k={};for(let d in r.headers)typeof r.headers[d]!="object"&&(k[d]=r.headers[d]);let p={url:r.url,method:r.method,headers:k};p[x]=r[x],r.url=window.$website.url+"/visual/proxy",r.method="post",r.data=p}return r},r=>Promise.reject(r)),axios__default.default.interceptors.response.use(r=>r,r=>Promise.reject(new Error(r)));const dynamicSql=r=>axios__default.default({url:url+"/db/dynamic-query",method:"post",headers:{data:r,"Content-Type":"application/json"},data:r}),getObj$1=r=>axios__default.default({url:url+"/record/detail",method:"get",params:{id:r}}),ELEMENT="__",MODS="--",join=(r,E,m)=>E?r+m+E:r,prefix=(r,E)=>{if(typeof E=="string")return join(r,E,MODS);if(Array.isArray(E))return E.map(x=>prefix(r,x));const m={};return Object.keys(E||{}).forEach(x=>{m[r+MODS+x]=E[x]}),m};var bem={methods:{b(r,E){const{name:m}=this.$options;return r&&typeof r!="string"&&(E=r,r=""),r=join(m,r,ELEMENT),E?[r,prefix(r,E)]:r}}};function create(r){return r.name=KEY_COMPONENT_NAME+r.name,r.mixins=r.mixins||[],r.mixins.push(bem),r.mixins.push(common),r}const _sfc_main$w=create({name:"bar",methods:{updateChart(){const r=this.deepClone(this.dataChart),E={title:this.getOptionTitle(),tooltip:this.getOptionTip({trigger:"axis"}),grid:this.getOptionGrid(),legend:this.getOptionLegend(),xAxis:{show:this.validData(this.option.xAxisShow,!0),type:this.option.category?"value":"category",name:this.option.xAxisName,nameTextStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14},axisLine:{show:!0,lineStyle:{color:this.option.xAxisLineColor||"#fff"}},data:r.categories||[],inverse:this.validData(this.option.xAxisInverse,!1),splitLine:{show:this.validData(this.option.xAxisSplitLineShow,!1)},axisLabel:{interval:this.option.xAxisInterval||"auto",rotate:this.option.xAxisRotate||0,textStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14}}},yAxis:{show:this.validData(this.option.yAxisShow,!0),type:this.option.category?"category":"value",name:this.option.yAxisName,nameTextStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14},data:r.categories||[],axisLabel:{textStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14}},axisLine:{show:!0,lineStyle:{color:this.option.yAxisLineColor||"#fff"}},inverse:this.validData(this.option.yAxisInverse,!1),splitLine:{show:this.validData(this.option.yAxisSplitLineShow,!1)}},series:(()=>(this.option.barColor,(r.series||[]).map((x,k)=>Object.assign(x,{type:"bar",stack:x.stack,barWidth:this.option.barWidth||16,barMinHeight:this.option.barMinHeight||0,itemStyle:this.getHasProp(!this.switchTheme,{color:this.getColor(k)},{barBorderRadius:this.option.barRadius||0}),label:this.getOptionLabel({position:this.option.category?"right":"top"})}))))()};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$w(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$u=_export_sfc(_sfc_main$w,[["render",_sfc_render$w]]),__glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:index$u},Symbol.toStringTag,{value:"Module"}));const _sfc_main$v=create({name:"borderBox",data(){return{reload:!1}},computed:{isName(){return"dvBorderBox"+this.option.type},dur(){return this.option.dur},backgroundColor(){return this.option.backgroundColor},color(){let r=[],E=this.option.color1,m=this.option.color2;return E&&r.push(E),m&&r.push(m),r}},methods:{updateChart(){this.reload=!1,this.$nextTick(()=>{this.reload=!0})}}});function _sfc_render$v(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[r.reload?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.isName),{key:0,ref:r.id,dur:r.dur,backgroundColor:r.backgroundColor,color:r.color,style:vue.normalizeStyle(r.styleChartName)},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(r.dataChart.value),1)]),_:1},8,["dur","backgroundColor","color","style"])):vue.createCommentVNode("",!0)],38)}var index$t=_export_sfc(_sfc_main$v,[["render",_sfc_render$v]]),__glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:index$t},Symbol.toStringTag,{value:"Module"}));const _sfc_main$u=create({name:"clapper",data(){return{hid:"main_"+uuid(),reload:!0,config:{}}},computed:{autoplay(){return this.option.autoplay}},watch:{dataChart:{handler(){this.reload=!1,this.$nextTick(()=>{this.reload=!0,setTimeout(()=>{new Clappr.Player({parentId:"#"+this.hid,source:this.dataChart.value,autoPlay:this.autoplay,mute:!0,height:"100%",width:"100%"})})})},deep:!0}},methods:{}}),_hoisted_1$b=["id"];function _sfc_render$u(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[r.reload?(vue.openBlock(),vue.createElementBlock("div",{key:0,id:r.hid,style:vue.normalizeStyle(r.styleChartName)},null,12,_hoisted_1$b)):vue.createCommentVNode("",!0)],38)}var index$s=_export_sfc(_sfc_main$u,[["render",_sfc_render$u]]),__glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:index$s},Symbol.toStringTag,{value:"Module"}));const _sfc_main$t=create({name:"common",methods:{updateChart(){const r=this.deepClone(this.dataChart)||[],E=this.echartFormatter&&this.echartFormatter(r,this.dataParams);this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$t(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$r=_export_sfc(_sfc_main$t,[["render",_sfc_render$t]]),__glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:index$r},Symbol.toStringTag,{value:"Module"}));const _sfc_main$s=create({name:"data",data(){return{}},computed:{},watch:{},created(){},mounted(){},methods:{},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1$a=vue.createElementVNode("i",{class:"iconfont icon-text"},null,-1),_hoisted_2$4=[_hoisted_1$a];function _sfc_render$s(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main"},_hoisted_2$4,6)}var index$q=_export_sfc(_sfc_main$s,[["render",_sfc_render$s]]),__glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:index$q},Symbol.toStringTag,{value:"Module"}));const _sfc_main$r=create({name:"datav",data(){return{reload:!1,config:{}}},methods:{updateChart(){const r=this.deepClone(this.dataChart)||[];this.config=this.echartFormatter&&this.echartFormatter(r,this.dataParams),this.reload=!1,this.$nextTick(()=>{this.reload=!0})}}});function _sfc_render$r(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[r.reload?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.option.is),vue.mergeProps({key:0,ref:r.id,style:r.styleChartName},r.config),null,16,["style"])):vue.createCommentVNode("",!0)],38)}var index$p=_export_sfc(_sfc_main$r,[["render",_sfc_render$r]]),__glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:index$p},Symbol.toStringTag,{value:"Module"})),dayjs_min={exports:{}};(function(r,E){(function(m,x){r.exports=x()})(commonjsGlobal,function(){var m=1e3,x=6e4,k=36e5,p="millisecond",d="second",c="minute",f="hour",n="day",e="week",o="month",t="quarter",i="year",u="date",a="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},s=function(_,z,N){var H=String(_);return!H||H.length>=z?_:""+Array(z+1-H.length).join(N)+_},y={s,z:function(_){var z=-_.utcOffset(),N=Math.abs(z),H=Math.floor(N/60),q=N%60;return(z<=0?"+":"-")+s(H,2,"0")+":"+s(q,2,"0")},m:function _(z,N){if(z.date()<N.date())return-_(N,z);var H=12*(N.year()-z.year())+(N.month()-z.month()),q=z.clone().add(H,o),A=N-q<0,P=z.clone().add(H+(A?-1:1),o);return+(-(H+(N-q)/(A?q-P:P-q))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:o,y:i,w:e,d:n,D:u,h:f,m:c,s:d,ms:p,Q:t}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},S="en",T={};T[S]=l;var O=function(_){return _ instanceof h},L=function _(z,N,H){var q;if(!z)return S;if(typeof z=="string"){var A=z.toLowerCase();T[A]&&(q=A),N&&(T[A]=N,q=A);var P=z.split("-");if(!q&&P.length>1)return _(P[0])}else{var U=z.name;T[U]=z,q=U}return!H&&q&&(S=q),q||!H&&S},M=function(_,z){if(O(_))return _.clone();var N=typeof z=="object"?z:{};return N.date=_,N.args=arguments,new h(N)},I=y;I.l=L,I.i=O,I.w=function(_,z){return M(_,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var h=function(){function _(N){this.$L=L(N.locale,null,!0),this.parse(N)}var z=_.prototype;return z.parse=function(N){this.$d=function(H){var q=H.date,A=H.utc;if(q===null)return new Date(NaN);if(I.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var P=q.match(v);if(P){var U=P[2]-1||0,F=(P[7]||"0").substring(0,3);return A?new Date(Date.UTC(P[1],U,P[3]||1,P[4]||0,P[5]||0,P[6]||0,F)):new Date(P[1],U,P[3]||1,P[4]||0,P[5]||0,P[6]||0,F)}}return new Date(q)}(N),this.$x=N.x||{},this.init()},z.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},z.$utils=function(){return I},z.isValid=function(){return this.$d.toString()!==a},z.isSame=function(N,H){var q=M(N);return this.startOf(H)<=q&&q<=this.endOf(H)},z.isAfter=function(N,H){return M(N)<this.startOf(H)},z.isBefore=function(N,H){return this.endOf(H)<M(N)},z.$g=function(N,H,q){return I.u(N)?this[H]:this.set(q,N)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(N,H){var q=this,A=!!I.u(H)||H,P=I.p(N),U=function(le,oe){var Z=I.w(q.$u?Date.UTC(q.$y,oe,le):new Date(q.$y,oe,le),q);return A?Z:Z.endOf(n)},F=function(le,oe){return I.w(q.toDate()[le].apply(q.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(oe)),q)},K=this.$W,Q=this.$M,j=this.$D,Y="set"+(this.$u?"UTC":"");switch(P){case i:return A?U(1,0):U(31,11);case o:return A?U(1,Q):U(0,Q+1);case e:var re=this.$locale().weekStart||0,ne=(K<re?K+7:K)-re;return U(A?j-ne:j+(6-ne),Q);case n:case u:return F(Y+"Hours",0);case f:return F(Y+"Minutes",1);case c:return F(Y+"Seconds",2);case d:return F(Y+"Milliseconds",3);default:return this.clone()}},z.endOf=function(N){return this.startOf(N,!1)},z.$set=function(N,H){var q,A=I.p(N),P="set"+(this.$u?"UTC":""),U=(q={},q[n]=P+"Date",q[u]=P+"Date",q[o]=P+"Month",q[i]=P+"FullYear",q[f]=P+"Hours",q[c]=P+"Minutes",q[d]=P+"Seconds",q[p]=P+"Milliseconds",q)[A],F=A===n?this.$D+(H-this.$W):H;if(A===o||A===i){var K=this.clone().set(u,1);K.$d[U](F),K.init(),this.$d=K.set(u,Math.min(this.$D,K.daysInMonth())).$d}else U&&this.$d[U](F);return this.init(),this},z.set=function(N,H){return this.clone().$set(N,H)},z.get=function(N){return this[I.p(N)]()},z.add=function(N,H){var q,A=this;N=Number(N);var P=I.p(H),U=function(Q){var j=M(A);return I.w(j.date(j.date()+Math.round(Q*N)),A)};if(P===o)return this.set(o,this.$M+N);if(P===i)return this.set(i,this.$y+N);if(P===n)return U(1);if(P===e)return U(7);var F=(q={},q[c]=x,q[f]=k,q[d]=m,q)[P]||1,K=this.$d.getTime()+N*F;return I.w(K,this)},z.subtract=function(N,H){return this.add(-1*N,H)},z.format=function(N){var H=this,q=this.$locale();if(!this.isValid())return q.invalidDate||a;var A=N||"YYYY-MM-DDTHH:mm:ssZ",P=I.z(this),U=this.$H,F=this.$m,K=this.$M,Q=q.weekdays,j=q.months,Y=function(oe,Z,G,te){return oe&&(oe[Z]||oe(H,A))||G[Z].slice(0,te)},re=function(oe){return I.s(U%12||12,oe,"0")},ne=q.meridiem||function(oe,Z,G){var te=oe<12?"AM":"PM";return G?te.toLowerCase():te},le={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:I.s(K+1,2,"0"),MMM:Y(q.monthsShort,K,j,3),MMMM:Y(j,K),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:Y(q.weekdaysMin,this.$W,Q,2),ddd:Y(q.weekdaysShort,this.$W,Q,3),dddd:Q[this.$W],H:String(U),HH:I.s(U,2,"0"),h:re(1),hh:re(2),a:ne(U,F,!0),A:ne(U,F,!1),m:String(F),mm:I.s(F,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:P};return A.replace(g,function(oe,Z){return Z||le[oe]||P.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(N,H,q){var A,P=I.p(H),U=M(N),F=(U.utcOffset()-this.utcOffset())*x,K=this-U,Q=I.m(this,U);return Q=(A={},A[i]=Q/12,A[o]=Q,A[t]=Q/3,A[e]=(K-F)/6048e5,A[n]=(K-F)/864e5,A[f]=K/k,A[c]=K/x,A[d]=K/m,A)[P]||K,q?Q:I.a(Q)},z.daysInMonth=function(){return this.endOf(o).$D},z.$locale=function(){return T[this.$L]},z.locale=function(N,H){if(!N)return this.$L;var q=this.clone(),A=L(N,H,!0);return A&&(q.$L=A),q},z.clone=function(){return I.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},_}(),C=h.prototype;return M.prototype=C,[["$ms",p],["$s",d],["$m",c],["$H",f],["$W",n],["$M",o],["$y",i],["$D",u]].forEach(function(_){C[_[1]]=function(z){return this.$g(z,_[0],_[1])}}),M.extend=function(_,z){return _.$i||(_(z,h,M),_.$i=!0),M},M.locale=L,M.isDayjs=O,M.unix=function(_){return M(1e3*_)},M.en=T[S],M.Ls=T,M.p={},M})})(dayjs_min);var dayjs=dayjs_min.exports;const _sfc_main$q=create({name:"datetime",data(){return{date:new Date,weekday:["\u5929","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]}},computed:{nowDate(){if(this.option.format==="day")return"\u661F\u671F"+this.weekday[dayjs().$W];const r=(this.option.format||"yyyy-MM-dd hh:mm:ss").replace("dd","DD").replace("yyyy","YYYY");return dayjs(this.date).format(r)},styleName(){return{width:"100%",height:"100%",textAlign:this.option.textAlign,letterSpacing:this.setPx(this.option.split),textIndent:this.setPx(this.option.split),backgroundColor:this.option.backgroundColor,fontWeight:this.option.fontWeight||"normal",fontSize:(this.option.fontSize||30)+"px",color:this.option.color||"#333"}}},created(){setInterval(()=>{this.date=new Date},1e3)},props:{option:{type:Object,default:()=>({})}},methods:{}});function _sfc_render$q(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main",onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("p",{style:vue.normalizeStyle([r.styleChartName,r.styleName])},vue.toDisplayString(r.nowDate),5)],38)}var index$o=_export_sfc(_sfc_main$q,[["render",_sfc_render$q]]),__glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:index$o},Symbol.toStringTag,{value:"Module"}));const _sfc_main$p=create({name:"decoration",data(){return{reload:!1}},computed:{isName(){return"dvDecoration"+this.option.type},dur(){return this.option.dur},color(){let r=[],E=this.option.color1,m=this.option.color2;return E&&r.push(E),m&&r.push(m),r}},methods:{updateChart(){this.reload=!1,this.$nextTick(()=>{this.reload=!0})}}});function _sfc_render$p(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[r.reload?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.isName),{key:0,ref:r.id,dur:r.dur,color:r.color,style:vue.normalizeStyle(r.styleChartName)},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(r.dataChart.value),1)]),_:1},8,["dur","color","style"])):vue.createCommentVNode("",!0)],38)}var index$n=_export_sfc(_sfc_main$p,[["render",_sfc_render$p]]),__glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:index$n},Symbol.toStringTag,{value:"Module"}));const _sfc_main$o=create({name:"flop",data(){return{active:0,statusDIC:[".",","]}},computed:{decimals(){return this.option.decimals||0},listData(){return Array.isArray(this.dataChart)?this.dataChart:[this.dataChart]},isWhole(){return this.option.whole},isBorder(){return this.option.border==!0},getItemsStyle(){return{minWidth:this.setPx(this.option.width),minHeight:this.setPx(this.option.height)}},getItemStyle(){return Object.assign((()=>this.isBorder?{borderImageSlice:"10 16 15 10 fill",borderImageSource:`url(${this.option.backgroundBorder})`,backgroundColor:this.option.backgroundColor,borderWidth:this.setPx(this.option.borderWidth),borderColor:this.option.borderColor,borderStyle:"solid"}:{})(),{marginTop:this.setPx(this.option.marginTop),marginBottom:this.setPx(this.option.marginTop),marginLeft:this.setPx(this.option.marginLeft),marginRight:this.setPx(this.option.marginLeft),paddingTop:this.setPx(this.option.paddingTop),paddingBottom:this.setPx(this.option.paddingTop),paddingLeft:this.setPx(this.option.paddingLeft),paddingRight:this.setPx(this.option.paddingLeft),fontSize:this.setPx(this.option.fontSize),color:this.option.color,fontWeight:this.option.fontWeight,textAlign:this.option.textAlign})},prefixStyle(){return{display:this.option.prefixInline?"inline-block":"block",textAlign:this.option.prefixTextAlign,color:this.option.prefixColor||"#fff",fontSize:this.setPx(this.option.prefixFontSize||24),lineHeight:this.setPx(this.option.prefixLineHeight)}},suffixStyle(){return{display:this.option.suffixInline?"inline-block":"block",textAlign:this.option.suffixTextAlign,color:this.option.suffixColor||"#fff",fontSize:this.setPx(this.option.suffixFontSize||24),lineHeight:this.setPx(this.option.suffixLineHeight)}}},props:{option:{type:Object,default:()=>({})}},created(){},methods:{handleClick(r,E){this.active=E,this.handleCommonBind(r,E,"clickFormatter"),r.href&&window.open(r.href,r.target)}}}),_hoisted_1$9=["onClick","onMouseenter","onMouseleave","onDblclick"];function _sfc_render$o(r,E,m,x,k,p){const d=vue.resolveComponent("avue-count-up");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.styleChartName),class:vue.normalizeClass(r.b("list"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.listData,(c,f)=>(vue.openBlock(),vue.createElementBlock("div",{key:f,onClick:n=>r.handleClick(c,f),onMouseenter:n=>r.handleMouseEnter(c,f),onMouseleave:n=>r.handleMouseLeave(c,f),onDblclick:n=>r.handleDblClick(c,f),class:vue.normalizeClass(r.b("item")),style:vue.normalizeStyle(r.getItemsStyle)},[r.isWhole?(vue.openBlock(),vue.createElementBlock("div",{key:0,style:vue.normalizeStyle([r.getItemStyle,{backgroundColor:c.backgroundColor||r.option.backgroundColor}])},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.prefixStyle)},vue.toDisplayString(c.prefixText),5),(vue.openBlock(),vue.createBlock(d,{decimals:r.decimals,key:f,end:c.value},null,8,["decimals","end"])),vue.createElementVNode("div",{style:vue.normalizeStyle(r.suffixStyle)},vue.toDisplayString(c.suffixText),5)],4)):(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(r.b("box"))},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.prefixStyle)},vue.toDisplayString(c.prefixText),5),vue.createElementVNode("div",{class:vue.normalizeClass(r.b("number"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(c.value.split(""),(n,e)=>(vue.openBlock(),vue.createElementBlock("div",{key:e,style:vue.normalizeStyle([r.getItemStyle,{backgroundColor:c.backgroundColor||r.option.backgroundColor}])},[(vue.openBlock(),vue.createBlock(d,{decimals:r.decimals,key:e,end:n},null,8,["decimals","end"]))],4))),128))],2),vue.createElementVNode("div",{style:vue.normalizeStyle(r.suffixStyle)},vue.toDisplayString(c.suffixText),5)],2))],46,_hoisted_1$9))),128))],6)],6)}var index$m=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]),__glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:index$m},Symbol.toStringTag,{value:"Module"}));const _sfc_main$n=create({name:"funnel",computed:{x2(){return this.option.gridX2||20},fontSize(){return this.option.fontSize||14}},methods:{updateChart(){const r=this.deepClone(this.dataChart),E={tooltip:this.getOptionTip(),grid:this.getOptionGrid(),legend:this.getOptionLegend(),series:(()=>(this.option.barColor,[{type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:this.getOptionLabel({position:this.option.position?"inside":""}),data:r,emphasis:{label:{fontSize:20}},itemStyle:this.getHasProp(!this.switchTheme,{color:x=>this.getColor(x.dataIndex)})}]))()};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$n(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$l=_export_sfc(_sfc_main$n,[["render",_sfc_render$n]]),__glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:index$l},Symbol.toStringTag,{value:"Module"}));const _sfc_main$m=create({name:"gauge",methods:{updateChart(){const r=this.deepClone(this.dataChart),E={title:this.getOptionTitle(),grid:this.getOptionGrid(),series:[{name:"\u4E1A\u52A1\u6307\u6807",type:"gauge",min:r.min,max:r.max,axisLine:{lineStyle:{color:(()=>{let m=[];return(this.option.barColor||[]).forEach(x=>{m.push([x.postion,x.color1])}),this.validatenull(m)&&(m=[[0,2,"#91c7ae"],[.8,"#638693"],[1,"#c23531"]]),m})(),width:this.option.lineSize||5}},axisLabel:{show:this.validData(this.option.axisLabelShow,!0),fontSize:this.option.axisLabelFontSize||25,color:"auto"},axisTick:{lineStyle:{color:this.option.lineColor||"#eee"}},detail:{valueAnimation:!0,color:"auto",fontSize:this.option.nameFontSize||30,formatter:"{value}"+(this.option.unit||"")},data:[r]}]};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$m(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$k=_export_sfc(_sfc_main$m,[["render",_sfc_render$m]]),__glob_0_10=Object.freeze(Object.defineProperty({__proto__:null,default:index$k},Symbol.toStringTag,{value:"Module"}));const _sfc_main$l=create({name:"iframe",props:{option:{type:Object,default:()=>({})}},data(){return{}},computed:{},created(){},mounted(){},methods:{}}),_hoisted_1$8=["src"];function _sfc_render$l(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main",onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("iframe",{style:vue.normalizeStyle(r.styleChartName),src:r.dataChart.value,draggable:"false"},null,12,_hoisted_1$8)],38)}var index$j=_export_sfc(_sfc_main$l,[["render",_sfc_render$l]]),__glob_0_11=Object.freeze(Object.defineProperty({__proto__:null,default:index$j},Symbol.toStringTag,{value:"Module"}));const _sfc_main$k=create({name:"img",computed:{styleImgName(){return Object.assign((()=>this.rotate?{animationDuration:this.duration/1e3+"s"}:{})(),{width:"100%",height:"100%",borderRadius:this.setPx(this.option.borderRadius),opacity:this.option.opacity||1})},duration(){return this.option.duration||3e3},rotate(){return this.option.rotate}},methods:{}}),_hoisted_1$7=["src"];function _sfc_render$k(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("img",{style:vue.normalizeStyle([r.styleChartName,r.styleImgName]),src:r.dataChart.value,class:vue.normalizeClass(r.b({rotate:r.rotate})),draggable:"false"},null,14,_hoisted_1$7)],38)}var index$i=_export_sfc(_sfc_main$k,[["render",_sfc_render$k]]),__glob_0_12=Object.freeze(Object.defineProperty({__proto__:null,default:index$i},Symbol.toStringTag,{value:"Module"}));const _sfc_main$j=create({name:"imgborder",computed:{styleImgName(){return Object.assign({width:"100%",height:"100%",backgroundColor:this.option.backgroundColor||"rgba(180, 181, 198, 0.1)",backgroundClip:"padding-box",opacity:this.option.opacity||1,filter:"blur(0px)"},(()=>this.validatenull(this.dataChart)?{}:{borderImageSource:"url("+this.dataChart+")",borderImageSlice:"10 16 15 10 fill",borderWidth:"10px",borderStyle:"solid",boxSizing:"border-box"})())}},methods:{}});function _sfc_render$j(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("div",{style:vue.normalizeStyle([r.styleChartName,r.styleImgName])},null,4)],38)}var index$h=_export_sfc(_sfc_main$j,[["render",_sfc_render$j]]),__glob_0_13=Object.freeze(Object.defineProperty({__proto__:null,default:index$h},Symbol.toStringTag,{value:"Module"}));const _sfc_main$i=create({name:"line",methods:{updateChart(){const r=this.deepClone(this.dataChart),E={title:this.getOptionTitle(),tooltip:this.getOptionTip({trigger:"axis"}),grid:this.getOptionGrid(),legend:this.getOptionLegend(),xAxis:{show:this.validData(this.option.xAxisShow,!0),type:"category",name:this.option.xAxisName,nameTextStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14},axisLine:{show:!0,lineStyle:{color:this.option.xAxisLineColor||"#fff"}},data:r.categories||[],inverse:this.validData(this.option.xAxisInverse,!1),splitLine:{show:this.validData(this.option.xAxisSplitLineShow,!1)},axisLabel:{interval:this.option.xAxisInterval||"auto",rotate:this.option.xAxisRotate||0,textStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14}}},yAxis:{show:this.validData(this.option.yAxisShow,!0),type:"value",name:this.option.yAxisName,nameTextStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14},data:r.categories||[],axisLabel:{textStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14}},axisLine:{show:!0,lineStyle:{color:this.option.yAxisLineColor||"#fff"}},inverse:this.validData(this.option.yAxisInverse,!1),splitLine:{show:this.validData(this.option.yAxisSplitLineShow,!1)}},series:(()=>(r.series||[]).map((x,k)=>({...x,type:"line",smooth:this.validData(this.option.smooth,!0),showSymbol:this.validData(this.option.symbolShow,!1),symbolSize:this.option.symbolSize||10,areaStyle:(()=>{if(this.option.areaStyle)return{opacity:.7}})(),lineStyle:{width:this.option.lineWidth||1},itemStyle:this.getHasProp(!this.switchTheme,{color:this.getColor(k)}),label:this.getOptionLabel({position:"top"})})))()};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$i(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$g=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),__glob_0_14=Object.freeze(Object.defineProperty({__proto__:null,default:index$g},Symbol.toStringTag,{value:"Module"}));const _sfc_main$h=create({name:"map",data(){return{bannerCount:0,bannerCheck:"",centerData:[],zoomData:1}},watch:{mapData(){this.updateChart()},dataChartLen(){this.setBanner()},bannerTime(){this.setBanner()},banner:{handler(){this.setBanner()},immediate:!0},width(){this.updateData()},height(){this.updateData()},zoom:{handler(){this.zoomData=this.zoom},immediate:!0}},computed:{zoomShow(){return this.option.zoomShow||1},zoom(){return this.option.zoom||1},mapData(){return this.option.mapData||{}},borderWidth(){return this.option.borderWidth||3},borderColor(){return this.option.borderColor||"#389BB7"},areaColor(){return this.option.areaColor||"#0c162f"},empColor(){return this.option.empColor||"#fff"},empAreaColor(){return this.option.empAreaColor||"yellow"},color(){return this.option.color||"#fff"},roam(){return this.validData(this.option.roam,!0)},fontSize(){return this.option.fontSize||24},bannerTime(){return this.option.bannerTime||3e3},banner(){return this.option.banner},locationData(){return(this.dataChart||[]).map(r=>{r.zoom=r.zoom||1;const E=this.zoomData<1?1:this.zoomData;return Object.assign((()=>r.zoom<=E?{name:r.name}:{})(),{value:[r.lng,r.lat,r.value]})})}},methods:{resetBanner(){this.$nextTick(()=>{this.myChart.dispatchAction({type:"hideTip"})})},setBanner(){clearInterval(this.bannerCheck),this.banner&&(this.bannerCheck=setInterval(()=>{const r=this.bannerCount%this.dataChartLen;this.myChart.dispatchAction({type:"showTip",seriesIndex:"0",dataIndex:r}),this.myChart.dispatchAction({type:"downplay"}),this.myChart.dispatchAction({type:"highlight",dataIndex:r}),this.bannerCount+=1},this.bannerTime))},updateChart(){this.$axios(this.mapData).then(r=>{const E=r.data,m=this.deepClone(E);window.echarts.registerMap("HK",m);const x={tooltip:(()=>Object.assign((()=>this.formatter?{formatter:k=>this.formatter(k,this.dataChart)}:{})(),{backgroundColor:this.option.tipBackgroundColor,textStyle:{fontSize:this.option.tipFontSize,color:this.option.tipColor}}))(),geo:Object.assign((()=>this.validatenull(this.centerData)?{}:{center:this.centerData})(),{map:"HK",label:{emphasis:{show:!1}},zoom:this.zoomData,layoutCenter:["50%","50%"],layoutSize:1200,roam:this.roam,label:{show:!0,fontSize:this.fontSize,color:this.color},left:this.option.gridX,top:this.option.gridY,right:this.option.gridX2,bottom:this.option.gridY2,emphasis:{label:{color:this.empColor},itemStyle:{areaColor:this.empAreaColor}},itemStyle:{borderWidth:this.borderWidth,borderColor:this.borderColor,areaColor:this.areaColor}}),series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"emphasis",rippleEffect:{brushType:"fill",scale:4},symbolSize:this.fontSize,hoverAnimation:!0,data:this.locationData,label:{show:!0,position:["130%","0"],fontSize:this.fontSize,color:this.color,formatter:k=>k.name},itemStyle:{color:this.color},emphasis:{label:{show:!0,fontSize:this.fontSize+20,color:this.option.empColor},itemStyle:{color:this.option.empColor}}}]};this.myChart.off("mouseover"),this.myChart.off("mouseout"),this.myChart.off("georoam"),this.myChart.on("mouseover",()=>{clearInterval(this.bannerCheck),this.resetBanner()}),this.myChart.on("mouseout",()=>{this.bannerCount=0,this.setBanner()}),this.myChart.on("georoam",k=>{const d=this.myChart.getOption().geo[0];this.centerData=d.center,this.zoomData=d.zoom,this.zoomData<1&&(this.zoomData=1)}),this.myChart.resize(),this.myChart.setOption(x,!0)})}}});function _sfc_render$h(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$f=_export_sfc(_sfc_main$h,[["render",_sfc_render$h]]),__glob_0_15=Object.freeze(Object.defineProperty({__proto__:null,default:index$f},Symbol.toStringTag,{value:"Module"}));const _sfc_main$g=create({name:"pictorialbar",methods:{updateChart(){const r=this.deepClone(this.dataChart),E=this.validatenull(this.option.symbol)?"":"image://"+this.option.symbol;this.option.color,this.option.fontSize;var m=0;r.forEach(k=>{k.value>m&&(m=k.value)});const x={tooltip:this.getOptionTip(),grid:this.getOptionGrid(),xAxis:{max:m,splitLine:{show:!1},offset:10,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:10,textStyle:{color:this.option.color||"#fff",fontSize:this.option.fontSize||20}}},yAxis:{inverse:!0,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{margin:10,textStyle:{color:this.option.color||"#fff",fontSize:this.option.fontSize||20}},data:(r||[]).map(k=>k.name)},series:[{type:"pictorialBar",symbol:E,symbolRepeat:"fixed",symbolMargin:"5%",symbolClip:!0,symbolSize:this.option.symbolSize||30,symbolBoundingData:m,data:(r||[]).map(k=>k.value)},{type:"pictorialBar",itemStyle:{normal:{opacity:.2}},label:{normal:{show:!0,position:"right",offset:[10,0],textStyle:{color:this.option.labelColor,fontSize:this.option.labelFontSize}}},animationDuration:0,symbol:E,symbolRepeat:"fixed",symbolMargin:"5%",symbolSize:30,symbolBoundingData:m,data:(()=>(Array.isArray(r)?r:[]).map(k=>k.value))()}]};this.myChart.resize(),this.myChart.setOption(x,!0)}}});function _sfc_render$g(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$e=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),__glob_0_16=Object.freeze(Object.defineProperty({__proto__:null,default:index$e},Symbol.toStringTag,{value:"Module"}));const _sfc_main$f=create({name:"pie",methods:{updateChart(){const r=this.deepClone(this.dataChart)||[],E={title:this.getOptionTitle(),tooltip:this.getOptionTip(),grid:this.getOptionGrid(),legend:this.getOptionLegend(),series:(()=>(this.option.barColor,[{type:"pie",roseType:this.option.roseType?"radius":"",radius:this.option.radius?["40%","55%"]:"50%",center:["50%","60%"],animationType:"scale",animationEasing:"elasticOut",animationDelay:function(x){return Math.random()*200},label:this.getOptionLabel({formatter:"{b}:{c}({d}%)"}),data:(()=>{let x=r;return this.option.notCount&&(x=x.filter(k=>k.value!==0&&k.value)),this.option.sort&&x.sort((k,p)=>k.value-p.value),x})(),itemStyle:this.getHasProp(!this.switchTheme,{color:x=>this.getColor(x.dataIndex)},{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}})}]))()};this.myChart.resize(),this.myChart.setOption(E,!0)}}}),_hoisted_1$6=["innerHTML"];function _sfc_render$f(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{class:vue.normalizeClass(r.b("title")),innerHTML:r.titleFormatter&&r.titleFormatter(r.dataChart)},null,10,_hoisted_1$6),vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$d=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),__glob_0_17=Object.freeze(Object.defineProperty({__proto__:null,default:index$d},Symbol.toStringTag,{value:"Module"}));const _sfc_main$e=create({name:"progress",computed:{styleSuffixName(){return{fontWeight:this.option.suffixFontWeight||"normal",fontSize:(this.option.suffixFontSize||40)+"px",color:this.option.suffixColor||"#333"}},styleName(){return{fontWeight:this.option.fontWeight||"normal",fontSize:(this.option.fontSize||40)+"px",color:this.option.color||"#333"}},type(){return this.option.type||"line"},color(){return this.option.borderColor||"#333"},defineBackColor(){return this.option.defineBackColor||"#0e222e"},strokeWidth(){return this.option.strokeWidth||14}},props:{option:{type:Object,default:()=>({})}},methods:{}});function _sfc_render$e(r,E,m,x,k,p){const d=vue.resolveComponent("el-progress");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main",onMouseenter:E[0]||(E[0]=(...c)=>r.handleMouseEnter&&r.handleMouseEnter(...c)),onMouseleave:E[1]||(E[1]=(...c)=>r.handleMouseLeave&&r.handleMouseLeave(...c)),onDblclick:E[2]||(E[2]=(...c)=>r.handleDblClick&&r.handleDblClick(...c)),onClick:E[3]||(E[3]=(...c)=>r.handleClick&&r.handleClick(...c))},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.styleChartName)},[vue.createElementVNode("div",{class:vue.normalizeClass(r.b("text",{line:r.type==="line",circle:r.type==="circle"}))},[vue.createElementVNode("p",{style:vue.normalizeStyle(r.styleSuffixName)},vue.toDisplayString(r.dataChart.label),5),vue.createElementVNode("p",{style:vue.normalizeStyle(r.styleName)},vue.toDisplayString(r.dataChart.value),5)],2),vue.createVNode(d,{color:r.color,width:r.width,"stroke-linecap":"butt","define-back-color":r.defineBackColor,showText:!1,strokeWidth:r.strokeWidth,percentage:r.dataChart.data,type:r.type},null,8,["color","width","define-back-color","strokeWidth","percentage","type"])],4)],38)}var index$c=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),__glob_0_18=Object.freeze(Object.defineProperty({__proto__:null,default:index$c},Symbol.toStringTag,{value:"Module"}));const _sfc_main$d=create({name:"radar",x2(){return this.option.gridX2||"80%"},methods:{updateChart(){const r=this.deepClone(this.dataChart);let E=r.series||[];E=E[0]||{},E=E.data||[];const m={title:this.getOptionTitle(),tooltip:this.getOptionTip(),grid:this.getOptionGrid(),legend:this.getOptionLegend(E),radar:{name:{fontSize:this.option.fontSize||12,color:this.option.color||"#fff"},indicator:r.indicator||[],shape:this.option.shape||"polygon",radius:this.option.radius||"75%",triggerEvent:!0},series:(()=>(this.option.barColor,[{type:"radar",barWidth:this.option.barWidth||16,barMinHeight:this.option.barMinHeight||0,itemStyle:{barBorderRadius:this.option.barRadius||0},data:E.map((k,p)=>({name:k.name,value:k.value,label:this.getOptionLabel(),areaStyle:{opacity:this.option.areaOpacity||.9}}))}]))()};this.myChart.resize(),this.myChart.setOption(m,!0)}}});function _sfc_render$d(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$b=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),__glob_0_19=Object.freeze(Object.defineProperty({__proto__:null,default:index$b},Symbol.toStringTag,{value:"Module"}));const _sfc_main$c=create({name:"rectangle",methods:{updateChart(){const r=this.deepClone(this.dataChart),E={tooltip:this.getOptionTip(),series:{type:"treemap",data:r,label:this.getOptionLabel()}};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$c(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$a=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),__glob_0_20=Object.freeze(Object.defineProperty({__proto__:null,default:index$a},Symbol.toStringTag,{value:"Module"}));const _sfc_main$b=create({name:"scatter",methods:{updateChart(){const r=this.deepClone(this.dataChart),E={title:this.getOptionTitle(),tooltip:this.getOptionTip(),grid:this.getOptionGrid(),xAxis:{show:this.validData(this.option.xAxisShow,!0),name:this.option.xAxisName,nameTextStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14},axisLine:{show:!0,lineStyle:{color:this.option.xAxisLineColor||"#fff"}},inverse:this.validData(this.option.xAxisInverse,!1),splitLine:{show:this.validData(this.option.xAxisSplitLineShow,!0)},axisLabel:{interval:this.option.xAxisInterval||"auto",rotate:this.option.xAxisRotate||0,textStyle:{color:this.option.xAxisColor||"#fff",fontSize:this.option.xAxisFontSize||14}}},yAxis:{show:this.validData(this.option.yAxisShow,!0),name:this.option.yAxisName,nameTextStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14},axisLabel:{textStyle:{color:this.option.yAxisColor||"#fff",fontSize:this.option.yAxisFontSize||14}},axisLine:{show:!0,lineStyle:{color:this.option.yAxisLineColor||"#fff"}},inverse:this.validData(this.option.yAxisInverse,!1),splitLine:{show:this.validData(this.option.yAxisSplitLineShow,!0)}},series:(()=>(this.option.barColor,(r||[]).map((x,k)=>Object.assign(x,{type:"scatter",symbolSize:this.option.symbolSize||10,itemStyle:{color:this.getColor(k)},label:this.getOptionLabel()}))))()};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$b(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$9=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),__glob_0_21=Object.freeze(Object.defineProperty({__proto__:null,default:index$9},Symbol.toStringTag,{value:"Module"}));const _sfc_main$a=create({name:"swiper",data(){return{typeList:{img:/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)/,video:/\.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|ogg|mp4)/}}},computed:{hlsOption(){return{autoplay:this.option.autoplay}},params(){let r={};return this.option.controls&&(r.controls="controls"),this.option.loop&&(r.loop="loop"),this.option.autoplay&&(r.autoplay="autoplay"),r},styleName(){return{width:"100%",height:"100%",opacity:this.opacity}},indicator(){return this.opacity.indicator||"none"},opacity(){return(this.option.opacity||100)*.01},type(){return this.option.type||""},interval(){return this.option.interval||5e3}},created(){},mounted(){},methods:{},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1$5=["src"],_hoisted_2$3=["src"];function _sfc_render$a(r,E,m,x,k,p){const d=vue.resolveComponent("avue-echart-clapper"),c=vue.resolveComponent("avue-echart-iframe"),f=vue.resolveComponent("el-carousel-item"),n=vue.resolveComponent("el-carousel");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main"},[vue.createVNode(n,{style:vue.normalizeStyle(r.styleChartName),type:r.type,"indicator-position":r.indicator,interval:r.interval,height:r.height},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.dataChart,(e,o)=>(vue.openBlock(),vue.createBlock(f,{key:o,onMouseenter:t=>r.handleMouseEnter(e,o),onMouseleave:t=>r.handleMouseLeave(e,o),onDblclick:t=>r.handleDblClick(e,o),onClick:t=>r.handleClick(e,o)},{default:vue.withCtx(()=>[r.typeList.img.test(e.value)?(vue.openBlock(),vue.createElementBlock("img",{key:0,src:e.value,draggable:"false",style:vue.normalizeStyle(r.styleName)},null,12,_hoisted_1$5)):r.typeList.video.test(e.value)?(vue.openBlock(),vue.createElementBlock("video",vue.mergeProps({key:1,muted:""},r.params,{src:e.value,style:r.styleName}),null,16,_hoisted_2$3)):e.type=="hls"?(vue.openBlock(),vue.createBlock(d,{width:r.width,height:r.height,key:o,data:{value:e.value},option:r.hlsOption},null,8,["width","height","data","option"])):e.type=="iframe"?(vue.openBlock(),vue.createBlock(c,{key:3,width:r.width,height:r.height,data:{value:e.value}},null,8,["width","height","data"])):vue.createCommentVNode("",!0)]),_:2},1032,["onMouseenter","onMouseleave","onDblclick","onClick"]))),128))]),_:1},8,["style","type","indicator-position","interval","height"])],6)}var index$8=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),__glob_0_22=Object.freeze(Object.defineProperty({__proto__:null,default:index$8},Symbol.toStringTag,{value:"Module"}));const _sfc_main$9=create({name:"table",data(){return{reload:!0,headerHeight:"",scrollCheck:""}},watch:{"option.column"(){this.reload=!1,this.$nextTick(()=>{this.reload=!0})},scrollSpeed(){this.setTime()},scroll:{handler(){this.setTime()}}},computed:{showHeader(){return this.option.showHeader},scrollTime(){return this.option.scrollTime},scrollSpeed(){return this.option.scrollSpeed||1},scroll(){return this.option.scroll},cellHeight(){return parseInt((this.height-this.headerHeight)/this.option.count)}},props:{option:{type:Object,default:()=>({})}},created(){this.$nextTick(()=>{this.headerHeight=this.$refs.table.$refs.headerWrapper?parseInt(this.$refs.table.$refs.headerWrapper.clientHeight):0,setTimeout(()=>{this.setTime()},this.scrollTime)})},methods:{getFormatter(r,E){return getFunction(r.formatter)(r,E)},handleMouseOver(){clearInterval(this.scrollCheck)},handleMouseLeave(){this.handleCommonBind(null,null,"mouseLeaveFormatter"),this.setTime()},cellClick(r,E,m,x){this.handleCommonBind(r,E,"clickFormatter")},cellDblClick(r,E,m,x){this.handleCommonBind(r,E,"dblClickFormatter")},setTime(){clearInterval(this.scrollCheck),this.headerHeight=this.$refs.table.$refs.headerWrapper?parseInt(this.$refs.table.$refs.headerWrapper.clientHeight):0;const E=this.$refs.table.$refs.bodyWrapper.querySelector(".el-scrollbar__wrap"),m=this.scrollSpeed;let x=0;this.scroll?this.scrollCheck=setInterval(()=>{x=x+m,E.scrollTop+=m,E.clientHeight+E.scrollTop==E.scrollHeight&&(E.scrollTop=0),x>=this.cellHeight&&this.scrollTime&&(E.scrollTop=E.scrollTop-(x-this.cellHeight),clearInterval(this.scrollCheck),setTimeout(()=>{this.setTime()},this.scrollTime))},20):E.scrollTop=0},cellStyle({row:r,column:E,rowIndex:m,columnIndex:x}){return{padding:0,height:this.setPx(this.cellHeight),fontSize:this.setPx(this.option.bodyFontSize),color:this.option.bodyColor,textAlign:E.type=="index"?"center":this.option.bodyTextAlign,backgroundColor:m%2==0?this.option.othColor:this.option.nthColor}},rowStyle({rowIndex:r}){return{backgroundColor:"transparent"}},headerRowStyle(){return{backgroundColor:this.option.headerBackground}},headerCellStyle({row:r,column:E,rowIndex:m,columnIndex:x}){return{fontSize:this.setPx(this.option.headerFontSize),backgroundColor:this.option.headerBackground,color:this.option.headerColor,textAlign:E.type=="index"?"center":this.option.headerTextAlign}}}}),_hoisted_1$4=["innerHTML"],_hoisted_2$2={key:1};function _sfc_render$9(r,E,m,x,k,p){const d=vue.resolveComponent("el-table-column"),c=vue.resolveComponent("el-table");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),onMouseenter:E[0]||(E[0]=(...f)=>r.handleMouseEnter&&r.handleMouseEnter(...f)),onMouseover:E[1]||(E[1]=(...f)=>r.handleMouseOver&&r.handleMouseOver(...f)),onMouseleave:E[2]||(E[2]=(...f)=>r.handleMouseLeave&&r.handleMouseLeave(...f))},[vue.createVNode(c,{style:vue.normalizeStyle(r.styleChartName),ref:"table",onCellClick:r.cellClick,onCellDblclick:r.cellDblClick,data:r.dataChart,height:r.height,border:r.option.border,cellStyle:r.cellStyle,"row-style":r.rowStyle,"show-header":r.showHeader,"header-row-style":r.headerRowStyle,"header-cell-style":r.headerCellStyle},{default:vue.withCtx(()=>[r.option.index?(vue.openBlock(),vue.createBlock(d,{key:0,type:"index",label:"#","header-align":"center",align:"center",width:"60"},{default:vue.withCtx(({$index:f})=>[vue.createElementVNode("span",null,vue.toDisplayString(f+1),1)]),_:1})):vue.createCommentVNode("",!0),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.option.column,(f,n)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[f.hide!==!0?(vue.openBlock(),vue.createBlock(d,{"show-overflow-tooltip":"",key:n,prop:f.prop,label:f.label,width:f.width},{default:vue.withCtx(({row:e})=>[f.formatter&&r.reload?(vue.openBlock(),vue.createElementBlock("span",{key:0,innerHTML:r.getFormatter(f,e)},null,8,_hoisted_1$4)):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$2,vue.toDisplayString(e[f.prop]),1))]),_:2},1032,["prop","label","width"])):vue.createCommentVNode("",!0)],64))),256))]),_:1},8,["style","onCellClick","onCellDblclick","data","height","border","cellStyle","row-style","show-header","header-row-style","header-cell-style"])],38)}var index$7=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),__glob_0_23=Object.freeze(Object.defineProperty({__proto__:null,default:index$7},Symbol.toStringTag,{value:"Module"}));const _sfc_main$8=create({name:"tabs",data(){return{active:""}},watch:{dataChart:{handler(r){r.length!==0&&this.handleClick(r[0],0,!0)},immediate:!0}},computed:{isSelect(){return this.type==="select"},type(){return this.option.type},iconSize(){return this.option.iconSize||20},styleSelectName(){return Object.assign({fontSize:this.setPx(this.option.fontSize||30)},this.styleSizeName)},styleIconName(){return Object.assign({marginRight:this.setPx(this.option.iconSplit),width:this.setPx(this.option.iconSize),height:this.setPx(this.option.iconSize)})},styleName(){return Object.assign((()=>this.option.backgroundImage?{backgroundImage:`url(${this.option.backgroundImage})`,backgroundSize:"100% 100%"}:{})(),{borderColor:this.option.borderColor||"#fff",borderStyle:"solid",borderWidth:this.setPx(this.option.borderWidth||0),margin:`0 ${this.setPx(this.option.split)}`,backgroundColor:this.option.backgroundColor,fontSize:this.setPx(this.option.fontSize||30),color:this.option.color})}},methods:{styleIconBgName(r){if(r.icon)return{backgroundImage:`url(${r.icon})`,backgroundSize:"100% 100%"}},styleIconActiveName(r){if(this.active==r.value&&r.empIcon)return{backgroundImage:`url(${r.empIcon})`,backgroundSize:"100% 100%"}},styleActiveName(r){if(this.active==r.value)return Object.assign((()=>this.option.empBackgroundImage?{backgroundImage:`url(${this.option.empBackgroundImage})`,backgroundSize:"100% 100%"}:{})(),{borderColor:this.option.empBorderColor||"#fff",borderStyle:"solid",borderWidth:this.setPx(this.option.empBorderWidth||0),color:this.option.empColor})},handleSelectChange(r){this.handleClick(r)},handleClick(r,E,m=!1){this.active=r.value,this.handleCommonBind(r,E,"clickFormatter"),r.href&&!m&&window.open(r.href,r.target)}},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1$3=["onMouseenter","onMouseleave","onDblclick","onClick"];function _sfc_render$8(r,E,m,x,k,p){const d=vue.resolveComponent("avue-select");return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main"},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.styleChartName)},[r.isSelect?(vue.openBlock(),vue.createBlock(d,{key:0,dic:typeof r.dataChart=="string"?[]:r.dataChart,style:vue.normalizeStyle(r.styleSelectName),onChange:r.handleSelectChange,modelValue:r.active,"onUpdate:modelValue":E[0]||(E[0]=c=>r.active=c)},null,8,["dic","style","onChange","modelValue"])):(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(r.b("list"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.dataChart,(c,f)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(r.b("item")),style:vue.normalizeStyle([r.styleName,r.styleActiveName(c)]),key:f,onMouseenter:n=>r.handleMouseEnter(c,f),onMouseleave:n=>r.handleMouseLeave(c,f),onDblclick:n=>r.handleDblClick(c,f),onClick:n=>r.handleClick(c,f)},[c.icon?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(r.b("icon")),style:vue.normalizeStyle([r.styleIconName,r.styleIconBgName(c),r.styleIconActiveName(c)])},null,6)):vue.createCommentVNode("",!0),vue.createElementVNode("span",null,vue.toDisplayString(c.label),1)],46,_hoisted_1$3))),128))],2))],4)],6)}var index$6=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),__glob_0_24=Object.freeze(Object.defineProperty({__proto__:null,default:index$6},Symbol.toStringTag,{value:"Module"}));const _sfc_main$7=create({name:"text",data(){return{check:"",date:new Date,left:0}},computed:{scroll(){return this.validData(this.option.scroll,!1)},linkHref(){return this.option.linkHref||"#"},linkTarget(){return this.option.linkTarget||"_self"},step(){return this.option.step||5},speed(){return this.option.speed||100},lineHeight(){return this.option.lineHeight||40},fontSize(){return this.option.fontSize||30},fontFamily(){return this.option.fontFamily},split(){return this.option.split},textWidth(){return(this.dataChart.value||"").length*this.fontSize},styleName(){return Object.assign({width:this.scroll?this.setPx(this.textWidth):"auto",transform:"translateX("+this.left+"px)",textAlign:this.option.textAlign,letterSpacing:this.setPx(this.split),textIndent:this.setPx(this.split),backgroundColor:this.option.backgroundColor,fontWeight:this.option.fontWeight||"normal",fontFamily:this.fontFamily,fontSize:this.fontSize+"px",lineHeight:this.lineHeight+"px",color:this.option.color||"#333"},this.styles)}},watch:{scroll(){this.move()},speed(){this.move()}},created(){setInterval(()=>{this.date=new Date},1e3)},mounted(){this.move()},methods:{move(){clearInterval(this.check),this.scroll?this.check=setInterval(()=>{this.left<-this.textWidth&&(this.left=this.width),this.left=this.left-this.step},this.speed):this.left=0}},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1$2=["href","target"];function _sfc_render$7(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main",onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("div",{style:vue.normalizeStyle(r.styleChartName),ref:"box",class:vue.normalizeClass(r.b("box"))},[vue.createElementVNode("a",{ref:"text",class:vue.normalizeClass(r.b("text")),href:r.linkHref,style:vue.normalizeStyle(r.styleName),target:r.linkTarget},vue.toDisplayString(r.dataChart.value),15,_hoisted_1$2)],6)],38)}var index$5=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),__glob_0_25=Object.freeze(Object.defineProperty({__proto__:null,default:index$5},Symbol.toStringTag,{value:"Module"}));const _sfc_main$6=create({name:"time",data(){return{check:null}},computed:{time(){return this.option.time}},watch:{time:{handler(r){r>0?setTimeout(()=>{this.startTime()},1e3):this.stopTime()},immediate:!0}},created(){},mounted(){this.echartFormatter&&this.echartFormatter(this.getItemRefs())},methods:{startTime(){this.stopTime(),this.check=setInterval(()=>{this.echartFormatter&&this.echartFormatter(this.getItemRefs())},this.time)},stopTime(){clearInterval(this.check)}},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1$1=vue.createElementVNode("i",{class:"iconfont icon-datetime"},null,-1),_hoisted_2$1=[_hoisted_1$1];function _sfc_render$6(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main"},_hoisted_2$1,6)}var index$4=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),__glob_0_26=Object.freeze(Object.defineProperty({__proto__:null,default:index$4},Symbol.toStringTag,{value:"Module"}));const _sfc_main$5=create({name:"video",data(){return{}},computed:{poster(){return this.option.poster?"-":""},params(){let r={};return this.option.controls&&(r.controls="controls"),this.option.loop&&(r.loop="loop"),this.option.autoplay&&(r.autoplay="autoplay"),r}},created(){},mounted(){},methods:{},props:{option:{type:Object,default:()=>({})}}}),_hoisted_1=["width","height","src","poster"],_hoisted_2=["src"];function _sfc_render$5(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName),ref:"main",onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),onClick:E[3]||(E[3]=(...d)=>r.handleClick&&r.handleClick(...d))},[vue.createElementVNode("video",vue.mergeProps({style:r.styleChartName,muted:"",width:r.width,height:r.height,src:r.dataChart.value},r.params,{poster:r.poster,style:{"object-fit":"fill"}}),null,16,_hoisted_1),r.option.poster?(vue.openBlock(),vue.createElementBlock("img",{key:0,src:r.option.poster,alt:"",style:vue.normalizeStyle(r.styleSizeName),class:vue.normalizeClass(r.b("img"))},null,14,_hoisted_2)):vue.createCommentVNode("",!0)],38)}var index$3=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),__glob_0_27=Object.freeze(Object.defineProperty({__proto__:null,default:index$3},Symbol.toStringTag,{value:"Module"}));const _sfc_main$4=create({name:"vue",data(){return{reload:!1}},watch:{content(){this.initVue()}},computed:{content(){return this.option.content}},mounted(){this.initVue()},methods:{initVue(){this.reload=!1;let r=this.getSource("template");if(!r)return;let E=this.getSource("script");E&&(E=E.replace(/export default/,"return"));let m=this.getSource("style"),x="style-"+this.id;document.getElementById(x)&&document.getElementById(x).remove();let k=document.createElement("style");k.id=x,k.innerHTML=m,document.head.appendChild(k);let p=new Function(E)();p.template=r,p.props={dataChart:Object,refList:Array},this.$component(this.id,p),this.$nextTick(()=>{this.reload=!0})},getSource(r){const E=new RegExp(`<${r}[^>]*>`);let m=this.content,x=m.match(E);if(x){let k=m.indexOf(x[0])+x[0].length,p=m.lastIndexOf(`</${r}`);return m.slice(k,p)}}}});function _sfc_render$4(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),onMouseenter:E[0]||(E[0]=(...d)=>r.handleMouseEnter&&r.handleMouseEnter(...d)),onMouseleave:E[1]||(E[1]=(...d)=>r.handleMouseLeave&&r.handleMouseLeave(...d)),onDblclick:E[2]||(E[2]=(...d)=>r.handleDblClick&&r.handleDblClick(...d)),style:vue.normalizeStyle([r.styleSizeName])},[r.reload?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.id),{key:0,ref:"main",style:vue.normalizeStyle(r.styleChartName),onClick:vue.withModifiers(r.handleClick,["self"]),refList:r.refList,dataChart:r.dataChart},null,8,["style","onClick","refList","dataChart"])):vue.createCommentVNode("",!0)],38)}var index$2=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),__glob_0_28=Object.freeze(Object.defineProperty({__proto__:null,default:index$2},Symbol.toStringTag,{value:"Module"}));const _sfc_main$3=create({name:"wordcloud",methods:{updateChart(){const r=this.deepClone(this.dataChart)||[],E={series:[{type:"wordCloud",shape:"circle",left:"center",top:"center",width:"100%",height:"100%",right:null,bottom:null,sizeRange:(()=>[this.option.minFontSize||12,this.option.maxFontSize||60])(),rotationRange:(()=>this.option.rotate?[-90,90]:[0,0])(),rotationStep:(()=>this.option.rotate?45:0)(),gridSize:this.option.split||30,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{normal:{fontFamily:"sans-serif",fontWeight:"bold",color:function(){return"rgb("+[Math.round(Math.random()*160),Math.round(Math.random()*160),Math.round(Math.random()*160)].join(",")+")"}},emphasis:{focus:"self",textStyle:{shadowBlur:10,shadowColor:"#333"}}},data:r}]};this.myChart.resize(),this.myChart.setOption(E,!0)}}});function _sfc_render$3(r,E,m,x,k,p){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.b(),r.className]),style:vue.normalizeStyle(r.styleSizeName)},[vue.createElementVNode("div",{ref:r.id,style:vue.normalizeStyle(r.styleChartName)},null,4)],6)}var index$1=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),__glob_0_29=Object.freeze(Object.defineProperty({__proto__:null,default:index$1},Symbol.toStringTag,{value:"Module"}));let requireComponent={"./packages/bar/index.vue":__glob_0_0,"./packages/borderBox/index.vue":__glob_0_1,"./packages/clappr/index.vue":__glob_0_2,"./packages/common/index.vue":__glob_0_3,"./packages/data/index.vue":__glob_0_4,"./packages/datav/index.vue":__glob_0_5,"./packages/datetime/index.vue":__glob_0_6,"./packages/decoration/index.vue":__glob_0_7,"./packages/flop/index.vue":__glob_0_8,"./packages/funnel/index.vue":__glob_0_9,"./packages/gauge/index.vue":__glob_0_10,"./packages/iframe/index.vue":__glob_0_11,"./packages/img/index.vue":__glob_0_12,"./packages/imgBorder/index.vue":__glob_0_13,"./packages/line/index.vue":__glob_0_14,"./packages/map/index.vue":__glob_0_15,"./packages/pictorialBar/index.vue":__glob_0_16,"./packages/pie/index.vue":__glob_0_17,"./packages/progress/index.vue":__glob_0_18,"./packages/radar/index.vue":__glob_0_19,"./packages/rectangle/index.vue":__glob_0_20,"./packages/scatter/index.vue":__glob_0_21,"./packages/swiper/index.vue":__glob_0_22,"./packages/table/index.vue":__glob_0_23,"./packages/tabs/index.vue":__glob_0_24,"./packages/text/index.vue":__glob_0_25,"./packages/time/index.vue":__glob_0_26,"./packages/video/index.vue":__glob_0_27,"./packages/vue/index.vue":__glob_0_28,"./packages/wordCloud/index.vue":__glob_0_29},components={};Object.keys(requireComponent).forEach(r=>{const E=requireComponent[r].default;components[E.name]=E});const _sfc_main$2={name:"subgroup",inject:["contain","container"],provide(){return{contain:this.contain,container:this.container}},components:Object.assign(components$1,{folder}),props:{nav:{type:Array,default:()=>[]}},data(){return{sqlFormatter:dynamicSql,recordFormatter:getObj$1,common:common$1}},created(){this.init()},methods:{init(){Object.keys(components).map(r=>{let E=components[r];this.$component(E.name,E)}),this.getFunction=getFunction},handleRefresh(){let r=this.getItemRef();return r?r.updateData():Promise.resolve()},getItemRef(r){return r=r||this.contain.activeIndex,(this.$refs[`${this.common.NAME}${r}`]||[])[0]},getListRef(r){return(this.$refs[`${this.common.DEAFNAME}${r}`]||[])[0]},getDisplay(r){return!this.container.isBuild&&["time","data"].includes(r.component.prop)?!1:!r.display},handleMove({index:r,left:E,top:m}){this.contain.activeIndex===r&&this.contain.activeList.forEach(x=>{this.contain.activeIndex!==x.index&&(x.left=x.left+E,x.top=x.top+m)})},handleOver({index:r}){this.contain.activeOverIndex=r},handleFocus({index:r}){this.container.gradeFlag=!0,this.contain.selectNav(r)},handleBlur({index:r,left:E,top:m,width:x,height:k}){r===this.contain.activeIndex&&(this.container.gradeFlag=!1,this.contain.activeObj.component.width=x,this.contain.activeObj.component.height=k,this.contain.activeObj.left=E,this.contain.activeObj.top=m)}}};function _sfc_render$2(r,E,m,x,k,p){const d=vue.resolveComponent("avue-draggable"),c=vue.resolveComponent("subgroup",!0),f=vue.resolveComponent("folder"),n=vue.resolveDirective("contextmenu");return vue.openBlock(),vue.createElementBlock("div",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(m.nav,e=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[e.children?(vue.openBlock(),vue.createBlock(f,{key:e.index,item:e,ref_for:!0,ref:k.common.NAME+e.index},null,8,["item"])):vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",{key:e.index},[vue.withDirectives(vue.createVNode(d,vue.mergeProps(e,{range:!p.contain.isSelectActive,line:!p.contain.isSelectActive,scale:p.container.stepScale,disabled:!p.contain.menuFlag,step:p.container.stepScale,width:e.component.width,height:e.component.height,ref_for:!0,ref:k.common.DEAFNAME+e.index,id:k.common.DEAFNAME+e.index,"active-flag":p.contain.active.includes(e.index),onMove:p.handleMove,onOver:p.handleOver,onFocus:p.handleFocus,onBlur:p.handleBlur}),{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(k.common.COMPNAME+e.component.name),vue.mergeProps({ref_for:!0,ref:k.common.NAME+e.index,id:k.common.NAME+e.index},e,{component:e.component,"data-formatter":r.getFunction(e.dataFormatter),"click-formatter":r.getFunction(e.clickFormatter,!0),"dbl-click-formatter":r.getFunction(e.dblClickFormatter,!0),"mouse-enter-formatter":r.getFunction(e.mouseEnterFormatter,!0),"mouse-leave-formatter":r.getFunction(e.mouseLeaveFormatter,!0),"echart-formatter":r.getFunction(e.echartFormatter),"label-formatter":r.getFunction(e.labelFormatter),"styles-formatter":r.getFunction(e.stylesFormatter),formatter:r.getFunction(e.formatter),"sql-formatter":k.sqlFormatter,"record-formatter":k.recordFormatter,width:e.component.width,height:e.component.height,disabled:!p.contain.menuFlag,scale:p.container.stepScale,title:""}),null,16,["id","component","data-formatter","click-formatter","dbl-click-formatter","mouse-enter-formatter","mouse-leave-formatter","echart-formatter","label-formatter","styles-formatter","formatter","sql-formatter","record-formatter","width","height","disabled","scale"]))]),_:2},1040,["range","line","scale","disabled","step","width","height","id","active-flag","onMove","onOver","onFocus","onBlur"]),[[vue.vShow,p.getDisplay(e)]]),vue.createVNode(c,{nav:e.children},null,8,["nav"])])),[[n,{id:p.contain.menuId,event:p.contain.handleContextMenu,value:e}]])],64))),256))])}var subgroup=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]);const getObj=r=>axios__default.default({url:url+"/visual/detail",method:"get",params:{id:r}});var container_vue_vue_type_style_index_0_lang="";const _sfc_main$1={name:"contents",inject:["contain"],props:{target:String,option:Object,id:[String,Number]},provide(){return{contain:this.contain,container:this}},components:{subgroup,wechat},data(){return{select:{startX:"",startY:"",endX:"",endY:"",show:!1},selectCount:{x1:null,x2:null,y1:null,y2:null},wrapperStyle:{},gradeFlag:!1}},computed:{selectStyle(){let r=this.select.endX-this.select.startX,E=this.select.endY-this.select.startY;return{top:this.setPx(E>0?this.select.startY:this.select.endY),left:this.setPx(r>0?this.select.startX:this.select.endX),width:this.setPx(Math.abs(r)),height:this.setPx(Math.abs(E)),display:this.select.show?"block":"none"}},stepScale(){return Number(100/(this.contain.scale*100))},containerStyle(){const r=this.contain.width/this.contain.config.width,E=this.contain.height/this.contain.config.height;let m=r,x=r;if(this.isBuild)m=1,x=1;else{let k=this.contain.config.screen;k=="x"?this.contain.viewStyle={"overflow-y":"auto"}:k=="y"?(m=E,x=E,this.contain.viewStyle={"overflow-x":"auto"}):k=="xy"&&(m=r,x=E)}return this.wrapperStyle={width:this.setPx(this.contain.config.width*m),height:this.setPx(this.contain.config.height*x)},Object.assign({transform:`scale(${m}, ${x})`,width:this.setPx(this.contain.config.width),height:this.setPx(this.contain.config.height),backgroundColor:this.contain.config.backgroundColor},(()=>{if(this.contain.config.backgroundImage)return{background:`url(${this.contain.config.backgroundImage}) 0% 0% / 100% 100% rgb(3, 12, 59)`}})())},gradeLenStyle(){return{backgroundSize:`${this.setPx(this.contain.config.gradeLen)} ${this.setPx(this.contain.config.gradeLen)},${this.setPx(this.contain.config.gradeLen)} ${this.setPx(this.contain.config.gradeLen)}`}},isBuild(){return this.$route?this.$route.name==="build":!1}},mounted(){this.initData(),this.initFun(),window.onresize=()=>{this.setScale()}},methods:{dragMousedown(r){this.contain.handleInitActive(),this.select.startX=r.offsetX,this.select.startY=r.offsetY,this.select.endX=this.select.startX,this.select.endY=this.select.startY,this.select.show=!0},dragMousemove(r){!this.select.show||(this.select.endX=r.offsetX,this.select.endY=r.offsetY)},dragMouseup(r){if(this.select.show){let E=[];this.contain.list.forEach(m=>{let x=m.left>=this.select.startX&&m.left<=this.select.endX,k=m.top>=this.select.endX&&m.top<=this.select.endY;(x||k)&&E.push(m.index)}),this.contain.selectNav(E),this.select.show=!1}},getTargetDom(){let r=this.target||(this.isBuild?"#section":"body");return document.querySelector(r)},initFun(){["handleRefresh","getListRef","getItemRef"].forEach(r=>{this[r]=this.$refs.subgroup[r]})},initData(){const r=this.id||this.$route&&this.$route.params.id;let E;const m=()=>{let x=this.contain.config.mark;x.show&&!this.isBuild&&this.$Watermark(Object.assign(x,{fontSize:x.fontSize+"px"})),this.calcData(),this.setScale()};if(r){const x=this.$loading({lock:!0,text:"\u6B63\u5728\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u540E",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});getObj(r).then(k=>{const p=k.data.data;this.contain.obj=p,E=p.config;const d={config:JSON.parse(E.detail)||{},component:JSON.parse(E.component)||[]};if(this.contain.config=Object.assign({},config$1,d.config),this.contain.nav=d.component,this.contain.visual=p.visual,document.title=this.$website.title+"-"+p.visual.title,this.isBuild)m();else{const c=this.contain.visual.password;this.contain.visual.status==0?this.$alert("\u5927\u5C4F\u8FD8\u6CA1\u6709\u53D1\u5E03\uFF0C\u665A\u4E00\u70B9\u518D\u6765\u5427\uFF01","\u63D0\u793A",{showClose:!1,center:!0,showConfirmButton:!1}):this.validatenull(c)?m():this.$prompt("\u8BF7\u8F93\u5165\u5BC6\u7801","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",showCancelButton:!1,showClose:!1,closeOnClickModal:!1,inputPattern:new RegExp(c),inputErrorMessage:"\u5BC6\u7801\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"}).then(()=>{m()})}x.close()}).catch(k=>{console.log(k),m(),x.close()})}else this.option?(E=this.option,this.contain.config=E.detail||{},this.contain.nav=E.component||[],m()):this.setScale()},setScale(r){const E=this.contain.thick||0;this.contain.canvasWidth=this.contain.config.width,this.contain.canvasHeight=this.contain.config.height,this.contain.width=this.getTargetDom().offsetWidth-E,this.contain.height=this.getTargetDom().offsetHeight-E,this.contain.scale=this.contain.width/this.contain.config.width-.02,this.$nextTick(()=>{this.contain.initSize&&this.contain.initSize()})},calcData(){this.contain.config.mark||(this.contain.config.mark={}),this.contain.config.query||(this.contain.config.query={})},handlePostionSelect(r){this.contain.activeIndex=null,this.handleCalcPostionSelect();const E=this.selectCount.x1,m=this.selectCount.x2,x=this.selectCount.y1,k=this.selectCount.y2;r==="left"?this.handleMoveSelectList(E,void 0,!0,r):r==="center"?this.handleMoveSelectList(E+(m-E)/2,void 0,!0,r):r==="right"?this.handleMoveSelectList(m,void 0,!0,r):r==="top"?this.handleMoveSelectList(void 0,x,!0,r):r==="middle"?this.handleMoveSelectList(void 0,x+(k-x)/2,!0,r):r==="bottom"&&this.handleMoveSelectList(void 0,k,!0,r)},handleMoveSelectList(r,E,m,x){this.contain.active.forEach(k=>{let p=this.contain.findList(k);const d=p.component;if(r){let c=Number(m?r:(p.left+r).toFixed(2));if(x==="right")c=c-d.width;else if(x==="center"){const f=p.left+d.width/2;c=p.left+(r-f)}p.left=c}if(E){let c=Number(m?E:(p.top+E).toFixed(2));if(x==="bottom")c=c-d.height;else if(x==="middle"){const f=p.top+d.height/2;c=p.top+(E-f)}p.top=c}})},handleCalcPostionSelect(){this.selectCount={x1:null,x2:null,y1:null,y2:null},this.contain.active.forEach(r=>{r=this.contain.findList(r);const E=r.left,m=r.top,x=r.component.width,k=r.component.height;this.selectCount.x1||(this.selectCount={x1:E,x2:E+x,y1:m,y2:m+k}),this.selectCount.x1>E&&(this.selectCount.x1=E),this.selectCount.x2<E+x&&(this.selectCount.x2=E+x),this.selectCount.y1>m&&(this.selectCount.y1=m),this.selectCount.y2<m+k&&(this.selectCount.y2=m+k)})}}};function _sfc_render$1(r,E,m,x,k,p){const d=vue.resolveComponent("subgroup"),c=vue.resolveComponent("wechat");return vue.openBlock(),vue.createElementBlock("div",{class:"wrapper",style:vue.normalizeStyle(k.wrapperStyle)},[vue.createElementVNode("div",{class:"container",style:vue.normalizeStyle(p.containerStyle),id:"container",onMousedown:E[0]||(E[0]=f=>p.contain.handleInitActive()),ref:"container"},[vue.createElementVNode("div",{class:"refer-select",style:vue.normalizeStyle(p.selectStyle)},null,4),k.gradeFlag||p.contain.config.gradeShow?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:"grade",style:vue.normalizeStyle(p.gradeLenStyle)},null,4)):vue.createCommentVNode("",!0),vue.createVNode(d,{ref:"subgroup",nav:p.contain.list},null,8,["nav"])],36),vue.createVNode(c,{ref:"wechat"},null,512)],4)}var container=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]);const getList=r=>axios__default.default({url:url+"/map/list",method:"get",params:r});var init={components:{container},provide(){return{main:this,contain:this}},data(){return{DIC:{MAP:[]},canvasWidth:0,canvasHeight:0,width:0,height:0,config:config$1,obj:{},visual:{},nav:[],common:common$1,active:[],activeIndex:null,activeOverIndex:null,configData:["header","query"]}},watch:{config:{handler(r){this.configData.forEach(E=>{let m=getFunction(r[E],!0);window.$glob[E]=typeof m=="function"&&m()||{},delete window.$glob[E][""]}),window.$glob.url=r.url},deep:!0,immediate:!0}},computed:{list(){let r=[];const E=x=>{x.forEach(k=>{r.push(k),k.children&&E(k.children)})};E(this.nav);const m=r.length-1;return r.forEach((x,k)=>x.zIndex=m-k),r}},created(){this.initDic()},methods:{initDic(){getList({current:1,size:100}).then(r=>{const E=r.data.data;this.DIC.MAP=E.records.map(m=>({label:m.name,value:url+"/map/data?id="+m.id}))})},findnav(r){let E={};const m=(x,k,p,d)=>{x.forEach((c,f)=>{r===c.index?E={index:c.index,deep:d,item:c,itemIndex:f,itemLen:x.length-1,itemList:x,parent:k,parentIndex:p}:c.children&&m(c.children,c,f,d+1)})};return m(this.nav,this.nav,0,0),E},findList(r){return this.list.find(E=>E.index==r)||{}},handleInitActive(){this.active=[],this.activeIndex=null}}};const _sfc_main={props:{target:String,option:Object,id:[String,Number]},mixins:[init],data(){return{viewStyle:{}}}};function _sfc_render(r,E,m,x,k,p){const d=vue.resolveComponent("container");return vue.openBlock(),vue.createElementBlock("div",{class:"build views",style:vue.normalizeStyle(k.viewStyle)},[vue.createVNode(d,{id:m.id,target:m.target,option:m.option,ref:"container"},null,8,["id","target","option"])],4)}var view=_export_sfc(_sfc_main,[["render",_sfc_render]]),index={install(r,E){r.config.globalProperties.$component=r.component,r.config.globalProperties.$website=website,r.component("avue-data",view)}};return index});
